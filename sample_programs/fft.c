
// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers\n")
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t param_value);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              unsigned char *data,
                                              int64_t offset, int64_t dim0,
                                              int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                         struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);
struct futhark_u8_3d;
struct futhark_u8_3d *futhark_new_u8_3d(struct futhark_context *ctx, const
                                        uint8_t *data, int64_t dim0,
                                        int64_t dim1, int64_t dim2);
struct futhark_u8_3d *futhark_new_raw_u8_3d(struct futhark_context *ctx, const
                                            unsigned char *data, int64_t offset,
                                            int64_t dim0, int64_t dim1,
                                            int64_t dim2);
int futhark_free_u8_3d(struct futhark_context *ctx, struct futhark_u8_3d *arr);
int futhark_values_u8_3d(struct futhark_context *ctx, struct futhark_u8_3d *arr,
                         uint8_t *data);
unsigned char *futhark_values_raw_u8_3d(struct futhark_context *ctx,
                                        struct futhark_u8_3d *arr);
const int64_t *futhark_shape_u8_3d(struct futhark_context *ctx,
                                   struct futhark_u8_3d *arr);

// Opaque values


// Entry points
int futhark_entry_highpass_filter(struct futhark_context *ctx,
                                  struct futhark_u8_3d **out0, const
                                  int32_t in0, const struct futhark_u8_3d *in1);
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0,
                       struct futhark_f32_2d **out1,
                       struct futhark_f32_2d **out2, const int32_t in0, const
                       struct futhark_u8_3d *in1);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static int lexical_realloc(char **error, unsigned char **ptr, size_t *old_size, size_t new_size) {
  unsigned char *new = realloc(*ptr, new_size);
  if (new == NULL) {
    *error = msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                       (long long) new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

// End of util.h.
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
#include <getopt.h>
#include <ctype.h>
#include <inttypes.h>
#include <unistd.h>
// Start of values.h.

//// Text I/O

typedef int (*writer)(FILE*, const void*);
typedef int (*bin_reader)(void*);
typedef int (*str_reader)(const char *, void*);

struct array_reader {
  char* elems;
  int64_t n_elems_space;
  int64_t elem_size;
  int64_t n_elems_used;
  int64_t *shape;
  str_reader elem_reader;
};

static void skipspaces(FILE *f) {
  int c;
  do {
    c = getc(f);
  } while (isspace(c));

  if (c != EOF) {
    ungetc(c, f);
  }
}

static int constituent(char c) {
  return isalnum(c) || c == '.' || c == '-' || c == '+' || c == '_';
}

// Produces an empty token only on EOF.
static void next_token(FILE *f, char *buf, int bufsize) {
 start:
  skipspaces(f);

  int i = 0;
  while (i < bufsize) {
    int c = getc(f);
    buf[i] = (char)c;

    if (c == EOF) {
      buf[i] = 0;
      return;
    } else if (c == '-' && i == 1 && buf[0] == '-') {
      // Line comment, so skip to end of line and start over.
      for (; c != '\n' && c != EOF; c = getc(f));
      goto start;
    } else if (!constituent((char)c)) {
      if (i == 0) {
        // We permit single-character tokens that are not
        // constituents; this lets things like ']' and ',' be
        // tokens.
        buf[i+1] = 0;
        return;
      } else {
        ungetc(c, f);
        buf[i] = 0;
        return;
      }
    }

    i++;
  }

  buf[bufsize-1] = 0;
}

static int next_token_is(FILE *f, char *buf, int bufsize, const char* expected) {
  next_token(f, buf, bufsize);
  return strcmp(buf, expected) == 0;
}

static void remove_underscores(char *buf) {
  char *w = buf;

  for (char *r = buf; *r; r++) {
    if (*r != '_') {
      *w++ = *r;
    }
  }

  *w++ = 0;
}

static int read_str_elem(char *buf, struct array_reader *reader) {
  int ret;
  if (reader->n_elems_used == reader->n_elems_space) {
    reader->n_elems_space *= 2;
    reader->elems = (char*) realloc(reader->elems,
                                    (size_t)(reader->n_elems_space * reader->elem_size));
  }

  ret = reader->elem_reader(buf, reader->elems + reader->n_elems_used * reader->elem_size);

  if (ret == 0) {
    reader->n_elems_used++;
  }

  return ret;
}

static int read_str_array_elems(FILE *f,
                                char *buf, int bufsize,
                                struct array_reader *reader, int64_t dims) {
  int ret;
  int first = 1;
  char *knows_dimsize = (char*) calloc((size_t)dims, sizeof(char));
  int cur_dim = (int)dims-1;
  int64_t *elems_read_in_dim = (int64_t*) calloc((size_t)dims, sizeof(int64_t));

  while (1) {
    next_token(f, buf, bufsize);

    if (strcmp(buf, "]") == 0) {
      if (knows_dimsize[cur_dim]) {
        if (reader->shape[cur_dim] != elems_read_in_dim[cur_dim]) {
          ret = 1;
          break;
        }
      } else {
        knows_dimsize[cur_dim] = 1;
        reader->shape[cur_dim] = elems_read_in_dim[cur_dim];
      }
      if (cur_dim == 0) {
        ret = 0;
        break;
      } else {
        cur_dim--;
        elems_read_in_dim[cur_dim]++;
      }
    } else if (strcmp(buf, ",") == 0) {
      next_token(f, buf, bufsize);
      if (strcmp(buf, "[") == 0) {
        if (cur_dim == dims - 1) {
          ret = 1;
          break;
        }
        first = 1;
        cur_dim++;
        elems_read_in_dim[cur_dim] = 0;
      } else if (cur_dim == dims - 1) {
        ret = read_str_elem(buf, reader);
        if (ret != 0) {
          break;
        }
        elems_read_in_dim[cur_dim]++;
      } else {
        ret = 1;
        break;
      }
    } else if (strlen(buf) == 0) {
      // EOF
      ret = 1;
      break;
    } else if (first) {
      if (strcmp(buf, "[") == 0) {
        if (cur_dim == dims - 1) {
          ret = 1;
          break;
        }
        cur_dim++;
        elems_read_in_dim[cur_dim] = 0;
      } else {
        ret = read_str_elem(buf, reader);
        if (ret != 0) {
          break;
        }
        elems_read_in_dim[cur_dim]++;
        first = 0;
      }
    } else {
      ret = 1;
      break;
    }
  }

  free(knows_dimsize);
  free(elems_read_in_dim);
  return ret;
}

static int read_str_empty_array(FILE *f, char *buf, int bufsize,
                                const char *type_name, int64_t *shape, int64_t dims) {
  if (strlen(buf) == 0) {
    // EOF
    return 1;
  }

  if (strcmp(buf, "empty") != 0) {
    return 1;
  }

  if (!next_token_is(f, buf, bufsize, "(")) {
    return 1;
  }

  for (int i = 0; i < dims; i++) {
    if (!next_token_is(f, buf, bufsize, "[")) {
      return 1;
    }

    next_token(f, buf, bufsize);

    if (sscanf(buf, "%"SCNu64, (uint64_t*)&shape[i]) != 1) {
      return 1;
    }

    if (!next_token_is(f, buf, bufsize, "]")) {
      return 1;
    }
  }

  if (!next_token_is(f, buf, bufsize, type_name)) {
    return 1;
  }


  if (!next_token_is(f, buf, bufsize, ")")) {
    return 1;
  }

  // Check whether the array really is empty.
  for (int i = 0; i < dims; i++) {
    if (shape[i] == 0) {
      return 0;
    }
  }

  // Not an empty array!
  return 1;
}

static int read_str_array(FILE *f,
                          int64_t elem_size, str_reader elem_reader,
                          const char *type_name,
                          void **data, int64_t *shape, int64_t dims) {
  int ret;
  struct array_reader reader;
  char buf[100];

  int dims_seen;
  for (dims_seen = 0; dims_seen < dims; dims_seen++) {
    if (!next_token_is(f, buf, sizeof(buf), "[")) {
      break;
    }
  }

  if (dims_seen == 0) {
    return read_str_empty_array(f, buf, sizeof(buf), type_name, shape, dims);
  }

  if (dims_seen != dims) {
    return 1;
  }

  reader.shape = shape;
  reader.n_elems_used = 0;
  reader.elem_size = elem_size;
  reader.n_elems_space = 16;
  reader.elems = (char*) realloc(*data, (size_t)(elem_size*reader.n_elems_space));
  reader.elem_reader = elem_reader;

  ret = read_str_array_elems(f, buf, sizeof(buf), &reader, dims);

  *data = reader.elems;

  return ret;
}

#define READ_STR(MACRO, PTR, SUFFIX)                                   \
  remove_underscores(buf);                                              \
  int j;                                                                \
  if (sscanf(buf, "%"MACRO"%n", (PTR*)dest, &j) == 1) {                 \
    return !(strcmp(buf+j, "") == 0 || strcmp(buf+j, SUFFIX) == 0);     \
  } else {                                                              \
    return 1;                                                           \
  }

static int read_str_i8(char *buf, void* dest) {
  // Some platforms (WINDOWS) does not support scanf %hhd or its
  // cousin, %SCNi8.  Read into int first to avoid corrupting
  // memory.
  //
  // https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63417
  remove_underscores(buf);
  int j, x;
  if (sscanf(buf, "%i%n", &x, &j) == 1) {
    *(int8_t*)dest = (int8_t)x;
    return !(strcmp(buf+j, "") == 0 || strcmp(buf+j, "i8") == 0);
  } else {
    return 1;
  }
}

static int read_str_u8(char *buf, void* dest) {
  // Some platforms (WINDOWS) does not support scanf %hhd or its
  // cousin, %SCNu8.  Read into int first to avoid corrupting
  // memory.
  //
  // https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63417
  remove_underscores(buf);
  int j, x;
  if (sscanf(buf, "%i%n", &x, &j) == 1) {
    *(uint8_t*)dest = (uint8_t)x;
    return !(strcmp(buf+j, "") == 0 || strcmp(buf+j, "u8") == 0);
  } else {
    return 1;
  }
}

static int read_str_i16(char *buf, void* dest) {
  READ_STR(SCNi16, int16_t, "i16");
}

static int read_str_u16(char *buf, void* dest) {
  READ_STR(SCNi16, int16_t, "u16");
}

static int read_str_i32(char *buf, void* dest) {
  READ_STR(SCNi32, int32_t, "i32");
}

static int read_str_u32(char *buf, void* dest) {
  READ_STR(SCNi32, int32_t, "u32");
}

static int read_str_i64(char *buf, void* dest) {
  READ_STR(SCNi64, int64_t, "i64");
}

static int read_str_u64(char *buf, void* dest) {
  // FIXME: This is not correct, as SCNu64 only permits decimal
  // literals.  However, SCNi64 does not handle very large numbers
  // correctly (it's really for signed numbers, so that's fair).
  READ_STR(SCNu64, uint64_t, "u64");
}

static int read_str_f16(char *buf, void* dest) {
  remove_underscores(buf);
  if (strcmp(buf, "f16.nan") == 0) {
    *(uint16_t*)dest = float2halfbits(NAN);
    return 0;
  } else if (strcmp(buf, "f16.inf") == 0) {
    *(uint16_t*)dest = float2halfbits(INFINITY);
    return 0;
  } else if (strcmp(buf, "-f16.inf") == 0) {
    *(uint16_t*)dest = float2halfbits(-INFINITY);
    return 0;
  } else {
    int j;
    float x;
    if (sscanf(buf, "%f%n", &x, &j) == 1) {
      if (strcmp(buf+j, "") == 0 || strcmp(buf+j, "f16") == 0) {
        *(uint16_t*)dest = float2halfbits(x);
        return 0;
      }
    }
    return 1;
  }
}

static int read_str_f32(char *buf, void* dest) {
  remove_underscores(buf);
  if (strcmp(buf, "f32.nan") == 0) {
    *(float*)dest = (float)NAN;
    return 0;
  } else if (strcmp(buf, "f32.inf") == 0) {
    *(float*)dest = (float)INFINITY;
    return 0;
  } else if (strcmp(buf, "-f32.inf") == 0) {
    *(float*)dest = (float)-INFINITY;
    return 0;
  } else {
    READ_STR("f", float, "f32");
  }
}

static int read_str_f64(char *buf, void* dest) {
  remove_underscores(buf);
  if (strcmp(buf, "f64.nan") == 0) {
    *(double*)dest = (double)NAN;
    return 0;
  } else if (strcmp(buf, "f64.inf") == 0) {
    *(double*)dest = (double)INFINITY;
    return 0;
  } else if (strcmp(buf, "-f64.inf") == 0) {
    *(double*)dest = (double)-INFINITY;
    return 0;
  } else {
    READ_STR("lf", double, "f64");
  }
}

static int read_str_bool(char *buf, void* dest) {
  if (strcmp(buf, "true") == 0) {
    *(char*)dest = 1;
    return 0;
  } else if (strcmp(buf, "false") == 0) {
    *(char*)dest = 0;
    return 0;
  } else {
    return 1;
  }
}

static int write_str_i8(FILE *out, int8_t *src) {
  return fprintf(out, "%hhdi8", *src);
}

static int write_str_u8(FILE *out, uint8_t *src) {
  return fprintf(out, "%hhuu8", *src);
}

static int write_str_i16(FILE *out, int16_t *src) {
  return fprintf(out, "%hdi16", *src);
}

static int write_str_u16(FILE *out, uint16_t *src) {
  return fprintf(out, "%huu16", *src);
}

static int write_str_i32(FILE *out, int32_t *src) {
  return fprintf(out, "%di32", *src);
}

static int write_str_u32(FILE *out, uint32_t *src) {
  return fprintf(out, "%uu32", *src);
}

static int write_str_i64(FILE *out, int64_t *src) {
  return fprintf(out, "%"PRIi64"i64", *src);
}

static int write_str_u64(FILE *out, uint64_t *src) {
  return fprintf(out, "%"PRIu64"u64", *src);
}

static int write_str_f16(FILE *out, uint16_t *src) {
  float x = halfbits2float(*src);
  if (isnan(x)) {
    return fprintf(out, "f16.nan");
  } else if (isinf(x) && x >= 0) {
    return fprintf(out, "f16.inf");
  } else if (isinf(x)) {
    return fprintf(out, "-f16.inf");
  } else {
    return fprintf(out, "%.6ff16", x);
  }
}

static int write_str_f32(FILE *out, float *src) {
  float x = *src;
  if (isnan(x)) {
    return fprintf(out, "f32.nan");
  } else if (isinf(x) && x >= 0) {
    return fprintf(out, "f32.inf");
  } else if (isinf(x)) {
    return fprintf(out, "-f32.inf");
  } else {
    return fprintf(out, "%.6ff32", x);
  }
}

static int write_str_f64(FILE *out, double *src) {
  double x = *src;
  if (isnan(x)) {
    return fprintf(out, "f64.nan");
  } else if (isinf(x) && x >= 0) {
    return fprintf(out, "f64.inf");
  } else if (isinf(x)) {
    return fprintf(out, "-f64.inf");
  } else {
    return fprintf(out, "%.6ff64", *src);
  }
}

static int write_str_bool(FILE *out, void *src) {
  return fprintf(out, *(char*)src ? "true" : "false");
}

//// Binary I/O

#define BINARY_FORMAT_VERSION 2
#define IS_BIG_ENDIAN (!*(unsigned char *)&(uint16_t){1})

static void flip_bytes(size_t elem_size, unsigned char *elem) {
  for (size_t j=0; j<elem_size/2; j++) {
    unsigned char head = elem[j];
    size_t tail_index = elem_size-1-j;
    elem[j] = elem[tail_index];
    elem[tail_index] = head;
  }
}

// On Windows we need to explicitly set the file mode to not mangle
// newline characters.  On *nix there is no difference.
#ifdef _WIN32
#include <io.h>
#include <fcntl.h>
static void set_binary_mode(FILE *f) {
  setmode(fileno(f), O_BINARY);
}
#else
static void set_binary_mode(FILE *f) {
  (void)f;
}
#endif

static int read_byte(FILE *f, void* dest) {
  size_t num_elems_read = fread(dest, 1, 1, f);
  return num_elems_read == 1 ? 0 : 1;
}

//// Types

struct primtype_info_t {
  const char binname[4]; // Used for parsing binary data.
  const char* type_name; // Same name as in Futhark.
  const int64_t size; // in bytes
  const writer write_str; // Write in text format.
  const str_reader read_str; // Read in text format.
};

static const struct primtype_info_t i8_info =
  {.binname = "  i8", .type_name = "i8",   .size = 1,
   .write_str = (writer)write_str_i8, .read_str = (str_reader)read_str_i8};
static const struct primtype_info_t i16_info =
  {.binname = " i16", .type_name = "i16",  .size = 2,
   .write_str = (writer)write_str_i16, .read_str = (str_reader)read_str_i16};
static const struct primtype_info_t i32_info =
  {.binname = " i32", .type_name = "i32",  .size = 4,
   .write_str = (writer)write_str_i32, .read_str = (str_reader)read_str_i32};
static const struct primtype_info_t i64_info =
  {.binname = " i64", .type_name = "i64",  .size = 8,
   .write_str = (writer)write_str_i64, .read_str = (str_reader)read_str_i64};
static const struct primtype_info_t u8_info =
  {.binname = "  u8", .type_name = "u8",   .size = 1,
   .write_str = (writer)write_str_u8, .read_str = (str_reader)read_str_u8};
static const struct primtype_info_t u16_info =
  {.binname = " u16", .type_name = "u16",  .size = 2,
   .write_str = (writer)write_str_u16, .read_str = (str_reader)read_str_u16};
static const struct primtype_info_t u32_info =
  {.binname = " u32", .type_name = "u32",  .size = 4,
   .write_str = (writer)write_str_u32, .read_str = (str_reader)read_str_u32};
static const struct primtype_info_t u64_info =
  {.binname = " u64", .type_name = "u64",  .size = 8,
   .write_str = (writer)write_str_u64, .read_str = (str_reader)read_str_u64};
static const struct primtype_info_t f16_info =
  {.binname = " f16", .type_name = "f16",  .size = 2,
   .write_str = (writer)write_str_f16, .read_str = (str_reader)read_str_f16};
static const struct primtype_info_t f32_info =
  {.binname = " f32", .type_name = "f32",  .size = 4,
   .write_str = (writer)write_str_f32, .read_str = (str_reader)read_str_f32};
static const struct primtype_info_t f64_info =
  {.binname = " f64", .type_name = "f64",  .size = 8,
   .write_str = (writer)write_str_f64, .read_str = (str_reader)read_str_f64};
static const struct primtype_info_t bool_info =
  {.binname = "bool", .type_name = "bool", .size = 1,
   .write_str = (writer)write_str_bool, .read_str = (str_reader)read_str_bool};

static const struct primtype_info_t* primtypes[] = {
  &i8_info, &i16_info, &i32_info, &i64_info,
  &u8_info, &u16_info, &u32_info, &u64_info,
  &f16_info, &f32_info, &f64_info,
  &bool_info,
  NULL // NULL-terminated
};

// General value interface.  All endian business taken care of at
// lower layers.

static int read_is_binary(FILE *f) {
  skipspaces(f);
  int c = getc(f);
  if (c == 'b') {
    int8_t bin_version;
    int ret = read_byte(f, &bin_version);

    if (ret != 0) { futhark_panic(1, "binary-input: could not read version.\n"); }

    if (bin_version != BINARY_FORMAT_VERSION) {
      futhark_panic(1, "binary-input: File uses version %i, but I only understand version %i.\n",
            bin_version, BINARY_FORMAT_VERSION);
    }

    return 1;
  }
  ungetc(c, f);
  return 0;
}

static const struct primtype_info_t* read_bin_read_type_enum(FILE *f) {
  char read_binname[4];

  int num_matched = fscanf(f, "%4c", read_binname);
  if (num_matched != 1) { futhark_panic(1, "binary-input: Couldn't read element type.\n"); }

  const struct primtype_info_t **type = primtypes;

  for (; *type != NULL; type++) {
    // I compare the 4 characters manually instead of using strncmp because
    // this allows any value to be used, also NULL bytes
    if (memcmp(read_binname, (*type)->binname, 4) == 0) {
      return *type;
    }
  }
  futhark_panic(1, "binary-input: Did not recognize the type '%s'.\n", read_binname);
  return NULL;
}

static void read_bin_ensure_scalar(FILE *f, const struct primtype_info_t *expected_type) {
  int8_t bin_dims;
  int ret = read_byte(f, &bin_dims);
  if (ret != 0) { futhark_panic(1, "binary-input: Couldn't get dims.\n"); }

  if (bin_dims != 0) {
    futhark_panic(1, "binary-input: Expected scalar (0 dimensions), but got array with %i dimensions.\n",
          bin_dims);
  }

  const struct primtype_info_t *bin_type = read_bin_read_type_enum(f);
  if (bin_type != expected_type) {
    futhark_panic(1, "binary-input: Expected scalar of type %s but got scalar of type %s.\n",
          expected_type->type_name,
          bin_type->type_name);
  }
}

//// High-level interface

static int read_bin_array(FILE *f,
                          const struct primtype_info_t *expected_type, void **data, int64_t *shape, int64_t dims) {
  int ret;

  int8_t bin_dims;
  ret = read_byte(f, &bin_dims);
  if (ret != 0) { futhark_panic(1, "binary-input: Couldn't get dims.\n"); }

  if (bin_dims != dims) {
    futhark_panic(1, "binary-input: Expected %i dimensions, but got array with %i dimensions.\n",
          dims, bin_dims);
  }

  const struct primtype_info_t *bin_primtype = read_bin_read_type_enum(f);
  if (expected_type != bin_primtype) {
    futhark_panic(1, "binary-input: Expected %iD-array with element type '%s' but got %iD-array with element type '%s'.\n",
          dims, expected_type->type_name, dims, bin_primtype->type_name);
  }

  int64_t elem_count = 1;
  for (int i=0; i<dims; i++) {
    int64_t bin_shape;
    ret = (int)fread(&bin_shape, sizeof(bin_shape), 1, f);
    if (ret != 1) {
      futhark_panic(1, "binary-input: Couldn't read size for dimension %i of array.\n", i);
    }
    if (IS_BIG_ENDIAN) {
      flip_bytes(sizeof(bin_shape), (unsigned char*) &bin_shape);
    }
    elem_count *= bin_shape;
    shape[i] = bin_shape;
  }

  int64_t elem_size = expected_type->size;
  void* tmp = realloc(*data, (size_t)(elem_count * elem_size));
  if (tmp == NULL) {
    futhark_panic(1, "binary-input: Failed to allocate array of size %i.\n",
          elem_count * elem_size);
  }
  *data = tmp;

  int64_t num_elems_read = (int64_t)fread(*data, (size_t)elem_size, (size_t)elem_count, f);
  if (num_elems_read != elem_count) {
    futhark_panic(1, "binary-input: tried to read %i elements of an array, but only got %i elements.\n",
          elem_count, num_elems_read);
  }

  // If we're on big endian platform we must change all multibyte elements
  // from using little endian to big endian
  if (IS_BIG_ENDIAN && elem_size != 1) {
    flip_bytes((size_t)elem_size, (unsigned char*) *data);
  }

  return 0;
}

static int read_array(FILE *f, const struct primtype_info_t *expected_type, void **data, int64_t *shape, int64_t dims) {
  if (!read_is_binary(f)) {
    return read_str_array(f, expected_type->size, (str_reader)expected_type->read_str, expected_type->type_name, data, shape, dims);
  } else {
    return read_bin_array(f, expected_type, data, shape, dims);
  }
}

static int end_of_input(FILE *f) {
  skipspaces(f);
  char token[2];
  next_token(f, token, sizeof(token));
  if (strcmp(token, "") == 0) {
    return 0;
  } else {
    return 1;
  }
}

static int write_str_array(FILE *out,
                           const struct primtype_info_t *elem_type,
                           const unsigned char *data,
                           const int64_t *shape,
                           int8_t rank) {
  if (rank==0) {
    elem_type->write_str(out, (const void*)data);
  } else {
    int64_t len = (int64_t)shape[0];
    int64_t slice_size = 1;

    int64_t elem_size = elem_type->size;
    for (int8_t i = 1; i < rank; i++) {
      slice_size *= shape[i];
    }

    if (len*slice_size == 0) {
      fprintf(out, "empty(");
      for (int64_t i = 0; i < rank; i++) {
        fprintf(out, "[%"PRIi64"]", shape[i]);
      }
      fprintf(out, "%s", elem_type->type_name);
      fprintf(out, ")");
    } else if (rank==1) {
      fputc('[', out);
      for (int64_t i = 0; i < len; i++) {
        elem_type->write_str(out, (const void*) (data + i * elem_size));
        if (i != len-1) {
          fprintf(out, ", ");
        }
      }
      fputc(']', out);
    } else {
      fputc('[', out);
      for (int64_t i = 0; i < len; i++) {
        write_str_array(out, elem_type, data + i * slice_size * elem_size, shape+1, rank-1);
        if (i != len-1) {
          fprintf(out, ", ");
        }
      }
      fputc(']', out);
    }
  }
  return 0;
}

static int write_bin_array(FILE *out,
                           const struct primtype_info_t *elem_type,
                           const unsigned char *data,
                           const int64_t *shape,
                           int8_t rank) {
  int64_t num_elems = 1;
  for (int64_t i = 0; i < rank; i++) {
    num_elems *= shape[i];
  }

  fputc('b', out);
  fputc((char)BINARY_FORMAT_VERSION, out);
  fwrite(&rank, sizeof(int8_t), 1, out);
  fwrite(elem_type->binname, 4, 1, out);
  if (shape != NULL) {
    fwrite(shape, sizeof(int64_t), (size_t)rank, out);
  }

  if (IS_BIG_ENDIAN) {
    for (int64_t i = 0; i < num_elems; i++) {
      const unsigned char *elem = data+i*elem_type->size;
      for (int64_t j = 0; j < elem_type->size; j++) {
        fwrite(&elem[elem_type->size-j], 1, 1, out);
      }
    }
  } else {
    fwrite(data, (size_t)elem_type->size, (size_t)num_elems, out);
  }

  return 0;
}

static int write_array(FILE *out, int write_binary,
                       const struct primtype_info_t *elem_type,
                       const void *data,
                       const int64_t *shape,
                       const int8_t rank) {
  if (write_binary) {
    return write_bin_array(out, elem_type, data, shape, rank);
  } else {
    return write_str_array(out, elem_type, data, shape, rank);
  }
}

static int read_scalar(FILE *f,
                       const struct primtype_info_t *expected_type, void *dest) {
  if (!read_is_binary(f)) {
    char buf[100];
    next_token(f, buf, sizeof(buf));
    return expected_type->read_str(buf, dest);
  } else {
    read_bin_ensure_scalar(f, expected_type);
    size_t elem_size = (size_t)expected_type->size;
    size_t num_elems_read = fread(dest, elem_size, 1, f);
    if (IS_BIG_ENDIAN) {
      flip_bytes(elem_size, (unsigned char*) dest);
    }
    return num_elems_read == 1 ? 0 : 1;
  }
}

static int write_scalar(FILE *out, int write_binary, const struct primtype_info_t *type, void *src) {
  if (write_binary) {
    return write_bin_array(out, type, src, NULL, 0);
  } else {
    return type->write_str(out, src);
  }
}

// End of values.h.

static int binary_output = 0;
static int print_result = 1;
static FILE *runtime_file;
static int perform_warmup = 0;
static int num_runs = 1;
static const char *entry_point = "main";
// Start of tuning.h.

static char* load_tuning_file(const char *fname,
                              void *cfg,
                              int (*set_tuning_param)(void*, const char*, size_t)) {
  const int max_line_len = 1024;
  char* line = (char*) malloc(max_line_len);

  FILE *f = fopen(fname, "r");

  if (f == NULL) {
    snprintf(line, max_line_len, "Cannot open file: %s", strerror(errno));
    return line;
  }

  int lineno = 0;
  while (fgets(line, max_line_len, f) != NULL) {
    lineno++;
    char *eql = strstr(line, "=");
    if (eql) {
      *eql = 0;
      int value = atoi(eql+1);
      if (set_tuning_param(cfg, line, (size_t)value) != 0) {
        char* err = (char*) malloc(max_line_len + 50);
        snprintf(err, max_line_len + 50, "Unknown name '%s' on line %d.", line, lineno);
        free(line);
        return err;
      }
    } else {
      snprintf(line, max_line_len, "Invalid line %d (must be of form 'name=int').",
               lineno);
      return line;
    }
  }

  free(line);

  return NULL;
}

// End of tuning.h.

int parse_options(struct futhark_context_config *cfg, int argc,
                  char *const argv[])
{
    int ch;
    static struct option long_options[] = {{"write-runtime-to",
                                            required_argument, NULL, 1},
                                           {"runs", required_argument, NULL, 2},
                                           {"debugging", no_argument, NULL, 3},
                                           {"log", no_argument, NULL, 4},
                                           {"entry-point", required_argument,
                                            NULL, 5}, {"binary-output",
                                                       no_argument, NULL, 6},
                                           {"no-print-result", no_argument,
                                            NULL, 7}, {"help", no_argument,
                                                       NULL, 8},
                                           {"print-params", no_argument, NULL,
                                            9}, {"param", required_argument,
                                                 NULL, 10}, {"tuning",
                                                             required_argument,
                                                             NULL, 11}, {0, 0,
                                                                         0, 0}};
    static char *option_descriptions =
                "  -t/--write-runtime-to FILE Print the time taken to execute the program to the indicated file, an integral number of microseconds.\n  -r/--runs INT              Perform NUM runs of the program.\n  -D/--debugging             Perform possibly expensive internal correctness checks and verbose logging.\n  -L/--log                   Print various low-overhead logging information to stderr while running.\n  -e/--entry-point NAME      The entry point to run. Defaults to main.\n  -b/--binary-output         Print the program result in the binary output format.\n  -n/--no-print-result       Do not print the program result.\n  -h/--help                  Print help information and exit.\n  --print-params             Print all tuning parameters that can be set with --param or --tuning.\n  --param ASSIGNMENT         Set a tuning parameter to the given value.\n  --tuning FILE              Read size=value assignments from the given file.\n";
    
    while ((ch = getopt_long(argc, argv, ":t:r:DLe:bnh", long_options, NULL)) !=
           -1) {
        if (ch == 1 || ch == 't') {
            runtime_file = fopen(optarg, "w");
            if (runtime_file == NULL)
                futhark_panic(1, "Cannot open %s: %s\n", optarg,
                              strerror(errno));
        }
        if (ch == 2 || ch == 'r') {
            num_runs = atoi(optarg);
            perform_warmup = 1;
            if (num_runs <= 0)
                futhark_panic(1, "Need a positive number of runs, not %s\n",
                              optarg);
        }
        if (ch == 3 || ch == 'D')
            futhark_context_config_set_debugging(cfg, 1);
        if (ch == 4 || ch == 'L')
            futhark_context_config_set_logging(cfg, 1);
        if (ch == 5 || ch == 'e') {
            if (entry_point != NULL)
                entry_point = optarg;
        }
        if (ch == 6 || ch == 'b')
            binary_output = 1;
        if (ch == 7 || ch == 'n')
            print_result = 0;
        if (ch == 8 || ch == 'h') {
            printf("Usage: %s [OPTION]...\nOptions:\n\n%s\nFor more information, consult the Futhark User's Guide or the man pages.\n",
                   fut_progname, option_descriptions);
            exit(0);
        }
        if (ch == 9) {
            int n = futhark_get_tuning_param_count();
            
            for (int i = 0; i < n; i++)
                printf("%s (%s)\n", futhark_get_tuning_param_name(i),
                       futhark_get_tuning_param_class(i));
            exit(0);
        }
        if (ch == 10) {
            char *name = optarg;
            char *equals = strstr(optarg, "=");
            char *value_str = equals != NULL ? equals + 1 : optarg;
            int value = atoi(value_str);
            
            if (equals != NULL) {
                *equals = 0;
                if (futhark_context_config_set_tuning_param(cfg, name,
                                                            (size_t) value) !=
                    0)
                    futhark_panic(1, "Unknown size: %s\n", name);
            } else
                futhark_panic(1, "Invalid argument for size option: %s\n",
                              optarg);
        }
        if (ch == 11) {
            char *ret = load_tuning_file(optarg, cfg, (int (*)(void *, const
                                                               char *,
                                                               size_t)) futhark_context_config_set_tuning_param);
            
            if (ret != NULL)
                futhark_panic(1, "When loading tuning from '%s': %s\n", optarg,
                              ret);
        }
        if (ch == ':')
            futhark_panic(-1, "Missing argument for option %s\n", argv[optind -
                                                                       1]);
        if (ch == '?') {
            fprintf(stderr, "Usage: %s [OPTIONS]...\nOptions:\n\n%s\n",
                    fut_progname,
                    "  -t/--write-runtime-to FILE Print the time taken to execute the program to the indicated file, an integral number of microseconds.\n  -r/--runs INT              Perform NUM runs of the program.\n  -D/--debugging             Perform possibly expensive internal correctness checks and verbose logging.\n  -L/--log                   Print various low-overhead logging information to stderr while running.\n  -e/--entry-point NAME      The entry point to run. Defaults to main.\n  -b/--binary-output         Print the program result in the binary output format.\n  -n/--no-print-result       Do not print the program result.\n  -h/--help                  Print help information and exit.\n  --print-params             Print all tuning parameters that can be set with --param or --tuning.\n  --param ASSIGNMENT         Set a tuning parameter to the given value.\n  --tuning FILE              Read size=value assignments from the given file.\n");
            futhark_panic(1, "Unknown option: %s\n", argv[optind - 1]);
        }
    }
    return optind;
}
static void futrts_cli_entry_highpass_filter(struct futhark_context *ctx)
{
    int64_t t_start, t_end;
    int time_runs = 0, profile_run = 0;
    
    // We do not want to profile all the initialisation.
    futhark_context_pause_profiling(ctx);
    // Declare and read input.
    set_binary_mode(stdin);
    
    int32_t read_value_0;
    
    if (read_scalar(stdin, &i32_info, &read_value_0) != 0)
        futhark_panic(1,
                      "Error when reading input #%d of type %s (errno: %s).\n",
                      0, "i32", strerror(errno));
    ;
    
    struct futhark_u8_3d * read_value_1;
    int64_t read_shape_1[3];
    uint8_t *read_arr_1 = NULL;
    
    errno = 0;
    if (read_array(stdin, &u8_info, (void **) &read_arr_1, read_shape_1, 3) !=
        0)
        futhark_panic(1, "Cannot read input #%d of type %s (errno: %s).\n", 1,
                      "[][][]u8", strerror(errno));
    if (end_of_input(stdin) != 0)
        futhark_panic(1,
                      "Expected EOF on stdin after reading input for \"%s\".\n",
                      "highpass_filter");
    
    struct futhark_u8_3d * result_0;
    
    if (perform_warmup) {
        int r;
        
        ;
        assert((read_value_1 = futhark_new_u8_3d(ctx, read_arr_1,
                                                 read_shape_1[0],
                                                 read_shape_1[1],
                                                 read_shape_1[2])) != NULL);
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        // Only profile last run.
        if (profile_run)
            futhark_context_unpause_profiling(ctx);
        t_start = get_wall_time();
        r = futhark_entry_highpass_filter(ctx, &result_0, read_value_0,
                                          read_value_1);
        if (r != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        if (profile_run)
            futhark_context_pause_profiling(ctx);
        t_end = get_wall_time();
        
        long elapsed_usec = t_end - t_start;
        
        if (time_runs && runtime_file != NULL) {
            fprintf(runtime_file, "%lld\n", (long long) elapsed_usec);
            fflush(runtime_file);
        }
        ;
        assert(futhark_free_u8_3d(ctx, read_value_1) == 0);
        assert(futhark_free_u8_3d(ctx, result_0) == 0);
    }
    time_runs = 1;
    // Proper run.
    for (int run = 0; run < num_runs; run++) {
        // Only profile last run.
        profile_run = run == num_runs - 1;
        
        int r;
        
        ;
        assert((read_value_1 = futhark_new_u8_3d(ctx, read_arr_1,
                                                 read_shape_1[0],
                                                 read_shape_1[1],
                                                 read_shape_1[2])) != NULL);
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        // Only profile last run.
        if (profile_run)
            futhark_context_unpause_profiling(ctx);
        t_start = get_wall_time();
        r = futhark_entry_highpass_filter(ctx, &result_0, read_value_0,
                                          read_value_1);
        if (r != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        if (profile_run)
            futhark_context_pause_profiling(ctx);
        t_end = get_wall_time();
        
        long elapsed_usec = t_end - t_start;
        
        if (time_runs && runtime_file != NULL) {
            fprintf(runtime_file, "%lld\n", (long long) elapsed_usec);
            fflush(runtime_file);
        }
        ;
        assert(futhark_free_u8_3d(ctx, read_value_1) == 0);
        if (run < num_runs - 1) {
            assert(futhark_free_u8_3d(ctx, result_0) == 0);
        }
    }
    ;
    free(read_arr_1);
    if (print_result) {
        // Print the final result.
        if (binary_output)
            set_binary_mode(stdout);
        {
            uint8_t *arr = calloc(futhark_shape_u8_3d(ctx, result_0)[0] *
                                  futhark_shape_u8_3d(ctx, result_0)[1] *
                                  futhark_shape_u8_3d(ctx, result_0)[2],
                                  u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_3d(ctx, result_0, arr) == 0);
            write_array(stdout, binary_output, &u8_info, arr,
                        futhark_shape_u8_3d(ctx, result_0), 3);
            free(arr);
        }
        printf("\n");
    }
    assert(futhark_free_u8_3d(ctx, result_0) == 0);
}
static void futrts_cli_entry_main(struct futhark_context *ctx)
{
    int64_t t_start, t_end;
    int time_runs = 0, profile_run = 0;
    
    // We do not want to profile all the initialisation.
    futhark_context_pause_profiling(ctx);
    // Declare and read input.
    set_binary_mode(stdin);
    
    int32_t read_value_0;
    
    if (read_scalar(stdin, &i32_info, &read_value_0) != 0)
        futhark_panic(1,
                      "Error when reading input #%d of type %s (errno: %s).\n",
                      0, "i32", strerror(errno));
    ;
    
    struct futhark_u8_3d * read_value_1;
    int64_t read_shape_1[3];
    uint8_t *read_arr_1 = NULL;
    
    errno = 0;
    if (read_array(stdin, &u8_info, (void **) &read_arr_1, read_shape_1, 3) !=
        0)
        futhark_panic(1, "Cannot read input #%d of type %s (errno: %s).\n", 1,
                      "[][][]u8", strerror(errno));
    if (end_of_input(stdin) != 0)
        futhark_panic(1,
                      "Expected EOF on stdin after reading input for \"%s\".\n",
                      "main");
    
    struct futhark_f32_2d * result_0;
    struct futhark_f32_2d * result_1;
    struct futhark_f32_2d * result_2;
    
    if (perform_warmup) {
        int r;
        
        ;
        assert((read_value_1 = futhark_new_u8_3d(ctx, read_arr_1,
                                                 read_shape_1[0],
                                                 read_shape_1[1],
                                                 read_shape_1[2])) != NULL);
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        // Only profile last run.
        if (profile_run)
            futhark_context_unpause_profiling(ctx);
        t_start = get_wall_time();
        r = futhark_entry_main(ctx, &result_0, &result_1, &result_2,
                               read_value_0, read_value_1);
        if (r != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        if (profile_run)
            futhark_context_pause_profiling(ctx);
        t_end = get_wall_time();
        
        long elapsed_usec = t_end - t_start;
        
        if (time_runs && runtime_file != NULL) {
            fprintf(runtime_file, "%lld\n", (long long) elapsed_usec);
            fflush(runtime_file);
        }
        ;
        assert(futhark_free_u8_3d(ctx, read_value_1) == 0);
        assert(futhark_free_f32_2d(ctx, result_0) == 0);
        assert(futhark_free_f32_2d(ctx, result_1) == 0);
        assert(futhark_free_f32_2d(ctx, result_2) == 0);
    }
    time_runs = 1;
    // Proper run.
    for (int run = 0; run < num_runs; run++) {
        // Only profile last run.
        profile_run = run == num_runs - 1;
        
        int r;
        
        ;
        assert((read_value_1 = futhark_new_u8_3d(ctx, read_arr_1,
                                                 read_shape_1[0],
                                                 read_shape_1[1],
                                                 read_shape_1[2])) != NULL);
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        // Only profile last run.
        if (profile_run)
            futhark_context_unpause_profiling(ctx);
        t_start = get_wall_time();
        r = futhark_entry_main(ctx, &result_0, &result_1, &result_2,
                               read_value_0, read_value_1);
        if (r != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        if (profile_run)
            futhark_context_pause_profiling(ctx);
        t_end = get_wall_time();
        
        long elapsed_usec = t_end - t_start;
        
        if (time_runs && runtime_file != NULL) {
            fprintf(runtime_file, "%lld\n", (long long) elapsed_usec);
            fflush(runtime_file);
        }
        ;
        assert(futhark_free_u8_3d(ctx, read_value_1) == 0);
        if (run < num_runs - 1) {
            assert(futhark_free_f32_2d(ctx, result_0) == 0);
            assert(futhark_free_f32_2d(ctx, result_1) == 0);
            assert(futhark_free_f32_2d(ctx, result_2) == 0);
        }
    }
    ;
    free(read_arr_1);
    if (print_result) {
        // Print the final result.
        if (binary_output)
            set_binary_mode(stdout);
        {
            float *arr = calloc(futhark_shape_f32_2d(ctx, result_0)[0] *
                                futhark_shape_f32_2d(ctx, result_0)[1],
                                f32_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_f32_2d(ctx, result_0, arr) == 0);
            write_array(stdout, binary_output, &f32_info, arr,
                        futhark_shape_f32_2d(ctx, result_0), 2);
            free(arr);
        }
        printf("\n");
        {
            float *arr = calloc(futhark_shape_f32_2d(ctx, result_1)[0] *
                                futhark_shape_f32_2d(ctx, result_1)[1],
                                f32_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_f32_2d(ctx, result_1, arr) == 0);
            write_array(stdout, binary_output, &f32_info, arr,
                        futhark_shape_f32_2d(ctx, result_1), 2);
            free(arr);
        }
        printf("\n");
        {
            float *arr = calloc(futhark_shape_f32_2d(ctx, result_2)[0] *
                                futhark_shape_f32_2d(ctx, result_2)[1],
                                f32_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_f32_2d(ctx, result_2, arr) == 0);
            write_array(stdout, binary_output, &f32_info, arr,
                        futhark_shape_f32_2d(ctx, result_2), 2);
            free(arr);
        }
        printf("\n");
    }
    assert(futhark_free_f32_2d(ctx, result_0) == 0);
    assert(futhark_free_f32_2d(ctx, result_1) == 0);
    assert(futhark_free_f32_2d(ctx, result_2) == 0);
}
typedef void entry_point_fun(struct futhark_context *);
struct entry_point_entry {
    const char *name;
    entry_point_fun *fun;
};
int main(int argc, char **argv)
{
    fut_progname = argv[0];
    
    struct futhark_context_config *cfg = futhark_context_config_new();
    
    assert(cfg != NULL);
    
    int parsed_options = parse_options(cfg, argc, argv);
    
    argc -= parsed_options;
    argv += parsed_options;
    if (argc != 0)
        futhark_panic(1, "Excess non-option: %s\n", argv[0]);
    
    struct futhark_context *ctx = futhark_context_new(cfg);
    
    assert(ctx != NULL);
    
    char *error = futhark_context_get_error(ctx);
    
    if (error != NULL)
        futhark_panic(1, "%s", error);
    
    struct entry_point_entry entry_points[] = {{.name ="highpass_filter", .fun =
                                                futrts_cli_entry_highpass_filter},
                                               {.name ="main", .fun =
                                                futrts_cli_entry_main}};
    
    if (entry_point != NULL) {
        int num_entry_points = sizeof(entry_points) / sizeof(entry_points[0]);
        entry_point_fun *entry_point_fun = NULL;
        
        for (int i = 0; i < num_entry_points; i++) {
            if (strcmp(entry_points[i].name, entry_point) == 0) {
                entry_point_fun = entry_points[i].fun;
                break;
            }
        }
        if (entry_point_fun == NULL) {
            fprintf(stderr,
                    "No entry point '%s'.  Select another with --entry-point.  Options are:\n",
                    entry_point);
            for (int i = 0; i < num_entry_points; i++)
                fprintf(stderr, "%s\n", entry_points[i].name);
            return 1;
        }
        if (isatty(fileno(stdin))) {
            fprintf(stderr, "Reading input from TTY.\n");
            fprintf(stderr,
                    "Send EOF (CTRL-d) after typing all input values.\n");
        }
        entry_point_fun(ctx);
        if (runtime_file != NULL)
            fclose(runtime_file);
        
        char *report = futhark_context_report(ctx);
        
        fputs(report, stderr);
        free(report);
    }
    futhark_context_free(ctx);
    futhark_context_config_free(cfg);
    return 0;
}

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x;
}

static inline bool itob_i16_bool(int16_t x) {
  return x;
}

static inline bool itob_i32_bool(int32_t x) {
  return x;
}

static inline bool itob_i64_bool(int64_t x) {
  return x;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#else // Not OpenCL or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

static inline int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

static inline uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f32_bool(float x) {
  return x != 0;
}

static inline float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}

#ifdef FUTHARK_F64_ENABLED

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

static inline bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

static inline f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16

#ifdef __OPENCL_VERSION__
static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}

#endif


// End of scalar_f16.h.

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct futhark_context_config {
    int debugging;
    int in_use;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->in_use = 0;
    cfg->debugging = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag)
{
    (void) cfg;
    (void) flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    // Does nothing for this backend.
    (void) cfg;
    (void) detail;
}
struct futhark_context {
    struct futhark_context_config *cfg;
    int detail_memory;
    int debugging;
    int profiling;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int profiling_paused;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->cfg = cfg;
    ctx->cfg->in_use = 1;
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->debugging;
    ctx->logging = cfg->debugging;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    ctx->cfg->in_use = 0;
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *tuning_param_names[0];
static const char *tuning_param_vars[0];
static const char *tuning_param_classes[0];
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t param_value)
{
    (void) cfg;
    (void) param_name;
    (void) param_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default + size);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        ctx->cur_mem_usage_default += size;
        return FUTHARK_SUCCESS;
    } else {
        char *old_error = ctx->error;
        
        ctx->error =
            msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s",
                      "default space", (long long) size,
                      (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_tuning_param_count(void)
{
    return sizeof(tuning_param_names) / sizeof(tuning_param_names[0]);
}
const char *futhark_get_tuning_param_name(int i)
{
    return tuning_param_names[i];
}
const char *futhark_get_tuning_param_class(int i)
{
    return tuning_param_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) { }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

static int futrts_entry_highpass_filter(struct futhark_context *ctx,
                                        struct memblock *mem_out_p_19079,
                                        struct memblock img_mem_16634,
                                        int64_t n_11475, int64_t m_11476,
                                        int32_t cutoff_11477);
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_19122,
                             struct memblock *mem_out_p_19123,
                             struct memblock *mem_out_p_19124,
                             struct memblock img_mem_16634, int64_t n_11006,
                             int64_t m_11007, int32_t cutoff_11008);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_u8_3d {
    struct memblock mem;
    int64_t shape[3];
};
struct futhark_u8_3d *futhark_new_u8_3d(struct futhark_context *ctx, const
                                        uint8_t *data, int64_t dim0,
                                        int64_t dim1, int64_t dim2)
{
    struct futhark_u8_3d *bad = NULL;
    struct futhark_u8_3d *arr =
                         (struct futhark_u8_3d *) malloc(sizeof(struct futhark_u8_3d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * dim2 * 1, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    arr->shape[2] = dim2;
    if ((size_t) (dim0 * dim1 * dim2) * 1 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1 * dim2) * 1);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_u8_3d *futhark_new_raw_u8_3d(struct futhark_context *ctx, const
                                            unsigned char *data, int64_t offset,
                                            int64_t dim0, int64_t dim1,
                                            int64_t dim2)
{
    struct futhark_u8_3d *bad = NULL;
    struct futhark_u8_3d *arr =
                         (struct futhark_u8_3d *) malloc(sizeof(struct futhark_u8_3d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * dim2 * 1, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    arr->shape[2] = dim2;
    if ((size_t) (dim0 * dim1 * dim2) * 1 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1 * dim2) *
                1);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_u8_3d(struct futhark_context *ctx, struct futhark_u8_3d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_u8_3d(struct futhark_context *ctx, struct futhark_u8_3d *arr,
                         uint8_t *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1] * arr->shape[2]) * 1 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                      arr->shape[1] *
                                                      arr->shape[2]) * 1);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_u8_3d(struct futhark_context *ctx,
                                        struct futhark_u8_3d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_u8_3d(struct futhark_context *ctx,
                                   struct futhark_u8_3d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              unsigned char *data,
                                              int64_t offset, int64_t dim0,
                                              int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 4 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                      arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                         struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_entry_highpass_filter(struct futhark_context *ctx,
                                        struct memblock *mem_out_p_19079,
                                        struct memblock img_mem_16634,
                                        int64_t n_11475, int64_t m_11476,
                                        int32_t cutoff_11477)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_16637_cached_sizze_19080 = 0;
    unsigned char *mem_16637 = NULL;
    size_t mem_16652_cached_sizze_19081 = 0;
    unsigned char *mem_16652 = NULL;
    size_t mem_16667_cached_sizze_19082 = 0;
    unsigned char *mem_16667 = NULL;
    size_t mem_16682_cached_sizze_19083 = 0;
    unsigned char *mem_16682 = NULL;
    size_t mem_16697_cached_sizze_19084 = 0;
    unsigned char *mem_16697 = NULL;
    size_t mem_16700_cached_sizze_19085 = 0;
    unsigned char *mem_16700 = NULL;
    size_t mem_16703_cached_sizze_19086 = 0;
    unsigned char *mem_16703 = NULL;
    size_t mem_16707_cached_sizze_19087 = 0;
    unsigned char *mem_16707 = NULL;
    size_t mem_16711_cached_sizze_19088 = 0;
    unsigned char *mem_16711 = NULL;
    size_t mem_16715_cached_sizze_19089 = 0;
    unsigned char *mem_16715 = NULL;
    size_t mem_16719_cached_sizze_19090 = 0;
    unsigned char *mem_16719 = NULL;
    size_t mem_16723_cached_sizze_19091 = 0;
    unsigned char *mem_16723 = NULL;
    size_t mem_16727_cached_sizze_19092 = 0;
    unsigned char *mem_16727 = NULL;
    size_t mem_17108_cached_sizze_19093 = 0;
    unsigned char *mem_17108 = NULL;
    size_t mem_17123_cached_sizze_19094 = 0;
    unsigned char *mem_17123 = NULL;
    size_t mem_17138_cached_sizze_19095 = 0;
    unsigned char *mem_17138 = NULL;
    size_t mem_17154_cached_sizze_19096 = 0;
    unsigned char *mem_17154 = NULL;
    size_t mem_17158_cached_sizze_19097 = 0;
    unsigned char *mem_17158 = NULL;
    size_t mem_17162_cached_sizze_19098 = 0;
    unsigned char *mem_17162 = NULL;
    size_t mem_17166_cached_sizze_19099 = 0;
    unsigned char *mem_17166 = NULL;
    size_t mem_17170_cached_sizze_19100 = 0;
    unsigned char *mem_17170 = NULL;
    size_t mem_17174_cached_sizze_19101 = 0;
    unsigned char *mem_17174 = NULL;
    size_t mem_17525_cached_sizze_19102 = 0;
    unsigned char *mem_17525 = NULL;
    size_t mem_17540_cached_sizze_19103 = 0;
    unsigned char *mem_17540 = NULL;
    size_t mem_17555_cached_sizze_19104 = 0;
    unsigned char *mem_17555 = NULL;
    size_t mem_17571_cached_sizze_19105 = 0;
    unsigned char *mem_17571 = NULL;
    size_t mem_17575_cached_sizze_19106 = 0;
    unsigned char *mem_17575 = NULL;
    size_t mem_17579_cached_sizze_19107 = 0;
    unsigned char *mem_17579 = NULL;
    size_t mem_17583_cached_sizze_19108 = 0;
    unsigned char *mem_17583 = NULL;
    size_t mem_17587_cached_sizze_19109 = 0;
    unsigned char *mem_17587 = NULL;
    size_t mem_17591_cached_sizze_19110 = 0;
    unsigned char *mem_17591 = NULL;
    size_t mem_18002_cached_sizze_19111 = 0;
    unsigned char *mem_18002 = NULL;
    size_t mem_18017_cached_sizze_19112 = 0;
    unsigned char *mem_18017 = NULL;
    size_t mem_18032_cached_sizze_19113 = 0;
    unsigned char *mem_18032 = NULL;
    size_t mem_18048_cached_sizze_19114 = 0;
    unsigned char *mem_18048 = NULL;
    size_t mem_18052_cached_sizze_19115 = 0;
    unsigned char *mem_18052 = NULL;
    size_t mem_18056_cached_sizze_19116 = 0;
    unsigned char *mem_18056 = NULL;
    size_t mem_18060_cached_sizze_19117 = 0;
    unsigned char *mem_18060 = NULL;
    size_t mem_18064_cached_sizze_19118 = 0;
    unsigned char *mem_18064 = NULL;
    size_t mem_18068_cached_sizze_19119 = 0;
    unsigned char *mem_18068 = NULL;
    size_t mem_18420_cached_sizze_19120 = 0;
    unsigned char *mem_18420 = NULL;
    size_t mem_18453_cached_sizze_19121 = 0;
    unsigned char *mem_18453 = NULL;
    struct memblock mem_18485;
    
    mem_18485.references = NULL;
    
    struct memblock mem_param_tmp_19064;
    
    mem_param_tmp_19064.references = NULL;
    
    struct memblock mem_param_tmp_19063;
    
    mem_param_tmp_19063.references = NULL;
    
    struct memblock mem_param_tmp_19062;
    
    mem_param_tmp_19062.references = NULL;
    
    struct memblock mem_param_tmp_19061;
    
    mem_param_tmp_19061.references = NULL;
    
    struct memblock mem_param_18320;
    
    mem_param_18320.references = NULL;
    
    struct memblock mem_param_18315;
    
    mem_param_18315.references = NULL;
    
    struct memblock mem_param_18310;
    
    mem_param_18310.references = NULL;
    
    struct memblock mem_param_18305;
    
    mem_param_18305.references = NULL;
    
    struct memblock ext_mem_18349;
    
    ext_mem_18349.references = NULL;
    
    struct memblock ext_mem_18350;
    
    ext_mem_18350.references = NULL;
    
    struct memblock ext_mem_18351;
    
    ext_mem_18351.references = NULL;
    
    struct memblock ext_mem_18352;
    
    ext_mem_18352.references = NULL;
    
    struct memblock mem_param_tmp_19034;
    
    mem_param_tmp_19034.references = NULL;
    
    struct memblock mem_param_tmp_19033;
    
    mem_param_tmp_19033.references = NULL;
    
    struct memblock mem_param_tmp_19032;
    
    mem_param_tmp_19032.references = NULL;
    
    struct memblock mem_param_tmp_19031;
    
    mem_param_tmp_19031.references = NULL;
    
    struct memblock mem_param_18246;
    
    mem_param_18246.references = NULL;
    
    struct memblock mem_param_18241;
    
    mem_param_18241.references = NULL;
    
    struct memblock mem_param_18236;
    
    mem_param_18236.references = NULL;
    
    struct memblock mem_param_18231;
    
    mem_param_18231.references = NULL;
    
    struct memblock ext_mem_18275;
    
    ext_mem_18275.references = NULL;
    
    struct memblock ext_mem_18276;
    
    ext_mem_18276.references = NULL;
    
    struct memblock ext_mem_18277;
    
    ext_mem_18277.references = NULL;
    
    struct memblock ext_mem_18278;
    
    ext_mem_18278.references = NULL;
    
    struct memblock mem_param_tmp_19004;
    
    mem_param_tmp_19004.references = NULL;
    
    struct memblock mem_param_tmp_19003;
    
    mem_param_tmp_19003.references = NULL;
    
    struct memblock mem_param_tmp_19002;
    
    mem_param_tmp_19002.references = NULL;
    
    struct memblock mem_param_tmp_19001;
    
    mem_param_tmp_19001.references = NULL;
    
    struct memblock mem_param_18172;
    
    mem_param_18172.references = NULL;
    
    struct memblock mem_param_18167;
    
    mem_param_18167.references = NULL;
    
    struct memblock mem_param_18162;
    
    mem_param_18162.references = NULL;
    
    struct memblock mem_param_18157;
    
    mem_param_18157.references = NULL;
    
    struct memblock ext_mem_18201;
    
    ext_mem_18201.references = NULL;
    
    struct memblock ext_mem_18202;
    
    ext_mem_18202.references = NULL;
    
    struct memblock ext_mem_18203;
    
    ext_mem_18203.references = NULL;
    
    struct memblock ext_mem_18204;
    
    ext_mem_18204.references = NULL;
    
    struct memblock mem_18300;
    
    mem_18300.references = NULL;
    
    struct memblock mem_18297;
    
    mem_18297.references = NULL;
    
    struct memblock mem_18226;
    
    mem_18226.references = NULL;
    
    struct memblock mem_18223;
    
    mem_18223.references = NULL;
    
    struct memblock mem_18152;
    
    mem_18152.references = NULL;
    
    struct memblock mem_18149;
    
    mem_18149.references = NULL;
    
    struct memblock mem_18146;
    
    mem_18146.references = NULL;
    
    struct memblock mem_18143;
    
    mem_18143.references = NULL;
    
    struct memblock mem_18140;
    
    mem_18140.references = NULL;
    
    struct memblock mem_18137;
    
    mem_18137.references = NULL;
    
    struct memblock mem_18134;
    
    mem_18134.references = NULL;
    
    struct memblock mem_18131;
    
    mem_18131.references = NULL;
    
    struct memblock mem_param_tmp_18944;
    
    mem_param_tmp_18944.references = NULL;
    
    struct memblock mem_param_tmp_18943;
    
    mem_param_tmp_18943.references = NULL;
    
    struct memblock mem_param_tmp_18942;
    
    mem_param_tmp_18942.references = NULL;
    
    struct memblock mem_param_tmp_18941;
    
    mem_param_tmp_18941.references = NULL;
    
    struct memblock mem_param_17907;
    
    mem_param_17907.references = NULL;
    
    struct memblock mem_param_17902;
    
    mem_param_17902.references = NULL;
    
    struct memblock mem_param_17897;
    
    mem_param_17897.references = NULL;
    
    struct memblock mem_param_17892;
    
    mem_param_17892.references = NULL;
    
    struct memblock ext_mem_17932;
    
    ext_mem_17932.references = NULL;
    
    struct memblock ext_mem_17933;
    
    ext_mem_17933.references = NULL;
    
    struct memblock ext_mem_17934;
    
    ext_mem_17934.references = NULL;
    
    struct memblock ext_mem_17935;
    
    ext_mem_17935.references = NULL;
    
    struct memblock mem_param_tmp_18918;
    
    mem_param_tmp_18918.references = NULL;
    
    struct memblock mem_param_tmp_18917;
    
    mem_param_tmp_18917.references = NULL;
    
    struct memblock mem_param_tmp_18916;
    
    mem_param_tmp_18916.references = NULL;
    
    struct memblock mem_param_tmp_18915;
    
    mem_param_tmp_18915.references = NULL;
    
    struct memblock mem_param_17837;
    
    mem_param_17837.references = NULL;
    
    struct memblock mem_param_17832;
    
    mem_param_17832.references = NULL;
    
    struct memblock mem_param_17827;
    
    mem_param_17827.references = NULL;
    
    struct memblock mem_param_17822;
    
    mem_param_17822.references = NULL;
    
    struct memblock ext_mem_17862;
    
    ext_mem_17862.references = NULL;
    
    struct memblock ext_mem_17863;
    
    ext_mem_17863.references = NULL;
    
    struct memblock ext_mem_17864;
    
    ext_mem_17864.references = NULL;
    
    struct memblock ext_mem_17865;
    
    ext_mem_17865.references = NULL;
    
    struct memblock mem_param_tmp_18892;
    
    mem_param_tmp_18892.references = NULL;
    
    struct memblock mem_param_tmp_18891;
    
    mem_param_tmp_18891.references = NULL;
    
    struct memblock mem_param_tmp_18890;
    
    mem_param_tmp_18890.references = NULL;
    
    struct memblock mem_param_tmp_18889;
    
    mem_param_tmp_18889.references = NULL;
    
    struct memblock mem_param_17767;
    
    mem_param_17767.references = NULL;
    
    struct memblock mem_param_17762;
    
    mem_param_17762.references = NULL;
    
    struct memblock mem_param_17757;
    
    mem_param_17757.references = NULL;
    
    struct memblock mem_param_17752;
    
    mem_param_17752.references = NULL;
    
    struct memblock ext_mem_17792;
    
    ext_mem_17792.references = NULL;
    
    struct memblock ext_mem_17793;
    
    ext_mem_17793.references = NULL;
    
    struct memblock ext_mem_17794;
    
    ext_mem_17794.references = NULL;
    
    struct memblock ext_mem_17795;
    
    ext_mem_17795.references = NULL;
    
    struct memblock mem_17887;
    
    mem_17887.references = NULL;
    
    struct memblock mem_17884;
    
    mem_17884.references = NULL;
    
    struct memblock mem_17817;
    
    mem_17817.references = NULL;
    
    struct memblock mem_17814;
    
    mem_17814.references = NULL;
    
    struct memblock mem_17747;
    
    mem_17747.references = NULL;
    
    struct memblock mem_17744;
    
    mem_17744.references = NULL;
    
    struct memblock mem_17669;
    
    mem_17669.references = NULL;
    
    struct memblock mem_17666;
    
    mem_17666.references = NULL;
    
    struct memblock mem_17663;
    
    mem_17663.references = NULL;
    
    struct memblock mem_17660;
    
    mem_17660.references = NULL;
    
    struct memblock mem_17657;
    
    mem_17657.references = NULL;
    
    struct memblock mem_17654;
    
    mem_17654.references = NULL;
    
    struct memblock mem_param_tmp_18842;
    
    mem_param_tmp_18842.references = NULL;
    
    struct memblock mem_param_tmp_18841;
    
    mem_param_tmp_18841.references = NULL;
    
    struct memblock mem_param_tmp_18840;
    
    mem_param_tmp_18840.references = NULL;
    
    struct memblock mem_param_tmp_18839;
    
    mem_param_tmp_18839.references = NULL;
    
    struct memblock mem_param_17426;
    
    mem_param_17426.references = NULL;
    
    struct memblock mem_param_17421;
    
    mem_param_17421.references = NULL;
    
    struct memblock mem_param_17416;
    
    mem_param_17416.references = NULL;
    
    struct memblock mem_param_17411;
    
    mem_param_17411.references = NULL;
    
    struct memblock ext_mem_17455;
    
    ext_mem_17455.references = NULL;
    
    struct memblock ext_mem_17456;
    
    ext_mem_17456.references = NULL;
    
    struct memblock ext_mem_17457;
    
    ext_mem_17457.references = NULL;
    
    struct memblock ext_mem_17458;
    
    ext_mem_17458.references = NULL;
    
    struct memblock mem_param_tmp_18812;
    
    mem_param_tmp_18812.references = NULL;
    
    struct memblock mem_param_tmp_18811;
    
    mem_param_tmp_18811.references = NULL;
    
    struct memblock mem_param_tmp_18810;
    
    mem_param_tmp_18810.references = NULL;
    
    struct memblock mem_param_tmp_18809;
    
    mem_param_tmp_18809.references = NULL;
    
    struct memblock mem_param_17352;
    
    mem_param_17352.references = NULL;
    
    struct memblock mem_param_17347;
    
    mem_param_17347.references = NULL;
    
    struct memblock mem_param_17342;
    
    mem_param_17342.references = NULL;
    
    struct memblock mem_param_17337;
    
    mem_param_17337.references = NULL;
    
    struct memblock ext_mem_17381;
    
    ext_mem_17381.references = NULL;
    
    struct memblock ext_mem_17382;
    
    ext_mem_17382.references = NULL;
    
    struct memblock ext_mem_17383;
    
    ext_mem_17383.references = NULL;
    
    struct memblock ext_mem_17384;
    
    ext_mem_17384.references = NULL;
    
    struct memblock mem_param_tmp_18782;
    
    mem_param_tmp_18782.references = NULL;
    
    struct memblock mem_param_tmp_18781;
    
    mem_param_tmp_18781.references = NULL;
    
    struct memblock mem_param_tmp_18780;
    
    mem_param_tmp_18780.references = NULL;
    
    struct memblock mem_param_tmp_18779;
    
    mem_param_tmp_18779.references = NULL;
    
    struct memblock mem_param_17278;
    
    mem_param_17278.references = NULL;
    
    struct memblock mem_param_17273;
    
    mem_param_17273.references = NULL;
    
    struct memblock mem_param_17268;
    
    mem_param_17268.references = NULL;
    
    struct memblock mem_param_17263;
    
    mem_param_17263.references = NULL;
    
    struct memblock ext_mem_17307;
    
    ext_mem_17307.references = NULL;
    
    struct memblock ext_mem_17308;
    
    ext_mem_17308.references = NULL;
    
    struct memblock ext_mem_17309;
    
    ext_mem_17309.references = NULL;
    
    struct memblock ext_mem_17310;
    
    ext_mem_17310.references = NULL;
    
    struct memblock mem_17406;
    
    mem_17406.references = NULL;
    
    struct memblock mem_17403;
    
    mem_17403.references = NULL;
    
    struct memblock mem_17332;
    
    mem_17332.references = NULL;
    
    struct memblock mem_17329;
    
    mem_17329.references = NULL;
    
    struct memblock mem_17258;
    
    mem_17258.references = NULL;
    
    struct memblock mem_17255;
    
    mem_17255.references = NULL;
    
    struct memblock mem_17252;
    
    mem_17252.references = NULL;
    
    struct memblock mem_17249;
    
    mem_17249.references = NULL;
    
    struct memblock mem_17246;
    
    mem_17246.references = NULL;
    
    struct memblock mem_17243;
    
    mem_17243.references = NULL;
    
    struct memblock mem_17240;
    
    mem_17240.references = NULL;
    
    struct memblock mem_17237;
    
    mem_17237.references = NULL;
    
    struct memblock mem_param_tmp_18722;
    
    mem_param_tmp_18722.references = NULL;
    
    struct memblock mem_param_tmp_18721;
    
    mem_param_tmp_18721.references = NULL;
    
    struct memblock mem_param_tmp_18720;
    
    mem_param_tmp_18720.references = NULL;
    
    struct memblock mem_param_tmp_18719;
    
    mem_param_tmp_18719.references = NULL;
    
    struct memblock mem_param_17011;
    
    mem_param_17011.references = NULL;
    
    struct memblock mem_param_17006;
    
    mem_param_17006.references = NULL;
    
    struct memblock mem_param_17001;
    
    mem_param_17001.references = NULL;
    
    struct memblock mem_param_16996;
    
    mem_param_16996.references = NULL;
    
    struct memblock ext_mem_17038;
    
    ext_mem_17038.references = NULL;
    
    struct memblock ext_mem_17039;
    
    ext_mem_17039.references = NULL;
    
    struct memblock ext_mem_17040;
    
    ext_mem_17040.references = NULL;
    
    struct memblock ext_mem_17041;
    
    ext_mem_17041.references = NULL;
    
    struct memblock mem_param_tmp_18696;
    
    mem_param_tmp_18696.references = NULL;
    
    struct memblock mem_param_tmp_18695;
    
    mem_param_tmp_18695.references = NULL;
    
    struct memblock mem_param_tmp_18694;
    
    mem_param_tmp_18694.references = NULL;
    
    struct memblock mem_param_tmp_18693;
    
    mem_param_tmp_18693.references = NULL;
    
    struct memblock mem_param_16939;
    
    mem_param_16939.references = NULL;
    
    struct memblock mem_param_16934;
    
    mem_param_16934.references = NULL;
    
    struct memblock mem_param_16929;
    
    mem_param_16929.references = NULL;
    
    struct memblock mem_param_16924;
    
    mem_param_16924.references = NULL;
    
    struct memblock ext_mem_16966;
    
    ext_mem_16966.references = NULL;
    
    struct memblock ext_mem_16967;
    
    ext_mem_16967.references = NULL;
    
    struct memblock ext_mem_16968;
    
    ext_mem_16968.references = NULL;
    
    struct memblock ext_mem_16969;
    
    ext_mem_16969.references = NULL;
    
    struct memblock mem_param_tmp_18670;
    
    mem_param_tmp_18670.references = NULL;
    
    struct memblock mem_param_tmp_18669;
    
    mem_param_tmp_18669.references = NULL;
    
    struct memblock mem_param_tmp_18668;
    
    mem_param_tmp_18668.references = NULL;
    
    struct memblock mem_param_tmp_18667;
    
    mem_param_tmp_18667.references = NULL;
    
    struct memblock mem_param_16867;
    
    mem_param_16867.references = NULL;
    
    struct memblock mem_param_16862;
    
    mem_param_16862.references = NULL;
    
    struct memblock mem_param_16857;
    
    mem_param_16857.references = NULL;
    
    struct memblock mem_param_16852;
    
    mem_param_16852.references = NULL;
    
    struct memblock ext_mem_16894;
    
    ext_mem_16894.references = NULL;
    
    struct memblock ext_mem_16895;
    
    ext_mem_16895.references = NULL;
    
    struct memblock ext_mem_16896;
    
    ext_mem_16896.references = NULL;
    
    struct memblock ext_mem_16897;
    
    ext_mem_16897.references = NULL;
    
    struct memblock mem_16991;
    
    mem_16991.references = NULL;
    
    struct memblock mem_16988;
    
    mem_16988.references = NULL;
    
    struct memblock mem_16919;
    
    mem_16919.references = NULL;
    
    struct memblock mem_16916;
    
    mem_16916.references = NULL;
    
    struct memblock mem_16847;
    
    mem_16847.references = NULL;
    
    struct memblock mem_16844;
    
    mem_16844.references = NULL;
    
    struct memblock mem_16805;
    
    mem_16805.references = NULL;
    
    struct memblock mem_16802;
    
    mem_16802.references = NULL;
    
    struct memblock mem_16799;
    
    mem_16799.references = NULL;
    
    struct memblock mem_16796;
    
    mem_16796.references = NULL;
    
    struct memblock mem_16793;
    
    mem_16793.references = NULL;
    
    struct memblock mem_16790;
    
    mem_16790.references = NULL;
    
    struct memblock mem_out_18625;
    
    mem_out_18625.references = NULL;
    
    bool loop_cond_14698 = slt64((int64_t) 1, m_11476);
    int64_t y_14683 = sub64(m_11476, (int64_t) 1);
    int64_t x_14684 = m_11476 & y_14683;
    bool is_power_of_2_res_14685 = x_14684 == (int64_t) 0;
    int64_t y_14680 = sub64(n_11475, (int64_t) 1);
    int64_t x_14681 = n_11475 & y_14680;
    bool is_power_of_2_res_14682 = x_14681 == (int64_t) 0;
    bool x_14686 = is_power_of_2_res_14682 && is_power_of_2_res_14685;
    bool assert_c_14687;
    
    if (!x_14686) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (is_power_of_2 n && is_power_of_2 m)",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:76:5-82:30\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #2  sample_programs/fft.fut:38:18-38\n   #3  sample_programs/fft.fut:61:12-29\n   #4  sample_programs/fft.fut:70:25-39\n   #5  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool r_15771;
    int32_t r_15772;
    int64_t r_15773;
    bool loop_while_15774;
    int32_t r_15775;
    int64_t n_15776;
    
    loop_while_15774 = loop_cond_14698;
    r_15775 = 0;
    n_15776 = m_11476;
    while (loop_while_15774) {
        int64_t n_15777 = sdiv64(n_15776, (int64_t) 2);
        int32_t r_15778 = add32(1, r_15775);
        bool loop_cond_15779 = slt64((int64_t) 1, n_15777);
        bool loop_while_tmp_18626 = loop_cond_15779;
        int32_t r_tmp_18627 = r_15778;
        int64_t n_tmp_18628 = n_15777;
        
        loop_while_15774 = loop_while_tmp_18626;
        r_15775 = r_tmp_18627;
        n_15776 = n_tmp_18628;
    }
    r_15771 = loop_while_15774;
    r_15772 = r_15775;
    r_15773 = n_15776;
    
    int64_t i32_res_15780 = sext_i32_i64(r_15772);
    bool loop_nonempty_15798 = slt64((int64_t) 0, i32_res_15780);
    bool loop_not_taken_15803 = !loop_nonempty_15798;
    int64_t iota_arg_14709 = sdiv64(m_11476, (int64_t) 2);
    int64_t conc_tmp_14729 = iota_arg_14709 + iota_arg_14709;
    bool dim_match_14730 = m_11476 == conc_tmp_14729;
    bool protect_assert_disj_15804 = dim_match_14730 || loop_not_taken_15803;
    bool empty_or_match_cert_15806;
    
    if (!protect_assert_disj_15804) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15805;
    
    if (!protect_assert_disj_15804) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15786 = slt64(i32_res_15780, (int64_t) 0);
    bool valid_15787 = !bounds_invalid_upwards_15786;
    bool range_valid_c_15788;
    
    if (!valid_15787) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15780, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16635 = (int64_t) 4 * i32_res_15780;
    int64_t bytes_16636 = smax64((int64_t) 0, binop_y_16635);
    
    if (mem_16637_cached_sizze_19080 < bytes_16636) {
        err = lexical_realloc(&ctx->error, &mem_16637,
                              &mem_16637_cached_sizze_19080, bytes_16636);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16550 = 0; i_16550 < r_15772; i_16550++) {
        int64_t i_16267 = sext_i32_i64(i_16550);
        bool nonnegative_15795 = sle32(0, i_16550);
        bool nonzzero_cert_15796;
        
        if (!nonnegative_15795) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15797 = shl32(1, i_16550);
        
        ((int32_t *) mem_16637)[i_16267] = defunc_0_f_res_15797;
    }
    
    bool r_15235;
    int32_t r_15236;
    int64_t r_15237;
    bool loop_while_15238;
    int32_t r_15239;
    int64_t n_15240;
    
    loop_while_15238 = loop_cond_14698;
    r_15239 = 0;
    n_15240 = m_11476;
    while (loop_while_15238) {
        int64_t n_15241 = sdiv64(n_15240, (int64_t) 2);
        int32_t r_15242 = add32(1, r_15239);
        bool loop_cond_15243 = slt64((int64_t) 1, n_15241);
        bool loop_while_tmp_18630 = loop_cond_15243;
        int32_t r_tmp_18631 = r_15242;
        int64_t n_tmp_18632 = n_15241;
        
        loop_while_15238 = loop_while_tmp_18630;
        r_15239 = r_tmp_18631;
        n_15240 = n_tmp_18632;
    }
    r_15235 = loop_while_15238;
    r_15236 = r_15239;
    r_15237 = n_15240;
    
    int64_t i32_res_15244 = sext_i32_i64(r_15236);
    bool loop_nonempty_15262 = slt64((int64_t) 0, i32_res_15244);
    bool loop_not_taken_15267 = !loop_nonempty_15262;
    bool protect_assert_disj_15268 = dim_match_14730 || loop_not_taken_15267;
    bool empty_or_match_cert_15270;
    
    if (!protect_assert_disj_15268) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15269;
    
    if (!protect_assert_disj_15268) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15250 = slt64(i32_res_15244, (int64_t) 0);
    bool valid_15251 = !bounds_invalid_upwards_15250;
    bool range_valid_c_15252;
    
    if (!valid_15251) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15244, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16650 = (int64_t) 4 * i32_res_15244;
    int64_t bytes_16651 = smax64((int64_t) 0, binop_y_16650);
    
    if (mem_16652_cached_sizze_19081 < bytes_16651) {
        err = lexical_realloc(&ctx->error, &mem_16652,
                              &mem_16652_cached_sizze_19081, bytes_16651);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16551 = 0; i_16551 < r_15236; i_16551++) {
        int64_t i_16271 = sext_i32_i64(i_16551);
        bool nonnegative_15259 = sle32(0, i_16551);
        bool nonzzero_cert_15260;
        
        if (!nonnegative_15259) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15261 = shl32(1, i_16551);
        
        ((int32_t *) mem_16652)[i_16271] = defunc_0_f_res_15261;
    }
    
    bool r_14699;
    int32_t r_14700;
    int64_t r_14701;
    bool loop_while_14702;
    int32_t r_14703;
    int64_t n_14704;
    
    loop_while_14702 = loop_cond_14698;
    r_14703 = 0;
    n_14704 = m_11476;
    while (loop_while_14702) {
        int64_t n_14705 = sdiv64(n_14704, (int64_t) 2);
        int32_t r_14706 = add32(1, r_14703);
        bool loop_cond_14707 = slt64((int64_t) 1, n_14705);
        bool loop_while_tmp_18634 = loop_cond_14707;
        int32_t r_tmp_18635 = r_14706;
        int64_t n_tmp_18636 = n_14705;
        
        loop_while_14702 = loop_while_tmp_18634;
        r_14703 = r_tmp_18635;
        n_14704 = n_tmp_18636;
    }
    r_14699 = loop_while_14702;
    r_14700 = r_14703;
    r_14701 = n_14704;
    
    int64_t i32_res_14708 = sext_i32_i64(r_14700);
    bool loop_nonempty_14726 = slt64((int64_t) 0, i32_res_14708);
    bool loop_not_taken_14731 = !loop_nonempty_14726;
    bool protect_assert_disj_14732 = dim_match_14730 || loop_not_taken_14731;
    bool empty_or_match_cert_14734;
    
    if (!protect_assert_disj_14732) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_14733;
    
    if (!protect_assert_disj_14732) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int32_t i64_res_14727 = sext_i64_i32(m_11476);
    int32_t y_14728 = sdiv32(i64_res_14727, 2);
    bool bounds_invalid_upwards_14714 = slt64(i32_res_14708, (int64_t) 0);
    bool valid_14715 = !bounds_invalid_upwards_14714;
    bool range_valid_c_14716;
    
    if (!valid_14715) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_14708, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16665 = (int64_t) 4 * i32_res_14708;
    int64_t bytes_16666 = smax64((int64_t) 0, binop_y_16665);
    
    if (mem_16667_cached_sizze_19082 < bytes_16666) {
        err = lexical_realloc(&ctx->error, &mem_16667,
                              &mem_16667_cached_sizze_19082, bytes_16666);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16552 = 0; i_16552 < r_14700; i_16552++) {
        int64_t i_16275 = sext_i32_i64(i_16552);
        bool nonnegative_14723 = sle32(0, i_16552);
        bool nonzzero_cert_14724;
        
        if (!nonnegative_14723) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_14725 = shl32(1, i_16552);
        
        ((int32_t *) mem_16667)[i_16275] = defunc_0_f_res_14725;
    }
    
    bool bounds_invalid_upwards_14710 = slt64(iota_arg_14709, (int64_t) 0);
    bool valid_14711 = !bounds_invalid_upwards_14710;
    bool range_valid_c_14712;
    
    if (!valid_14711) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) iota_arg_14709, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:34:14-34\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16680 = (int64_t) 4 * m_11476;
    int64_t bytes_16681 = smax64((int64_t) 0, binop_y_16680);
    
    if (mem_16682_cached_sizze_19083 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16682,
                              &mem_16682_cached_sizze_19083, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_16279 = 0; i_16279 < m_11476; i_16279++) {
        int32_t defunc_0_f_res_14666 = sext_i64_i32(i_16279);
        
        ((int32_t *) mem_16682)[i_16279] = defunc_0_f_res_14666;
    }
    if (mem_16697_cached_sizze_19084 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16697,
                              &mem_16697_cached_sizze_19084, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_18639 = 0; i_18639 < m_11476; i_18639++) {
        ((float *) mem_16697)[i_18639] = 0.0F;
    }
    if (mem_16700_cached_sizze_19085 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16700,
                              &mem_16700_cached_sizze_19085, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_18640 = 0; i_18640 < m_11476; i_18640++) {
        ((float *) mem_16700)[i_18640] = 0.0F;
    }
    if (mem_16703_cached_sizze_19086 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16703,
                              &mem_16703_cached_sizze_19086, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_18641 = 0; i_18641 < m_11476; i_18641++) {
        ((float *) mem_16703)[i_18641] = 0.0F;
    }
    
    int64_t binop_x_16704 = n_11475 * m_11476;
    int64_t binop_y_16705 = (int64_t) 4 * binop_x_16704;
    int64_t bytes_16706 = smax64((int64_t) 0, binop_y_16705);
    
    if (mem_16707_cached_sizze_19087 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16707,
                              &mem_16707_cached_sizze_19087, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16711_cached_sizze_19088 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16711,
                              &mem_16711_cached_sizze_19088, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16715_cached_sizze_19089 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16715,
                              &mem_16715_cached_sizze_19089, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16719_cached_sizze_19090 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16719,
                              &mem_16719_cached_sizze_19090, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16723_cached_sizze_19091 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16723,
                              &mem_16723_cached_sizze_19091, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16727_cached_sizze_19092 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16727,
                              &mem_16727_cached_sizze_19092, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16790, bytes_16681, "mem_16790")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16793, bytes_16681, "mem_16793")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16796, bytes_16681, "mem_16796")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16799, bytes_16681, "mem_16799")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16802, bytes_16681, "mem_16802")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16805, bytes_16681, "mem_16805")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16844, bytes_16681, "mem_16844")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16847, bytes_16681, "mem_16847")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16916, bytes_16681, "mem_16916")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16919, bytes_16681, "mem_16919")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16988, bytes_16681, "mem_16988")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16991, bytes_16681, "mem_16991")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16327 = 0; i_16327 < n_11475; i_16327++) {
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16790.mem + (int64_t) 0, mem_16703 + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16793.mem + (int64_t) 0, mem_16700 + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16796.mem + (int64_t) 0, mem_16697 + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int32_t defunc_0_f_res_14662 = sext_i64_i32(i_16327);
        
        for (int64_t i_16287 = 0; i_16287 < m_11476; i_16287++) {
            int32_t x_14672;
            
            x_14672 = ((int32_t *) mem_16682)[i_16287];
            
            int8_t defunc_0_f_res_14651;
            
            defunc_0_f_res_14651 = ((int8_t *) img_mem_16634.mem)[i_16327 *
                                                                  ((int64_t) 3 *
                                                                   m_11476) +
                                                                  i_16287 *
                                                                  (int64_t) 3];
            
            int8_t defunc_0_f_res_14652;
            
            defunc_0_f_res_14652 = ((int8_t *) img_mem_16634.mem)[i_16327 *
                                                                  ((int64_t) 3 *
                                                                   m_11476) +
                                                                  i_16287 *
                                                                  (int64_t) 3 +
                                                                  (int64_t) 1];
            
            int8_t defunc_0_f_res_14653;
            
            defunc_0_f_res_14653 = ((int8_t *) img_mem_16634.mem)[i_16327 *
                                                                  ((int64_t) 3 *
                                                                   m_11476) +
                                                                  i_16287 *
                                                                  (int64_t) 3 +
                                                                  (int64_t) 2];
            
            float defunc_0_f_res_14658 = uitofp_i8_f32(defunc_0_f_res_14651);
            float defunc_0_f_res_15194 = uitofp_i8_f32(defunc_0_f_res_14652);
            float defunc_0_f_res_15730 = uitofp_i8_f32(defunc_0_f_res_14653);
            int32_t y_14674 = add32(defunc_0_f_res_14662, x_14672);
            bool nonnegative_14675 = sle32(0, y_14674);
            bool nonzzero_cert_14676;
            
            if (!nonnegative_14675) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "negative exponent",
                                       "-> #0  sample_programs/fft.fut:32:29-41\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  sample_programs/fft.fut:28:3-34\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  sample_programs/fft.fut:28:3-34\n   #7  sample_programs/fft.fut:33:6-30\n   #8  sample_programs/fft.fut:37:22-42\n   #9  sample_programs/fft.fut:61:12-29\n   #10 sample_programs/fft.fut:70:25-39\n   #11 sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_14677 = pow32(-1, y_14674);
            float i32_res_14678 = sitofp_i32_f32(i32_arg_14677);
            float zt_res_14679 = defunc_0_f_res_14658 * i32_res_14678;
            float zt_res_15215 = i32_res_14678 * defunc_0_f_res_15194;
            float zt_res_15751 = i32_res_14678 * defunc_0_f_res_15730;
            
            ((float *) mem_16799.mem)[i_16287] = zt_res_14679;
            ((float *) mem_16802.mem)[i_16287] = zt_res_15215;
            ((float *) mem_16805.mem)[i_16287] = zt_res_15751;
        }
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16844.mem + (int64_t) 0, mem_16805.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16847.mem + (int64_t) 0, mem_16697 + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int64_t ext_16913;
        int64_t ext_16912;
        int64_t ext_16911;
        int64_t ext_16910;
        int64_t ext_16909;
        int64_t ext_16908;
        int64_t ext_16907;
        int64_t ext_16906;
        int64_t ext_16905;
        int64_t ext_16904;
        int64_t ext_16903;
        int64_t ext_16902;
        int64_t ext_16901;
        int64_t ext_16900;
        int64_t ext_16899;
        int64_t ext_16898;
        int64_t ctx_param_ext_16848;
        int64_t ctx_param_ext_16849;
        int64_t ctx_param_ext_16850;
        int64_t ctx_param_ext_16851;
        int64_t ctx_param_ext_16853;
        int64_t ctx_param_ext_16854;
        int64_t ctx_param_ext_16855;
        int64_t ctx_param_ext_16856;
        int64_t ctx_param_ext_16858;
        int64_t ctx_param_ext_16859;
        int64_t ctx_param_ext_16860;
        int64_t ctx_param_ext_16861;
        int64_t ctx_param_ext_16863;
        int64_t ctx_param_ext_16864;
        int64_t ctx_param_ext_16865;
        int64_t ctx_param_ext_16866;
        
        ctx_param_ext_16848 = m_11476;
        ctx_param_ext_16849 = (int64_t) 0;
        ctx_param_ext_16850 = (int64_t) 1;
        ctx_param_ext_16851 = m_11476;
        ctx_param_ext_16853 = m_11476;
        ctx_param_ext_16854 = (int64_t) 0;
        ctx_param_ext_16855 = (int64_t) 1;
        ctx_param_ext_16856 = m_11476;
        ctx_param_ext_16858 = m_11476;
        ctx_param_ext_16859 = (int64_t) 0;
        ctx_param_ext_16860 = (int64_t) 1;
        ctx_param_ext_16861 = m_11476;
        ctx_param_ext_16863 = m_11476;
        ctx_param_ext_16864 = (int64_t) 0;
        ctx_param_ext_16865 = (int64_t) 1;
        ctx_param_ext_16866 = m_11476;
        if (memblock_set(ctx, &mem_param_16852, &mem_16805, "mem_16805") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16857, &mem_16796, "mem_16796") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16862, &mem_16844, "mem_16844") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16867, &mem_16847, "mem_16847") != 0)
            return 1;
        
        int32_t ns_15822;
        
        for (int64_t i_15817 = 0; i_15817 < i32_res_15780; i_15817++) {
            ns_15822 = ((int32_t *) mem_16637)[i_15817];
            
            bool zzero_15828 = ns_15822 == 0;
            bool nonzzero_15829 = !zzero_15828;
            bool nonzzero_cert_15830;
            
            if (!nonzzero_15829) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15826 = mul32(2, ns_15822);
            float i32_res_15827 = sitofp_i32_f32(i32_arg_15826);
            
            for (int64_t write_iter_16291 = 0; write_iter_16291 <
                 iota_arg_14709; write_iter_16291++) {
                int32_t defunc_0_f_res_15825 = sext_i64_i32(write_iter_16291);
                int32_t i32_arg_15838 = smod32(defunc_0_f_res_15825, ns_15822);
                float i32_res_15839 = sitofp_i32_f32(i32_arg_15838);
                float zt_res_15840 = -6.2831855F * i32_res_15839;
                float zs_res_15841 = zt_res_15840 / i32_res_15827;
                int64_t j_15842 = sext_i32_i64(defunc_0_f_res_15825);
                bool x_15843 = sle64((int64_t) 0, j_15842);
                bool y_15844 = slt64(j_15842, m_11476);
                bool bounds_check_15845 = x_15843 && y_15844;
                bool index_certs_15846;
                
                if (!bounds_check_15845) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15842,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15847;
                
                defunc_0_f_res_15847 =
                    ((float *) mem_param_16852.mem)[ctx_param_ext_16849 +
                                                    j_15842 *
                                                    ctx_param_ext_16850];
                
                float defunc_0_f_res_15848;
                
                defunc_0_f_res_15848 =
                    ((float *) mem_param_16857.mem)[ctx_param_ext_16854 +
                                                    j_15842 *
                                                    ctx_param_ext_16855];
                
                float sin_res_15849;
                
                sin_res_15849 = futrts_sin32(zs_res_15841);
                
                float cos_res_15850;
                
                cos_res_15850 = futrts_cos32(zs_res_15841);
                
                int32_t i_15851 = add32(y_14728, defunc_0_f_res_15825);
                int64_t i_15852 = sext_i32_i64(i_15851);
                bool x_15853 = sle64((int64_t) 0, i_15852);
                bool y_15854 = slt64(i_15852, m_11476);
                bool bounds_check_15855 = x_15853 && y_15854;
                bool index_certs_15856;
                
                if (!bounds_check_15855) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15852,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15857;
                
                zt_arg_15857 =
                    ((float *) mem_param_16852.mem)[ctx_param_ext_16849 +
                                                    i_15852 *
                                                    ctx_param_ext_16850];
                
                float zt_arg_15858;
                
                zt_arg_15858 =
                    ((float *) mem_param_16857.mem)[ctx_param_ext_16854 +
                                                    i_15852 *
                                                    ctx_param_ext_16855];
                
                float zt_res_15859 = sin_res_15849 * zt_arg_15858;
                float zt_res_15860 = cos_res_15850 * zt_arg_15857;
                float zm_res_15861 = zt_res_15860 - zt_res_15859;
                float zt_res_15862 = sin_res_15849 * zt_arg_15857;
                float zt_res_15863 = cos_res_15850 * zt_arg_15858;
                float zp_res_15864 = zt_res_15862 + zt_res_15863;
                float zp_res_15865 = defunc_0_f_res_15847 + zm_res_15861;
                float zp_res_15866 = defunc_0_f_res_15848 + zp_res_15864;
                float zm_res_15867 = defunc_0_f_res_15847 - zm_res_15861;
                float zm_res_15868 = defunc_0_f_res_15848 - zp_res_15864;
                int32_t x_15869 = sdiv32(defunc_0_f_res_15825, ns_15822);
                int32_t x_15870 = mul32(ns_15822, x_15869);
                int32_t x_15871 = mul32(2, x_15870);
                int32_t idxD_15872 = add32(i32_arg_15838, x_15871);
                int64_t i32_res_15873 = sext_i32_i64(idxD_15872);
                int32_t i32_arg_15874 = add32(ns_15822, idxD_15872);
                int64_t i32_res_15875 = sext_i32_i64(i32_arg_15874);
                
                if (sle64((int64_t) 0, i32_res_15873) && slt64(i32_res_15873,
                                                               m_11476)) {
                    ((float *) mem_param_16862.mem)[ctx_param_ext_16859 +
                                                    i32_res_15873 *
                                                    ctx_param_ext_16860] =
                        zp_res_15865;
                }
                if (sle64((int64_t) 0, i32_res_15875) && slt64(i32_res_15875,
                                                               m_11476)) {
                    ((float *) mem_param_16862.mem)[ctx_param_ext_16859 +
                                                    i32_res_15875 *
                                                    ctx_param_ext_16860] =
                        zm_res_15867;
                }
                if (sle64((int64_t) 0, i32_res_15873) && slt64(i32_res_15873,
                                                               m_11476)) {
                    ((float *) mem_param_16867.mem)[ctx_param_ext_16864 +
                                                    i32_res_15873 *
                                                    ctx_param_ext_16865] =
                        zp_res_15866;
                }
                if (sle64((int64_t) 0, i32_res_15875) && slt64(i32_res_15875,
                                                               m_11476)) {
                    ((float *) mem_param_16867.mem)[ctx_param_ext_16864 +
                                                    i32_res_15875 *
                                                    ctx_param_ext_16865] =
                        zm_res_15868;
                }
            }
            
            int64_t ctx_param_ext_tmp_18651 = ctx_param_ext_16858;
            int64_t ctx_param_ext_tmp_18652 = ctx_param_ext_16859;
            int64_t ctx_param_ext_tmp_18653 = ctx_param_ext_16860;
            int64_t ctx_param_ext_tmp_18654 = ctx_param_ext_16861;
            int64_t ctx_param_ext_tmp_18655 = ctx_param_ext_16863;
            int64_t ctx_param_ext_tmp_18656 = ctx_param_ext_16864;
            int64_t ctx_param_ext_tmp_18657 = ctx_param_ext_16865;
            int64_t ctx_param_ext_tmp_18658 = ctx_param_ext_16866;
            int64_t ctx_param_ext_tmp_18659 = ctx_param_ext_16848;
            int64_t ctx_param_ext_tmp_18660 = ctx_param_ext_16849;
            int64_t ctx_param_ext_tmp_18661 = ctx_param_ext_16850;
            int64_t ctx_param_ext_tmp_18662 = ctx_param_ext_16851;
            int64_t ctx_param_ext_tmp_18663 = ctx_param_ext_16853;
            int64_t ctx_param_ext_tmp_18664 = ctx_param_ext_16854;
            int64_t ctx_param_ext_tmp_18665 = ctx_param_ext_16855;
            int64_t ctx_param_ext_tmp_18666 = ctx_param_ext_16856;
            
            if (memblock_set(ctx, &mem_param_tmp_18667, &mem_param_16862,
                             "mem_param_16862") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18668, &mem_param_16867,
                             "mem_param_16867") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18669, &mem_param_16852,
                             "mem_param_16852") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18670, &mem_param_16857,
                             "mem_param_16857") != 0)
                return 1;
            ctx_param_ext_16848 = ctx_param_ext_tmp_18651;
            ctx_param_ext_16849 = ctx_param_ext_tmp_18652;
            ctx_param_ext_16850 = ctx_param_ext_tmp_18653;
            ctx_param_ext_16851 = ctx_param_ext_tmp_18654;
            ctx_param_ext_16853 = ctx_param_ext_tmp_18655;
            ctx_param_ext_16854 = ctx_param_ext_tmp_18656;
            ctx_param_ext_16855 = ctx_param_ext_tmp_18657;
            ctx_param_ext_16856 = ctx_param_ext_tmp_18658;
            ctx_param_ext_16858 = ctx_param_ext_tmp_18659;
            ctx_param_ext_16859 = ctx_param_ext_tmp_18660;
            ctx_param_ext_16860 = ctx_param_ext_tmp_18661;
            ctx_param_ext_16861 = ctx_param_ext_tmp_18662;
            ctx_param_ext_16863 = ctx_param_ext_tmp_18663;
            ctx_param_ext_16864 = ctx_param_ext_tmp_18664;
            ctx_param_ext_16865 = ctx_param_ext_tmp_18665;
            ctx_param_ext_16866 = ctx_param_ext_tmp_18666;
            if (memblock_set(ctx, &mem_param_16852, &mem_param_tmp_18667,
                             "mem_param_tmp_18667") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16857, &mem_param_tmp_18668,
                             "mem_param_tmp_18668") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16862, &mem_param_tmp_18669,
                             "mem_param_tmp_18669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16867, &mem_param_tmp_18670,
                             "mem_param_tmp_18670") != 0)
                return 1;
        }
        ext_16913 = ctx_param_ext_16848;
        ext_16912 = ctx_param_ext_16849;
        ext_16911 = ctx_param_ext_16850;
        ext_16910 = ctx_param_ext_16851;
        ext_16909 = ctx_param_ext_16853;
        ext_16908 = ctx_param_ext_16854;
        ext_16907 = ctx_param_ext_16855;
        ext_16906 = ctx_param_ext_16856;
        ext_16905 = ctx_param_ext_16858;
        ext_16904 = ctx_param_ext_16859;
        ext_16903 = ctx_param_ext_16860;
        ext_16902 = ctx_param_ext_16861;
        ext_16901 = ctx_param_ext_16863;
        ext_16900 = ctx_param_ext_16864;
        ext_16899 = ctx_param_ext_16865;
        ext_16898 = ctx_param_ext_16866;
        if (memblock_set(ctx, &ext_mem_16897, &mem_param_16852,
                         "mem_param_16852") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16896, &mem_param_16857,
                         "mem_param_16857") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16895, &mem_param_16862,
                         "mem_param_16862") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16894, &mem_param_16867,
                         "mem_param_16867") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16916.mem + (int64_t) 0, mem_16802.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16919.mem + (int64_t) 0, mem_16700 + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int64_t ext_16985;
        int64_t ext_16984;
        int64_t ext_16983;
        int64_t ext_16982;
        int64_t ext_16981;
        int64_t ext_16980;
        int64_t ext_16979;
        int64_t ext_16978;
        int64_t ext_16977;
        int64_t ext_16976;
        int64_t ext_16975;
        int64_t ext_16974;
        int64_t ext_16973;
        int64_t ext_16972;
        int64_t ext_16971;
        int64_t ext_16970;
        int64_t ctx_param_ext_16920;
        int64_t ctx_param_ext_16921;
        int64_t ctx_param_ext_16922;
        int64_t ctx_param_ext_16923;
        int64_t ctx_param_ext_16925;
        int64_t ctx_param_ext_16926;
        int64_t ctx_param_ext_16927;
        int64_t ctx_param_ext_16928;
        int64_t ctx_param_ext_16930;
        int64_t ctx_param_ext_16931;
        int64_t ctx_param_ext_16932;
        int64_t ctx_param_ext_16933;
        int64_t ctx_param_ext_16935;
        int64_t ctx_param_ext_16936;
        int64_t ctx_param_ext_16937;
        int64_t ctx_param_ext_16938;
        
        ctx_param_ext_16920 = m_11476;
        ctx_param_ext_16921 = (int64_t) 0;
        ctx_param_ext_16922 = (int64_t) 1;
        ctx_param_ext_16923 = m_11476;
        ctx_param_ext_16925 = m_11476;
        ctx_param_ext_16926 = (int64_t) 0;
        ctx_param_ext_16927 = (int64_t) 1;
        ctx_param_ext_16928 = m_11476;
        ctx_param_ext_16930 = m_11476;
        ctx_param_ext_16931 = (int64_t) 0;
        ctx_param_ext_16932 = (int64_t) 1;
        ctx_param_ext_16933 = m_11476;
        ctx_param_ext_16935 = m_11476;
        ctx_param_ext_16936 = (int64_t) 0;
        ctx_param_ext_16937 = (int64_t) 1;
        ctx_param_ext_16938 = m_11476;
        if (memblock_set(ctx, &mem_param_16924, &mem_16802, "mem_16802") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16929, &mem_16793, "mem_16793") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16934, &mem_16916, "mem_16916") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16939, &mem_16919, "mem_16919") != 0)
            return 1;
        
        int32_t ns_15286;
        
        for (int64_t i_15281 = 0; i_15281 < i32_res_15244; i_15281++) {
            ns_15286 = ((int32_t *) mem_16652)[i_15281];
            
            bool zzero_15292 = ns_15286 == 0;
            bool nonzzero_15293 = !zzero_15292;
            bool nonzzero_cert_15294;
            
            if (!nonzzero_15293) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15290 = mul32(2, ns_15286);
            float i32_res_15291 = sitofp_i32_f32(i32_arg_15290);
            
            for (int64_t write_iter_16299 = 0; write_iter_16299 <
                 iota_arg_14709; write_iter_16299++) {
                int32_t defunc_0_f_res_15289 = sext_i64_i32(write_iter_16299);
                int32_t i32_arg_15302 = smod32(defunc_0_f_res_15289, ns_15286);
                float i32_res_15303 = sitofp_i32_f32(i32_arg_15302);
                float zt_res_15304 = -6.2831855F * i32_res_15303;
                float zs_res_15305 = zt_res_15304 / i32_res_15291;
                int64_t j_15306 = sext_i32_i64(defunc_0_f_res_15289);
                bool x_15307 = sle64((int64_t) 0, j_15306);
                bool y_15308 = slt64(j_15306, m_11476);
                bool bounds_check_15309 = x_15307 && y_15308;
                bool index_certs_15310;
                
                if (!bounds_check_15309) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15306,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15311;
                
                defunc_0_f_res_15311 =
                    ((float *) mem_param_16924.mem)[ctx_param_ext_16921 +
                                                    j_15306 *
                                                    ctx_param_ext_16922];
                
                float defunc_0_f_res_15312;
                
                defunc_0_f_res_15312 =
                    ((float *) mem_param_16929.mem)[ctx_param_ext_16926 +
                                                    j_15306 *
                                                    ctx_param_ext_16927];
                
                float sin_res_15313;
                
                sin_res_15313 = futrts_sin32(zs_res_15305);
                
                float cos_res_15314;
                
                cos_res_15314 = futrts_cos32(zs_res_15305);
                
                int32_t i_15315 = add32(y_14728, defunc_0_f_res_15289);
                int64_t i_15316 = sext_i32_i64(i_15315);
                bool x_15317 = sle64((int64_t) 0, i_15316);
                bool y_15318 = slt64(i_15316, m_11476);
                bool bounds_check_15319 = x_15317 && y_15318;
                bool index_certs_15320;
                
                if (!bounds_check_15319) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15316,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15321;
                
                zt_arg_15321 =
                    ((float *) mem_param_16924.mem)[ctx_param_ext_16921 +
                                                    i_15316 *
                                                    ctx_param_ext_16922];
                
                float zt_arg_15322;
                
                zt_arg_15322 =
                    ((float *) mem_param_16929.mem)[ctx_param_ext_16926 +
                                                    i_15316 *
                                                    ctx_param_ext_16927];
                
                float zt_res_15323 = sin_res_15313 * zt_arg_15322;
                float zt_res_15324 = cos_res_15314 * zt_arg_15321;
                float zm_res_15325 = zt_res_15324 - zt_res_15323;
                float zt_res_15326 = sin_res_15313 * zt_arg_15321;
                float zt_res_15327 = cos_res_15314 * zt_arg_15322;
                float zp_res_15328 = zt_res_15326 + zt_res_15327;
                float zp_res_15329 = defunc_0_f_res_15311 + zm_res_15325;
                float zp_res_15330 = defunc_0_f_res_15312 + zp_res_15328;
                float zm_res_15331 = defunc_0_f_res_15311 - zm_res_15325;
                float zm_res_15332 = defunc_0_f_res_15312 - zp_res_15328;
                int32_t x_15333 = sdiv32(defunc_0_f_res_15289, ns_15286);
                int32_t x_15334 = mul32(ns_15286, x_15333);
                int32_t x_15335 = mul32(2, x_15334);
                int32_t idxD_15336 = add32(i32_arg_15302, x_15335);
                int64_t i32_res_15337 = sext_i32_i64(idxD_15336);
                int32_t i32_arg_15338 = add32(ns_15286, idxD_15336);
                int64_t i32_res_15339 = sext_i32_i64(i32_arg_15338);
                
                if (sle64((int64_t) 0, i32_res_15337) && slt64(i32_res_15337,
                                                               m_11476)) {
                    ((float *) mem_param_16934.mem)[ctx_param_ext_16931 +
                                                    i32_res_15337 *
                                                    ctx_param_ext_16932] =
                        zp_res_15329;
                }
                if (sle64((int64_t) 0, i32_res_15339) && slt64(i32_res_15339,
                                                               m_11476)) {
                    ((float *) mem_param_16934.mem)[ctx_param_ext_16931 +
                                                    i32_res_15339 *
                                                    ctx_param_ext_16932] =
                        zm_res_15331;
                }
                if (sle64((int64_t) 0, i32_res_15337) && slt64(i32_res_15337,
                                                               m_11476)) {
                    ((float *) mem_param_16939.mem)[ctx_param_ext_16936 +
                                                    i32_res_15337 *
                                                    ctx_param_ext_16937] =
                        zp_res_15330;
                }
                if (sle64((int64_t) 0, i32_res_15339) && slt64(i32_res_15339,
                                                               m_11476)) {
                    ((float *) mem_param_16939.mem)[ctx_param_ext_16936 +
                                                    i32_res_15339 *
                                                    ctx_param_ext_16937] =
                        zm_res_15332;
                }
            }
            
            int64_t ctx_param_ext_tmp_18677 = ctx_param_ext_16930;
            int64_t ctx_param_ext_tmp_18678 = ctx_param_ext_16931;
            int64_t ctx_param_ext_tmp_18679 = ctx_param_ext_16932;
            int64_t ctx_param_ext_tmp_18680 = ctx_param_ext_16933;
            int64_t ctx_param_ext_tmp_18681 = ctx_param_ext_16935;
            int64_t ctx_param_ext_tmp_18682 = ctx_param_ext_16936;
            int64_t ctx_param_ext_tmp_18683 = ctx_param_ext_16937;
            int64_t ctx_param_ext_tmp_18684 = ctx_param_ext_16938;
            int64_t ctx_param_ext_tmp_18685 = ctx_param_ext_16920;
            int64_t ctx_param_ext_tmp_18686 = ctx_param_ext_16921;
            int64_t ctx_param_ext_tmp_18687 = ctx_param_ext_16922;
            int64_t ctx_param_ext_tmp_18688 = ctx_param_ext_16923;
            int64_t ctx_param_ext_tmp_18689 = ctx_param_ext_16925;
            int64_t ctx_param_ext_tmp_18690 = ctx_param_ext_16926;
            int64_t ctx_param_ext_tmp_18691 = ctx_param_ext_16927;
            int64_t ctx_param_ext_tmp_18692 = ctx_param_ext_16928;
            
            if (memblock_set(ctx, &mem_param_tmp_18693, &mem_param_16934,
                             "mem_param_16934") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18694, &mem_param_16939,
                             "mem_param_16939") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18695, &mem_param_16924,
                             "mem_param_16924") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18696, &mem_param_16929,
                             "mem_param_16929") != 0)
                return 1;
            ctx_param_ext_16920 = ctx_param_ext_tmp_18677;
            ctx_param_ext_16921 = ctx_param_ext_tmp_18678;
            ctx_param_ext_16922 = ctx_param_ext_tmp_18679;
            ctx_param_ext_16923 = ctx_param_ext_tmp_18680;
            ctx_param_ext_16925 = ctx_param_ext_tmp_18681;
            ctx_param_ext_16926 = ctx_param_ext_tmp_18682;
            ctx_param_ext_16927 = ctx_param_ext_tmp_18683;
            ctx_param_ext_16928 = ctx_param_ext_tmp_18684;
            ctx_param_ext_16930 = ctx_param_ext_tmp_18685;
            ctx_param_ext_16931 = ctx_param_ext_tmp_18686;
            ctx_param_ext_16932 = ctx_param_ext_tmp_18687;
            ctx_param_ext_16933 = ctx_param_ext_tmp_18688;
            ctx_param_ext_16935 = ctx_param_ext_tmp_18689;
            ctx_param_ext_16936 = ctx_param_ext_tmp_18690;
            ctx_param_ext_16937 = ctx_param_ext_tmp_18691;
            ctx_param_ext_16938 = ctx_param_ext_tmp_18692;
            if (memblock_set(ctx, &mem_param_16924, &mem_param_tmp_18693,
                             "mem_param_tmp_18693") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16929, &mem_param_tmp_18694,
                             "mem_param_tmp_18694") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16934, &mem_param_tmp_18695,
                             "mem_param_tmp_18695") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16939, &mem_param_tmp_18696,
                             "mem_param_tmp_18696") != 0)
                return 1;
        }
        ext_16985 = ctx_param_ext_16920;
        ext_16984 = ctx_param_ext_16921;
        ext_16983 = ctx_param_ext_16922;
        ext_16982 = ctx_param_ext_16923;
        ext_16981 = ctx_param_ext_16925;
        ext_16980 = ctx_param_ext_16926;
        ext_16979 = ctx_param_ext_16927;
        ext_16978 = ctx_param_ext_16928;
        ext_16977 = ctx_param_ext_16930;
        ext_16976 = ctx_param_ext_16931;
        ext_16975 = ctx_param_ext_16932;
        ext_16974 = ctx_param_ext_16933;
        ext_16973 = ctx_param_ext_16935;
        ext_16972 = ctx_param_ext_16936;
        ext_16971 = ctx_param_ext_16937;
        ext_16970 = ctx_param_ext_16938;
        if (memblock_set(ctx, &ext_mem_16969, &mem_param_16924,
                         "mem_param_16924") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16968, &mem_param_16929,
                         "mem_param_16929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16967, &mem_param_16934,
                         "mem_param_16934") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16966, &mem_param_16939,
                         "mem_param_16939") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16988.mem + (int64_t) 0, mem_16799.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16991.mem + (int64_t) 0, mem_16703 + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int64_t ext_17057;
        int64_t ext_17056;
        int64_t ext_17055;
        int64_t ext_17054;
        int64_t ext_17053;
        int64_t ext_17052;
        int64_t ext_17051;
        int64_t ext_17050;
        int64_t ext_17049;
        int64_t ext_17048;
        int64_t ext_17047;
        int64_t ext_17046;
        int64_t ext_17045;
        int64_t ext_17044;
        int64_t ext_17043;
        int64_t ext_17042;
        int64_t ctx_param_ext_16992;
        int64_t ctx_param_ext_16993;
        int64_t ctx_param_ext_16994;
        int64_t ctx_param_ext_16995;
        int64_t ctx_param_ext_16997;
        int64_t ctx_param_ext_16998;
        int64_t ctx_param_ext_16999;
        int64_t ctx_param_ext_17000;
        int64_t ctx_param_ext_17002;
        int64_t ctx_param_ext_17003;
        int64_t ctx_param_ext_17004;
        int64_t ctx_param_ext_17005;
        int64_t ctx_param_ext_17007;
        int64_t ctx_param_ext_17008;
        int64_t ctx_param_ext_17009;
        int64_t ctx_param_ext_17010;
        
        ctx_param_ext_16992 = m_11476;
        ctx_param_ext_16993 = (int64_t) 0;
        ctx_param_ext_16994 = (int64_t) 1;
        ctx_param_ext_16995 = m_11476;
        ctx_param_ext_16997 = m_11476;
        ctx_param_ext_16998 = (int64_t) 0;
        ctx_param_ext_16999 = (int64_t) 1;
        ctx_param_ext_17000 = m_11476;
        ctx_param_ext_17002 = m_11476;
        ctx_param_ext_17003 = (int64_t) 0;
        ctx_param_ext_17004 = (int64_t) 1;
        ctx_param_ext_17005 = m_11476;
        ctx_param_ext_17007 = m_11476;
        ctx_param_ext_17008 = (int64_t) 0;
        ctx_param_ext_17009 = (int64_t) 1;
        ctx_param_ext_17010 = m_11476;
        if (memblock_set(ctx, &mem_param_16996, &mem_16799, "mem_16799") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17001, &mem_16790, "mem_16790") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17006, &mem_16988, "mem_16988") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17011, &mem_16991, "mem_16991") != 0)
            return 1;
        
        int32_t ns_14750;
        
        for (int64_t i_14745 = 0; i_14745 < i32_res_14708; i_14745++) {
            ns_14750 = ((int32_t *) mem_16667)[i_14745];
            
            bool zzero_14756 = ns_14750 == 0;
            bool nonzzero_14757 = !zzero_14756;
            bool nonzzero_cert_14758;
            
            if (!nonzzero_14757) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_14754 = mul32(2, ns_14750);
            float i32_res_14755 = sitofp_i32_f32(i32_arg_14754);
            
            for (int64_t write_iter_16307 = 0; write_iter_16307 <
                 iota_arg_14709; write_iter_16307++) {
                int32_t defunc_0_f_res_14753 = sext_i64_i32(write_iter_16307);
                int32_t i32_arg_14766 = smod32(defunc_0_f_res_14753, ns_14750);
                float i32_res_14767 = sitofp_i32_f32(i32_arg_14766);
                float zt_res_14768 = -6.2831855F * i32_res_14767;
                float zs_res_14769 = zt_res_14768 / i32_res_14755;
                int64_t j_14770 = sext_i32_i64(defunc_0_f_res_14753);
                bool x_14771 = sle64((int64_t) 0, j_14770);
                bool y_14772 = slt64(j_14770, m_11476);
                bool bounds_check_14773 = x_14771 && y_14772;
                bool index_certs_14774;
                
                if (!bounds_check_14773) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_14770,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_14775;
                
                defunc_0_f_res_14775 =
                    ((float *) mem_param_16996.mem)[ctx_param_ext_16993 +
                                                    j_14770 *
                                                    ctx_param_ext_16994];
                
                float defunc_0_f_res_14776;
                
                defunc_0_f_res_14776 =
                    ((float *) mem_param_17001.mem)[ctx_param_ext_16998 +
                                                    j_14770 *
                                                    ctx_param_ext_16999];
                
                float sin_res_14777;
                
                sin_res_14777 = futrts_sin32(zs_res_14769);
                
                float cos_res_14778;
                
                cos_res_14778 = futrts_cos32(zs_res_14769);
                
                int32_t i_14779 = add32(y_14728, defunc_0_f_res_14753);
                int64_t i_14780 = sext_i32_i64(i_14779);
                bool x_14781 = sle64((int64_t) 0, i_14780);
                bool y_14782 = slt64(i_14780, m_11476);
                bool bounds_check_14783 = x_14781 && y_14782;
                bool index_certs_14784;
                
                if (!bounds_check_14783) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_14780,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_14785;
                
                zt_arg_14785 =
                    ((float *) mem_param_16996.mem)[ctx_param_ext_16993 +
                                                    i_14780 *
                                                    ctx_param_ext_16994];
                
                float zt_arg_14786;
                
                zt_arg_14786 =
                    ((float *) mem_param_17001.mem)[ctx_param_ext_16998 +
                                                    i_14780 *
                                                    ctx_param_ext_16999];
                
                float zt_res_14787 = sin_res_14777 * zt_arg_14786;
                float zt_res_14788 = cos_res_14778 * zt_arg_14785;
                float zm_res_14789 = zt_res_14788 - zt_res_14787;
                float zt_res_14790 = sin_res_14777 * zt_arg_14785;
                float zt_res_14791 = cos_res_14778 * zt_arg_14786;
                float zp_res_14792 = zt_res_14790 + zt_res_14791;
                float zp_res_14793 = defunc_0_f_res_14775 + zm_res_14789;
                float zp_res_14794 = defunc_0_f_res_14776 + zp_res_14792;
                float zm_res_14795 = defunc_0_f_res_14775 - zm_res_14789;
                float zm_res_14796 = defunc_0_f_res_14776 - zp_res_14792;
                int32_t x_14797 = sdiv32(defunc_0_f_res_14753, ns_14750);
                int32_t x_14798 = mul32(ns_14750, x_14797);
                int32_t x_14799 = mul32(2, x_14798);
                int32_t idxD_14800 = add32(i32_arg_14766, x_14799);
                int64_t i32_res_14801 = sext_i32_i64(idxD_14800);
                int32_t i32_arg_14802 = add32(ns_14750, idxD_14800);
                int64_t i32_res_14803 = sext_i32_i64(i32_arg_14802);
                
                if (sle64((int64_t) 0, i32_res_14801) && slt64(i32_res_14801,
                                                               m_11476)) {
                    ((float *) mem_param_17006.mem)[ctx_param_ext_17003 +
                                                    i32_res_14801 *
                                                    ctx_param_ext_17004] =
                        zp_res_14793;
                }
                if (sle64((int64_t) 0, i32_res_14803) && slt64(i32_res_14803,
                                                               m_11476)) {
                    ((float *) mem_param_17006.mem)[ctx_param_ext_17003 +
                                                    i32_res_14803 *
                                                    ctx_param_ext_17004] =
                        zm_res_14795;
                }
                if (sle64((int64_t) 0, i32_res_14801) && slt64(i32_res_14801,
                                                               m_11476)) {
                    ((float *) mem_param_17011.mem)[ctx_param_ext_17008 +
                                                    i32_res_14801 *
                                                    ctx_param_ext_17009] =
                        zp_res_14794;
                }
                if (sle64((int64_t) 0, i32_res_14803) && slt64(i32_res_14803,
                                                               m_11476)) {
                    ((float *) mem_param_17011.mem)[ctx_param_ext_17008 +
                                                    i32_res_14803 *
                                                    ctx_param_ext_17009] =
                        zm_res_14796;
                }
            }
            
            int64_t ctx_param_ext_tmp_18703 = ctx_param_ext_17002;
            int64_t ctx_param_ext_tmp_18704 = ctx_param_ext_17003;
            int64_t ctx_param_ext_tmp_18705 = ctx_param_ext_17004;
            int64_t ctx_param_ext_tmp_18706 = ctx_param_ext_17005;
            int64_t ctx_param_ext_tmp_18707 = ctx_param_ext_17007;
            int64_t ctx_param_ext_tmp_18708 = ctx_param_ext_17008;
            int64_t ctx_param_ext_tmp_18709 = ctx_param_ext_17009;
            int64_t ctx_param_ext_tmp_18710 = ctx_param_ext_17010;
            int64_t ctx_param_ext_tmp_18711 = ctx_param_ext_16992;
            int64_t ctx_param_ext_tmp_18712 = ctx_param_ext_16993;
            int64_t ctx_param_ext_tmp_18713 = ctx_param_ext_16994;
            int64_t ctx_param_ext_tmp_18714 = ctx_param_ext_16995;
            int64_t ctx_param_ext_tmp_18715 = ctx_param_ext_16997;
            int64_t ctx_param_ext_tmp_18716 = ctx_param_ext_16998;
            int64_t ctx_param_ext_tmp_18717 = ctx_param_ext_16999;
            int64_t ctx_param_ext_tmp_18718 = ctx_param_ext_17000;
            
            if (memblock_set(ctx, &mem_param_tmp_18719, &mem_param_17006,
                             "mem_param_17006") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18720, &mem_param_17011,
                             "mem_param_17011") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18721, &mem_param_16996,
                             "mem_param_16996") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18722, &mem_param_17001,
                             "mem_param_17001") != 0)
                return 1;
            ctx_param_ext_16992 = ctx_param_ext_tmp_18703;
            ctx_param_ext_16993 = ctx_param_ext_tmp_18704;
            ctx_param_ext_16994 = ctx_param_ext_tmp_18705;
            ctx_param_ext_16995 = ctx_param_ext_tmp_18706;
            ctx_param_ext_16997 = ctx_param_ext_tmp_18707;
            ctx_param_ext_16998 = ctx_param_ext_tmp_18708;
            ctx_param_ext_16999 = ctx_param_ext_tmp_18709;
            ctx_param_ext_17000 = ctx_param_ext_tmp_18710;
            ctx_param_ext_17002 = ctx_param_ext_tmp_18711;
            ctx_param_ext_17003 = ctx_param_ext_tmp_18712;
            ctx_param_ext_17004 = ctx_param_ext_tmp_18713;
            ctx_param_ext_17005 = ctx_param_ext_tmp_18714;
            ctx_param_ext_17007 = ctx_param_ext_tmp_18715;
            ctx_param_ext_17008 = ctx_param_ext_tmp_18716;
            ctx_param_ext_17009 = ctx_param_ext_tmp_18717;
            ctx_param_ext_17010 = ctx_param_ext_tmp_18718;
            if (memblock_set(ctx, &mem_param_16996, &mem_param_tmp_18719,
                             "mem_param_tmp_18719") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17001, &mem_param_tmp_18720,
                             "mem_param_tmp_18720") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17006, &mem_param_tmp_18721,
                             "mem_param_tmp_18721") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17011, &mem_param_tmp_18722,
                             "mem_param_tmp_18722") != 0)
                return 1;
        }
        ext_17057 = ctx_param_ext_16992;
        ext_17056 = ctx_param_ext_16993;
        ext_17055 = ctx_param_ext_16994;
        ext_17054 = ctx_param_ext_16995;
        ext_17053 = ctx_param_ext_16997;
        ext_17052 = ctx_param_ext_16998;
        ext_17051 = ctx_param_ext_16999;
        ext_17050 = ctx_param_ext_17000;
        ext_17049 = ctx_param_ext_17002;
        ext_17048 = ctx_param_ext_17003;
        ext_17047 = ctx_param_ext_17004;
        ext_17046 = ctx_param_ext_17005;
        ext_17045 = ctx_param_ext_17007;
        ext_17044 = ctx_param_ext_17008;
        ext_17043 = ctx_param_ext_17009;
        ext_17042 = ctx_param_ext_17010;
        if (memblock_set(ctx, &ext_mem_17041, &mem_param_16996,
                         "mem_param_16996") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17040, &mem_param_17001,
                         "mem_param_17001") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17039, &mem_param_17006,
                         "mem_param_17006") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17038, &mem_param_17011,
                         "mem_param_17011") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16707 + i_16327 * m_11476 * (int64_t) 4,
                    ext_mem_16897.mem + ext_16912 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16897, "ext_mem_16897") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16711 + i_16327 * m_11476 * (int64_t) 4,
                    ext_mem_16896.mem + ext_16908 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16896, "ext_mem_16896") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16715 + i_16327 * m_11476 * (int64_t) 4,
                    ext_mem_16969.mem + ext_16984 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16969, "ext_mem_16969") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16719 + i_16327 * m_11476 * (int64_t) 4,
                    ext_mem_16968.mem + ext_16980 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16968, "ext_mem_16968") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16723 + i_16327 * m_11476 * (int64_t) 4,
                    ext_mem_17041.mem + ext_17056 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17041, "ext_mem_17041") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_16727 + i_16327 * m_11476 * (int64_t) 4,
                    ext_mem_17040.mem + ext_17052 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17040, "ext_mem_17040") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_16790, "mem_16790") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16793, "mem_16793") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16796, "mem_16796") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16799, "mem_16799") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16802, "mem_16802") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16805, "mem_16805") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16844, "mem_16844") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16847, "mem_16847") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16916, "mem_16916") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16919, "mem_16919") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16988, "mem_16988") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16991, "mem_16991") != 0)
        return 1;
    
    bool loop_cond_14688 = slt64((int64_t) 1, n_11475);
    bool r_14689;
    int32_t r_14690;
    int64_t r_14691;
    bool loop_while_14692;
    int32_t r_14693;
    int64_t n_14694;
    
    loop_while_14692 = loop_cond_14688;
    r_14693 = 0;
    n_14694 = n_11475;
    while (loop_while_14692) {
        int64_t n_14695 = sdiv64(n_14694, (int64_t) 2);
        int32_t r_14696 = add32(1, r_14693);
        bool loop_cond_14697 = slt64((int64_t) 1, n_14695);
        bool loop_while_tmp_18729 = loop_cond_14697;
        int32_t r_tmp_18730 = r_14696;
        int64_t n_tmp_18731 = n_14695;
        
        loop_while_14692 = loop_while_tmp_18729;
        r_14693 = r_tmp_18730;
        n_14694 = n_tmp_18731;
    }
    r_14689 = loop_while_14692;
    r_14690 = r_14693;
    r_14691 = n_14694;
    
    int64_t i32_res_14816 = sext_i32_i64(r_14690);
    int64_t iota_arg_14817 = sdiv64(n_11475, (int64_t) 2);
    bool bounds_invalid_upwards_14818 = slt64(iota_arg_14817, (int64_t) 0);
    bool valid_14819 = !bounds_invalid_upwards_14818;
    bool range_valid_c_14820;
    
    if (!valid_14819) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) iota_arg_14817, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:34:14-34\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_14822 = slt64(i32_res_14816, (int64_t) 0);
    bool valid_14823 = !bounds_invalid_upwards_14822;
    bool range_valid_c_14824;
    
    if (!valid_14823) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_14816, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17106 = (int64_t) 4 * i32_res_14816;
    int64_t bytes_17107 = smax64((int64_t) 0, binop_y_17106);
    
    if (mem_17108_cached_sizze_19093 < bytes_17107) {
        err = lexical_realloc(&ctx->error, &mem_17108,
                              &mem_17108_cached_sizze_19093, bytes_17107);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16553 = 0; i_16553 < r_14690; i_16553++) {
        int64_t i_16336 = sext_i32_i64(i_16553);
        bool nonnegative_14831 = sle32(0, i_16553);
        bool nonzzero_cert_14832;
        
        if (!nonnegative_14831) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_14833 = shl32(1, i_16553);
        
        ((int32_t *) mem_17108)[i_16336] = defunc_0_f_res_14833;
    }
    
    bool loop_nonempty_14834 = slt64((int64_t) 0, i32_res_14816);
    int32_t i64_res_14835 = sext_i64_i32(n_11475);
    int32_t y_14836 = sdiv32(i64_res_14835, 2);
    int64_t conc_tmp_14837 = iota_arg_14817 + iota_arg_14817;
    bool dim_match_14838 = n_11475 == conc_tmp_14837;
    bool loop_not_taken_14839 = !loop_nonempty_14834;
    bool protect_assert_disj_14840 = dim_match_14838 || loop_not_taken_14839;
    bool empty_or_match_cert_14841;
    
    if (!protect_assert_disj_14840) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_14842;
    
    if (!protect_assert_disj_14840) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool r_15761;
    int32_t r_15762;
    int64_t r_15763;
    bool loop_while_15764;
    int32_t r_15765;
    int64_t n_15766;
    
    loop_while_15764 = loop_cond_14688;
    r_15765 = 0;
    n_15766 = n_11475;
    while (loop_while_15764) {
        int64_t n_15767 = sdiv64(n_15766, (int64_t) 2);
        int32_t r_15768 = add32(1, r_15765);
        bool loop_cond_15769 = slt64((int64_t) 1, n_15767);
        bool loop_while_tmp_18733 = loop_cond_15769;
        int32_t r_tmp_18734 = r_15768;
        int64_t n_tmp_18735 = n_15767;
        
        loop_while_15764 = loop_while_tmp_18733;
        r_15765 = r_tmp_18734;
        n_15766 = n_tmp_18735;
    }
    r_15761 = loop_while_15764;
    r_15762 = r_15765;
    r_15763 = n_15766;
    
    int64_t i32_res_15888 = sext_i32_i64(r_15762);
    bool loop_nonempty_15906 = slt64((int64_t) 0, i32_res_15888);
    bool loop_not_taken_15911 = !loop_nonempty_15906;
    bool protect_assert_disj_15912 = dim_match_14838 || loop_not_taken_15911;
    bool empty_or_match_cert_15914;
    
    if (!protect_assert_disj_15912) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15913;
    
    if (!protect_assert_disj_15912) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15894 = slt64(i32_res_15888, (int64_t) 0);
    bool valid_15895 = !bounds_invalid_upwards_15894;
    bool range_valid_c_15896;
    
    if (!valid_15895) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15888, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17121 = (int64_t) 4 * i32_res_15888;
    int64_t bytes_17122 = smax64((int64_t) 0, binop_y_17121);
    
    if (mem_17123_cached_sizze_19094 < bytes_17122) {
        err = lexical_realloc(&ctx->error, &mem_17123,
                              &mem_17123_cached_sizze_19094, bytes_17122);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16554 = 0; i_16554 < r_15762; i_16554++) {
        int64_t i_16340 = sext_i32_i64(i_16554);
        bool nonnegative_15903 = sle32(0, i_16554);
        bool nonzzero_cert_15904;
        
        if (!nonnegative_15903) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15905 = shl32(1, i_16554);
        
        ((int32_t *) mem_17123)[i_16340] = defunc_0_f_res_15905;
    }
    
    bool r_15225;
    int32_t r_15226;
    int64_t r_15227;
    bool loop_while_15228;
    int32_t r_15229;
    int64_t n_15230;
    
    loop_while_15228 = loop_cond_14688;
    r_15229 = 0;
    n_15230 = n_11475;
    while (loop_while_15228) {
        int64_t n_15231 = sdiv64(n_15230, (int64_t) 2);
        int32_t r_15232 = add32(1, r_15229);
        bool loop_cond_15233 = slt64((int64_t) 1, n_15231);
        bool loop_while_tmp_18737 = loop_cond_15233;
        int32_t r_tmp_18738 = r_15232;
        int64_t n_tmp_18739 = n_15231;
        
        loop_while_15228 = loop_while_tmp_18737;
        r_15229 = r_tmp_18738;
        n_15230 = n_tmp_18739;
    }
    r_15225 = loop_while_15228;
    r_15226 = r_15229;
    r_15227 = n_15230;
    
    int64_t i32_res_15352 = sext_i32_i64(r_15226);
    bool loop_nonempty_15370 = slt64((int64_t) 0, i32_res_15352);
    bool loop_not_taken_15375 = !loop_nonempty_15370;
    bool protect_assert_disj_15376 = dim_match_14838 || loop_not_taken_15375;
    bool empty_or_match_cert_15378;
    
    if (!protect_assert_disj_15376) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15377;
    
    if (!protect_assert_disj_15376) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15358 = slt64(i32_res_15352, (int64_t) 0);
    bool valid_15359 = !bounds_invalid_upwards_15358;
    bool range_valid_c_15360;
    
    if (!valid_15359) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15352, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17136 = (int64_t) 4 * i32_res_15352;
    int64_t bytes_17137 = smax64((int64_t) 0, binop_y_17136);
    
    if (mem_17138_cached_sizze_19095 < bytes_17137) {
        err = lexical_realloc(&ctx->error, &mem_17138,
                              &mem_17138_cached_sizze_19095, bytes_17137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16555 = 0; i_16555 < r_15226; i_16555++) {
        int64_t i_16344 = sext_i32_i64(i_16555);
        bool nonnegative_15367 = sle32(0, i_16555);
        bool nonzzero_cert_15368;
        
        if (!nonnegative_15367) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15369 = shl32(1, i_16555);
        
        ((int32_t *) mem_17138)[i_16344] = defunc_0_f_res_15369;
    }
    
    int64_t binop_x_17151 = n_11475 * m_11476;
    int64_t binop_y_17152 = (int64_t) 4 * binop_x_17151;
    int64_t bytes_17153 = smax64((int64_t) 0, binop_y_17152);
    
    if (mem_17154_cached_sizze_19096 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17154,
                              &mem_17154_cached_sizze_19096, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17158_cached_sizze_19097 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17158,
                              &mem_17158_cached_sizze_19097, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17162_cached_sizze_19098 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17162,
                              &mem_17162_cached_sizze_19098, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17166_cached_sizze_19099 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17166,
                              &mem_17166_cached_sizze_19099, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17170_cached_sizze_19100 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17170,
                              &mem_17170_cached_sizze_19100, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17174_cached_sizze_19101 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17174,
                              &mem_17174_cached_sizze_19101, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t binop_y_17235 = (int64_t) 4 * n_11475;
    int64_t bytes_17236 = smax64((int64_t) 0, binop_y_17235);
    
    if (memblock_alloc(ctx, &mem_17237, bytes_17236, "mem_17237")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17240, bytes_17236, "mem_17240")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17243, bytes_17236, "mem_17243")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17246, bytes_17236, "mem_17246")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17249, bytes_17236, "mem_17249")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17252, bytes_17236, "mem_17252")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17255, bytes_17236, "mem_17255")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17258, bytes_17236, "mem_17258")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17329, bytes_17236, "mem_17329")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17332, bytes_17236, "mem_17332")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17403, bytes_17236, "mem_17403")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17406, bytes_17236, "mem_17406")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16382 = 0; i_16382 < m_11476; i_16382++) {
        for (int64_t i_18747 = 0; i_18747 < n_11475; i_18747++) {
            float tmp_18748;
            
            tmp_18748 = ((float *) mem_16723)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18747 * m_11476];
            ((float *) mem_17237.mem)[i_18747] = tmp_18748;
        }
        for (int64_t i_18749 = 0; i_18749 < n_11475; i_18749++) {
            float tmp_18750;
            
            tmp_18750 = ((float *) mem_16727)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18749 * m_11476];
            ((float *) mem_17240.mem)[i_18749] = tmp_18750;
        }
        for (int64_t i_18751 = 0; i_18751 < n_11475; i_18751++) {
            float tmp_18752;
            
            tmp_18752 = ((float *) mem_16715)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18751 * m_11476];
            ((float *) mem_17243.mem)[i_18751] = tmp_18752;
        }
        for (int64_t i_18753 = 0; i_18753 < n_11475; i_18753++) {
            float tmp_18754;
            
            tmp_18754 = ((float *) mem_16719)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18753 * m_11476];
            ((float *) mem_17246.mem)[i_18753] = tmp_18754;
        }
        for (int64_t i_18755 = 0; i_18755 < n_11475; i_18755++) {
            float tmp_18756;
            
            tmp_18756 = ((float *) mem_16707)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18755 * m_11476];
            ((float *) mem_17249.mem)[i_18755] = tmp_18756;
        }
        for (int64_t i_18757 = 0; i_18757 < n_11475; i_18757++) {
            float tmp_18758;
            
            tmp_18758 = ((float *) mem_16711)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18757 * m_11476];
            ((float *) mem_17252.mem)[i_18757] = tmp_18758;
        }
        for (int64_t i_18759 = 0; i_18759 < n_11475; i_18759++) {
            float tmp_18760;
            
            tmp_18760 = ((float *) mem_16723)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18759 * m_11476];
            ((float *) mem_17255.mem)[i_18759] = tmp_18760;
        }
        for (int64_t i_18761 = 0; i_18761 < n_11475; i_18761++) {
            float tmp_18762;
            
            tmp_18762 = ((float *) mem_16727)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18761 * m_11476];
            ((float *) mem_17258.mem)[i_18761] = tmp_18762;
        }
        
        int64_t ext_17326;
        int64_t ext_17325;
        int64_t ext_17324;
        int64_t ext_17323;
        int64_t ext_17322;
        int64_t ext_17321;
        int64_t ext_17320;
        int64_t ext_17319;
        int64_t ext_17318;
        int64_t ext_17317;
        int64_t ext_17316;
        int64_t ext_17315;
        int64_t ext_17314;
        int64_t ext_17313;
        int64_t ext_17312;
        int64_t ext_17311;
        int64_t ctx_param_ext_17259;
        int64_t ctx_param_ext_17260;
        int64_t ctx_param_ext_17261;
        int64_t ctx_param_ext_17262;
        int64_t ctx_param_ext_17264;
        int64_t ctx_param_ext_17265;
        int64_t ctx_param_ext_17266;
        int64_t ctx_param_ext_17267;
        int64_t ctx_param_ext_17269;
        int64_t ctx_param_ext_17270;
        int64_t ctx_param_ext_17271;
        int64_t ctx_param_ext_17272;
        int64_t ctx_param_ext_17274;
        int64_t ctx_param_ext_17275;
        int64_t ctx_param_ext_17276;
        int64_t ctx_param_ext_17277;
        
        ctx_param_ext_17259 = n_11475;
        ctx_param_ext_17260 = (int64_t) 0;
        ctx_param_ext_17261 = (int64_t) 1;
        ctx_param_ext_17262 = n_11475;
        ctx_param_ext_17264 = n_11475;
        ctx_param_ext_17265 = (int64_t) 0;
        ctx_param_ext_17266 = (int64_t) 1;
        ctx_param_ext_17267 = n_11475;
        ctx_param_ext_17269 = n_11475;
        ctx_param_ext_17270 = (int64_t) 0;
        ctx_param_ext_17271 = (int64_t) 1;
        ctx_param_ext_17272 = n_11475;
        ctx_param_ext_17274 = n_11475;
        ctx_param_ext_17275 = (int64_t) 0;
        ctx_param_ext_17276 = (int64_t) 1;
        ctx_param_ext_17277 = n_11475;
        if (memblock_set(ctx, &mem_param_17263, &mem_17237, "mem_17237") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17268, &mem_17240, "mem_17240") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17273, &mem_17255, "mem_17255") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17278, &mem_17258, "mem_17258") != 0)
            return 1;
        
        int32_t ns_14858;
        
        for (int64_t i_14853 = 0; i_14853 < i32_res_14816; i_14853++) {
            ns_14858 = ((int32_t *) mem_17108)[i_14853];
            
            bool zzero_14864 = ns_14858 == 0;
            bool nonzzero_14865 = !zzero_14864;
            bool nonzzero_cert_14866;
            
            if (!nonzzero_14865) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_14862 = mul32(2, ns_14858);
            float i32_res_14863 = sitofp_i32_f32(i32_arg_14862);
            
            for (int64_t write_iter_16346 = 0; write_iter_16346 <
                 iota_arg_14817; write_iter_16346++) {
                int32_t defunc_0_f_res_14861 = sext_i64_i32(write_iter_16346);
                int32_t i32_arg_14874 = smod32(defunc_0_f_res_14861, ns_14858);
                float i32_res_14875 = sitofp_i32_f32(i32_arg_14874);
                float zt_res_14876 = -6.2831855F * i32_res_14875;
                float zs_res_14877 = zt_res_14876 / i32_res_14863;
                int64_t j_14878 = sext_i32_i64(defunc_0_f_res_14861);
                bool x_14879 = sle64((int64_t) 0, j_14878);
                bool y_14880 = slt64(j_14878, n_11475);
                bool bounds_check_14881 = x_14879 && y_14880;
                bool index_certs_14882;
                
                if (!bounds_check_14881) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_14878,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_14883;
                
                defunc_0_f_res_14883 =
                    ((float *) mem_param_17263.mem)[ctx_param_ext_17260 +
                                                    j_14878 *
                                                    ctx_param_ext_17261];
                
                float defunc_0_f_res_14884;
                
                defunc_0_f_res_14884 =
                    ((float *) mem_param_17268.mem)[ctx_param_ext_17265 +
                                                    j_14878 *
                                                    ctx_param_ext_17266];
                
                float sin_res_14885;
                
                sin_res_14885 = futrts_sin32(zs_res_14877);
                
                float cos_res_14886;
                
                cos_res_14886 = futrts_cos32(zs_res_14877);
                
                int32_t i_14887 = add32(y_14836, defunc_0_f_res_14861);
                int64_t i_14888 = sext_i32_i64(i_14887);
                bool x_14889 = sle64((int64_t) 0, i_14888);
                bool y_14890 = slt64(i_14888, n_11475);
                bool bounds_check_14891 = x_14889 && y_14890;
                bool index_certs_14892;
                
                if (!bounds_check_14891) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_14888,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_14893;
                
                zt_arg_14893 =
                    ((float *) mem_param_17263.mem)[ctx_param_ext_17260 +
                                                    i_14888 *
                                                    ctx_param_ext_17261];
                
                float zt_arg_14894;
                
                zt_arg_14894 =
                    ((float *) mem_param_17268.mem)[ctx_param_ext_17265 +
                                                    i_14888 *
                                                    ctx_param_ext_17266];
                
                float zt_res_14895 = sin_res_14885 * zt_arg_14894;
                float zt_res_14896 = cos_res_14886 * zt_arg_14893;
                float zm_res_14897 = zt_res_14896 - zt_res_14895;
                float zt_res_14898 = sin_res_14885 * zt_arg_14893;
                float zt_res_14899 = cos_res_14886 * zt_arg_14894;
                float zp_res_14900 = zt_res_14898 + zt_res_14899;
                float zp_res_14901 = defunc_0_f_res_14883 + zm_res_14897;
                float zp_res_14902 = defunc_0_f_res_14884 + zp_res_14900;
                float zm_res_14903 = defunc_0_f_res_14883 - zm_res_14897;
                float zm_res_14904 = defunc_0_f_res_14884 - zp_res_14900;
                int32_t x_14905 = sdiv32(defunc_0_f_res_14861, ns_14858);
                int32_t x_14906 = mul32(ns_14858, x_14905);
                int32_t x_14907 = mul32(2, x_14906);
                int32_t idxD_14908 = add32(i32_arg_14874, x_14907);
                int64_t i32_res_14909 = sext_i32_i64(idxD_14908);
                int32_t i32_arg_14910 = add32(ns_14858, idxD_14908);
                int64_t i32_res_14911 = sext_i32_i64(i32_arg_14910);
                
                if (sle64((int64_t) 0, i32_res_14909) && slt64(i32_res_14909,
                                                               n_11475)) {
                    ((float *) mem_param_17273.mem)[ctx_param_ext_17270 +
                                                    i32_res_14909 *
                                                    ctx_param_ext_17271] =
                        zp_res_14901;
                }
                if (sle64((int64_t) 0, i32_res_14911) && slt64(i32_res_14911,
                                                               n_11475)) {
                    ((float *) mem_param_17273.mem)[ctx_param_ext_17270 +
                                                    i32_res_14911 *
                                                    ctx_param_ext_17271] =
                        zm_res_14903;
                }
                if (sle64((int64_t) 0, i32_res_14909) && slt64(i32_res_14909,
                                                               n_11475)) {
                    ((float *) mem_param_17278.mem)[ctx_param_ext_17275 +
                                                    i32_res_14909 *
                                                    ctx_param_ext_17276] =
                        zp_res_14902;
                }
                if (sle64((int64_t) 0, i32_res_14911) && slt64(i32_res_14911,
                                                               n_11475)) {
                    ((float *) mem_param_17278.mem)[ctx_param_ext_17275 +
                                                    i32_res_14911 *
                                                    ctx_param_ext_17276] =
                        zm_res_14904;
                }
            }
            
            int64_t ctx_param_ext_tmp_18763 = ctx_param_ext_17269;
            int64_t ctx_param_ext_tmp_18764 = ctx_param_ext_17270;
            int64_t ctx_param_ext_tmp_18765 = ctx_param_ext_17271;
            int64_t ctx_param_ext_tmp_18766 = ctx_param_ext_17272;
            int64_t ctx_param_ext_tmp_18767 = ctx_param_ext_17274;
            int64_t ctx_param_ext_tmp_18768 = ctx_param_ext_17275;
            int64_t ctx_param_ext_tmp_18769 = ctx_param_ext_17276;
            int64_t ctx_param_ext_tmp_18770 = ctx_param_ext_17277;
            int64_t ctx_param_ext_tmp_18771 = ctx_param_ext_17259;
            int64_t ctx_param_ext_tmp_18772 = ctx_param_ext_17260;
            int64_t ctx_param_ext_tmp_18773 = ctx_param_ext_17261;
            int64_t ctx_param_ext_tmp_18774 = ctx_param_ext_17262;
            int64_t ctx_param_ext_tmp_18775 = ctx_param_ext_17264;
            int64_t ctx_param_ext_tmp_18776 = ctx_param_ext_17265;
            int64_t ctx_param_ext_tmp_18777 = ctx_param_ext_17266;
            int64_t ctx_param_ext_tmp_18778 = ctx_param_ext_17267;
            
            if (memblock_set(ctx, &mem_param_tmp_18779, &mem_param_17273,
                             "mem_param_17273") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18780, &mem_param_17278,
                             "mem_param_17278") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18781, &mem_param_17263,
                             "mem_param_17263") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18782, &mem_param_17268,
                             "mem_param_17268") != 0)
                return 1;
            ctx_param_ext_17259 = ctx_param_ext_tmp_18763;
            ctx_param_ext_17260 = ctx_param_ext_tmp_18764;
            ctx_param_ext_17261 = ctx_param_ext_tmp_18765;
            ctx_param_ext_17262 = ctx_param_ext_tmp_18766;
            ctx_param_ext_17264 = ctx_param_ext_tmp_18767;
            ctx_param_ext_17265 = ctx_param_ext_tmp_18768;
            ctx_param_ext_17266 = ctx_param_ext_tmp_18769;
            ctx_param_ext_17267 = ctx_param_ext_tmp_18770;
            ctx_param_ext_17269 = ctx_param_ext_tmp_18771;
            ctx_param_ext_17270 = ctx_param_ext_tmp_18772;
            ctx_param_ext_17271 = ctx_param_ext_tmp_18773;
            ctx_param_ext_17272 = ctx_param_ext_tmp_18774;
            ctx_param_ext_17274 = ctx_param_ext_tmp_18775;
            ctx_param_ext_17275 = ctx_param_ext_tmp_18776;
            ctx_param_ext_17276 = ctx_param_ext_tmp_18777;
            ctx_param_ext_17277 = ctx_param_ext_tmp_18778;
            if (memblock_set(ctx, &mem_param_17263, &mem_param_tmp_18779,
                             "mem_param_tmp_18779") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17268, &mem_param_tmp_18780,
                             "mem_param_tmp_18780") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17273, &mem_param_tmp_18781,
                             "mem_param_tmp_18781") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17278, &mem_param_tmp_18782,
                             "mem_param_tmp_18782") != 0)
                return 1;
        }
        ext_17326 = ctx_param_ext_17259;
        ext_17325 = ctx_param_ext_17260;
        ext_17324 = ctx_param_ext_17261;
        ext_17323 = ctx_param_ext_17262;
        ext_17322 = ctx_param_ext_17264;
        ext_17321 = ctx_param_ext_17265;
        ext_17320 = ctx_param_ext_17266;
        ext_17319 = ctx_param_ext_17267;
        ext_17318 = ctx_param_ext_17269;
        ext_17317 = ctx_param_ext_17270;
        ext_17316 = ctx_param_ext_17271;
        ext_17315 = ctx_param_ext_17272;
        ext_17314 = ctx_param_ext_17274;
        ext_17313 = ctx_param_ext_17275;
        ext_17312 = ctx_param_ext_17276;
        ext_17311 = ctx_param_ext_17277;
        if (memblock_set(ctx, &ext_mem_17310, &mem_param_17263,
                         "mem_param_17263") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17309, &mem_param_17268,
                         "mem_param_17268") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17308, &mem_param_17273,
                         "mem_param_17273") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17307, &mem_param_17278,
                         "mem_param_17278") != 0)
            return 1;
        for (int64_t i_18789 = 0; i_18789 < n_11475; i_18789++) {
            float tmp_18790;
            
            tmp_18790 = ((float *) mem_16715)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18789 * m_11476];
            ((float *) mem_17329.mem)[i_18789] = tmp_18790;
        }
        for (int64_t i_18791 = 0; i_18791 < n_11475; i_18791++) {
            float tmp_18792;
            
            tmp_18792 = ((float *) mem_16719)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18791 * m_11476];
            ((float *) mem_17332.mem)[i_18791] = tmp_18792;
        }
        
        int64_t ext_17400;
        int64_t ext_17399;
        int64_t ext_17398;
        int64_t ext_17397;
        int64_t ext_17396;
        int64_t ext_17395;
        int64_t ext_17394;
        int64_t ext_17393;
        int64_t ext_17392;
        int64_t ext_17391;
        int64_t ext_17390;
        int64_t ext_17389;
        int64_t ext_17388;
        int64_t ext_17387;
        int64_t ext_17386;
        int64_t ext_17385;
        int64_t ctx_param_ext_17333;
        int64_t ctx_param_ext_17334;
        int64_t ctx_param_ext_17335;
        int64_t ctx_param_ext_17336;
        int64_t ctx_param_ext_17338;
        int64_t ctx_param_ext_17339;
        int64_t ctx_param_ext_17340;
        int64_t ctx_param_ext_17341;
        int64_t ctx_param_ext_17343;
        int64_t ctx_param_ext_17344;
        int64_t ctx_param_ext_17345;
        int64_t ctx_param_ext_17346;
        int64_t ctx_param_ext_17348;
        int64_t ctx_param_ext_17349;
        int64_t ctx_param_ext_17350;
        int64_t ctx_param_ext_17351;
        
        ctx_param_ext_17333 = n_11475;
        ctx_param_ext_17334 = (int64_t) 0;
        ctx_param_ext_17335 = (int64_t) 1;
        ctx_param_ext_17336 = n_11475;
        ctx_param_ext_17338 = n_11475;
        ctx_param_ext_17339 = (int64_t) 0;
        ctx_param_ext_17340 = (int64_t) 1;
        ctx_param_ext_17341 = n_11475;
        ctx_param_ext_17343 = n_11475;
        ctx_param_ext_17344 = (int64_t) 0;
        ctx_param_ext_17345 = (int64_t) 1;
        ctx_param_ext_17346 = n_11475;
        ctx_param_ext_17348 = n_11475;
        ctx_param_ext_17349 = (int64_t) 0;
        ctx_param_ext_17350 = (int64_t) 1;
        ctx_param_ext_17351 = n_11475;
        if (memblock_set(ctx, &mem_param_17337, &mem_17243, "mem_17243") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17342, &mem_17246, "mem_17246") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17347, &mem_17329, "mem_17329") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17352, &mem_17332, "mem_17332") != 0)
            return 1;
        
        int32_t ns_15394;
        
        for (int64_t i_15389 = 0; i_15389 < i32_res_15352; i_15389++) {
            ns_15394 = ((int32_t *) mem_17138)[i_15389];
            
            bool zzero_15400 = ns_15394 == 0;
            bool nonzzero_15401 = !zzero_15400;
            bool nonzzero_cert_15402;
            
            if (!nonzzero_15401) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15398 = mul32(2, ns_15394);
            float i32_res_15399 = sitofp_i32_f32(i32_arg_15398);
            
            for (int64_t write_iter_16354 = 0; write_iter_16354 <
                 iota_arg_14817; write_iter_16354++) {
                int32_t defunc_0_f_res_15397 = sext_i64_i32(write_iter_16354);
                int32_t i32_arg_15410 = smod32(defunc_0_f_res_15397, ns_15394);
                float i32_res_15411 = sitofp_i32_f32(i32_arg_15410);
                float zt_res_15412 = -6.2831855F * i32_res_15411;
                float zs_res_15413 = zt_res_15412 / i32_res_15399;
                int64_t j_15414 = sext_i32_i64(defunc_0_f_res_15397);
                bool x_15415 = sle64((int64_t) 0, j_15414);
                bool y_15416 = slt64(j_15414, n_11475);
                bool bounds_check_15417 = x_15415 && y_15416;
                bool index_certs_15418;
                
                if (!bounds_check_15417) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15414,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15419;
                
                defunc_0_f_res_15419 =
                    ((float *) mem_param_17337.mem)[ctx_param_ext_17334 +
                                                    j_15414 *
                                                    ctx_param_ext_17335];
                
                float defunc_0_f_res_15420;
                
                defunc_0_f_res_15420 =
                    ((float *) mem_param_17342.mem)[ctx_param_ext_17339 +
                                                    j_15414 *
                                                    ctx_param_ext_17340];
                
                float sin_res_15421;
                
                sin_res_15421 = futrts_sin32(zs_res_15413);
                
                float cos_res_15422;
                
                cos_res_15422 = futrts_cos32(zs_res_15413);
                
                int32_t i_15423 = add32(y_14836, defunc_0_f_res_15397);
                int64_t i_15424 = sext_i32_i64(i_15423);
                bool x_15425 = sle64((int64_t) 0, i_15424);
                bool y_15426 = slt64(i_15424, n_11475);
                bool bounds_check_15427 = x_15425 && y_15426;
                bool index_certs_15428;
                
                if (!bounds_check_15427) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15424,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15429;
                
                zt_arg_15429 =
                    ((float *) mem_param_17337.mem)[ctx_param_ext_17334 +
                                                    i_15424 *
                                                    ctx_param_ext_17335];
                
                float zt_arg_15430;
                
                zt_arg_15430 =
                    ((float *) mem_param_17342.mem)[ctx_param_ext_17339 +
                                                    i_15424 *
                                                    ctx_param_ext_17340];
                
                float zt_res_15431 = sin_res_15421 * zt_arg_15430;
                float zt_res_15432 = cos_res_15422 * zt_arg_15429;
                float zm_res_15433 = zt_res_15432 - zt_res_15431;
                float zt_res_15434 = sin_res_15421 * zt_arg_15429;
                float zt_res_15435 = cos_res_15422 * zt_arg_15430;
                float zp_res_15436 = zt_res_15434 + zt_res_15435;
                float zp_res_15437 = defunc_0_f_res_15419 + zm_res_15433;
                float zp_res_15438 = defunc_0_f_res_15420 + zp_res_15436;
                float zm_res_15439 = defunc_0_f_res_15419 - zm_res_15433;
                float zm_res_15440 = defunc_0_f_res_15420 - zp_res_15436;
                int32_t x_15441 = sdiv32(defunc_0_f_res_15397, ns_15394);
                int32_t x_15442 = mul32(ns_15394, x_15441);
                int32_t x_15443 = mul32(2, x_15442);
                int32_t idxD_15444 = add32(i32_arg_15410, x_15443);
                int64_t i32_res_15445 = sext_i32_i64(idxD_15444);
                int32_t i32_arg_15446 = add32(ns_15394, idxD_15444);
                int64_t i32_res_15447 = sext_i32_i64(i32_arg_15446);
                
                if (sle64((int64_t) 0, i32_res_15445) && slt64(i32_res_15445,
                                                               n_11475)) {
                    ((float *) mem_param_17347.mem)[ctx_param_ext_17344 +
                                                    i32_res_15445 *
                                                    ctx_param_ext_17345] =
                        zp_res_15437;
                }
                if (sle64((int64_t) 0, i32_res_15447) && slt64(i32_res_15447,
                                                               n_11475)) {
                    ((float *) mem_param_17347.mem)[ctx_param_ext_17344 +
                                                    i32_res_15447 *
                                                    ctx_param_ext_17345] =
                        zm_res_15439;
                }
                if (sle64((int64_t) 0, i32_res_15445) && slt64(i32_res_15445,
                                                               n_11475)) {
                    ((float *) mem_param_17352.mem)[ctx_param_ext_17349 +
                                                    i32_res_15445 *
                                                    ctx_param_ext_17350] =
                        zp_res_15438;
                }
                if (sle64((int64_t) 0, i32_res_15447) && slt64(i32_res_15447,
                                                               n_11475)) {
                    ((float *) mem_param_17352.mem)[ctx_param_ext_17349 +
                                                    i32_res_15447 *
                                                    ctx_param_ext_17350] =
                        zm_res_15440;
                }
            }
            
            int64_t ctx_param_ext_tmp_18793 = ctx_param_ext_17343;
            int64_t ctx_param_ext_tmp_18794 = ctx_param_ext_17344;
            int64_t ctx_param_ext_tmp_18795 = ctx_param_ext_17345;
            int64_t ctx_param_ext_tmp_18796 = ctx_param_ext_17346;
            int64_t ctx_param_ext_tmp_18797 = ctx_param_ext_17348;
            int64_t ctx_param_ext_tmp_18798 = ctx_param_ext_17349;
            int64_t ctx_param_ext_tmp_18799 = ctx_param_ext_17350;
            int64_t ctx_param_ext_tmp_18800 = ctx_param_ext_17351;
            int64_t ctx_param_ext_tmp_18801 = ctx_param_ext_17333;
            int64_t ctx_param_ext_tmp_18802 = ctx_param_ext_17334;
            int64_t ctx_param_ext_tmp_18803 = ctx_param_ext_17335;
            int64_t ctx_param_ext_tmp_18804 = ctx_param_ext_17336;
            int64_t ctx_param_ext_tmp_18805 = ctx_param_ext_17338;
            int64_t ctx_param_ext_tmp_18806 = ctx_param_ext_17339;
            int64_t ctx_param_ext_tmp_18807 = ctx_param_ext_17340;
            int64_t ctx_param_ext_tmp_18808 = ctx_param_ext_17341;
            
            if (memblock_set(ctx, &mem_param_tmp_18809, &mem_param_17347,
                             "mem_param_17347") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18810, &mem_param_17352,
                             "mem_param_17352") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18811, &mem_param_17337,
                             "mem_param_17337") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18812, &mem_param_17342,
                             "mem_param_17342") != 0)
                return 1;
            ctx_param_ext_17333 = ctx_param_ext_tmp_18793;
            ctx_param_ext_17334 = ctx_param_ext_tmp_18794;
            ctx_param_ext_17335 = ctx_param_ext_tmp_18795;
            ctx_param_ext_17336 = ctx_param_ext_tmp_18796;
            ctx_param_ext_17338 = ctx_param_ext_tmp_18797;
            ctx_param_ext_17339 = ctx_param_ext_tmp_18798;
            ctx_param_ext_17340 = ctx_param_ext_tmp_18799;
            ctx_param_ext_17341 = ctx_param_ext_tmp_18800;
            ctx_param_ext_17343 = ctx_param_ext_tmp_18801;
            ctx_param_ext_17344 = ctx_param_ext_tmp_18802;
            ctx_param_ext_17345 = ctx_param_ext_tmp_18803;
            ctx_param_ext_17346 = ctx_param_ext_tmp_18804;
            ctx_param_ext_17348 = ctx_param_ext_tmp_18805;
            ctx_param_ext_17349 = ctx_param_ext_tmp_18806;
            ctx_param_ext_17350 = ctx_param_ext_tmp_18807;
            ctx_param_ext_17351 = ctx_param_ext_tmp_18808;
            if (memblock_set(ctx, &mem_param_17337, &mem_param_tmp_18809,
                             "mem_param_tmp_18809") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17342, &mem_param_tmp_18810,
                             "mem_param_tmp_18810") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17347, &mem_param_tmp_18811,
                             "mem_param_tmp_18811") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17352, &mem_param_tmp_18812,
                             "mem_param_tmp_18812") != 0)
                return 1;
        }
        ext_17400 = ctx_param_ext_17333;
        ext_17399 = ctx_param_ext_17334;
        ext_17398 = ctx_param_ext_17335;
        ext_17397 = ctx_param_ext_17336;
        ext_17396 = ctx_param_ext_17338;
        ext_17395 = ctx_param_ext_17339;
        ext_17394 = ctx_param_ext_17340;
        ext_17393 = ctx_param_ext_17341;
        ext_17392 = ctx_param_ext_17343;
        ext_17391 = ctx_param_ext_17344;
        ext_17390 = ctx_param_ext_17345;
        ext_17389 = ctx_param_ext_17346;
        ext_17388 = ctx_param_ext_17348;
        ext_17387 = ctx_param_ext_17349;
        ext_17386 = ctx_param_ext_17350;
        ext_17385 = ctx_param_ext_17351;
        if (memblock_set(ctx, &ext_mem_17384, &mem_param_17337,
                         "mem_param_17337") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17383, &mem_param_17342,
                         "mem_param_17342") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17382, &mem_param_17347,
                         "mem_param_17347") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17381, &mem_param_17352,
                         "mem_param_17352") != 0)
            return 1;
        for (int64_t i_18819 = 0; i_18819 < n_11475; i_18819++) {
            float tmp_18820;
            
            tmp_18820 = ((float *) mem_16707)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18819 * m_11476];
            ((float *) mem_17403.mem)[i_18819] = tmp_18820;
        }
        for (int64_t i_18821 = 0; i_18821 < n_11475; i_18821++) {
            float tmp_18822;
            
            tmp_18822 = ((float *) mem_16711)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18821 * m_11476];
            ((float *) mem_17406.mem)[i_18821] = tmp_18822;
        }
        
        int64_t ext_17474;
        int64_t ext_17473;
        int64_t ext_17472;
        int64_t ext_17471;
        int64_t ext_17470;
        int64_t ext_17469;
        int64_t ext_17468;
        int64_t ext_17467;
        int64_t ext_17466;
        int64_t ext_17465;
        int64_t ext_17464;
        int64_t ext_17463;
        int64_t ext_17462;
        int64_t ext_17461;
        int64_t ext_17460;
        int64_t ext_17459;
        int64_t ctx_param_ext_17407;
        int64_t ctx_param_ext_17408;
        int64_t ctx_param_ext_17409;
        int64_t ctx_param_ext_17410;
        int64_t ctx_param_ext_17412;
        int64_t ctx_param_ext_17413;
        int64_t ctx_param_ext_17414;
        int64_t ctx_param_ext_17415;
        int64_t ctx_param_ext_17417;
        int64_t ctx_param_ext_17418;
        int64_t ctx_param_ext_17419;
        int64_t ctx_param_ext_17420;
        int64_t ctx_param_ext_17422;
        int64_t ctx_param_ext_17423;
        int64_t ctx_param_ext_17424;
        int64_t ctx_param_ext_17425;
        
        ctx_param_ext_17407 = n_11475;
        ctx_param_ext_17408 = (int64_t) 0;
        ctx_param_ext_17409 = (int64_t) 1;
        ctx_param_ext_17410 = n_11475;
        ctx_param_ext_17412 = n_11475;
        ctx_param_ext_17413 = (int64_t) 0;
        ctx_param_ext_17414 = (int64_t) 1;
        ctx_param_ext_17415 = n_11475;
        ctx_param_ext_17417 = n_11475;
        ctx_param_ext_17418 = (int64_t) 0;
        ctx_param_ext_17419 = (int64_t) 1;
        ctx_param_ext_17420 = n_11475;
        ctx_param_ext_17422 = n_11475;
        ctx_param_ext_17423 = (int64_t) 0;
        ctx_param_ext_17424 = (int64_t) 1;
        ctx_param_ext_17425 = n_11475;
        if (memblock_set(ctx, &mem_param_17411, &mem_17249, "mem_17249") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17416, &mem_17252, "mem_17252") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17421, &mem_17403, "mem_17403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17426, &mem_17406, "mem_17406") != 0)
            return 1;
        
        int32_t ns_15930;
        
        for (int64_t i_15925 = 0; i_15925 < i32_res_15888; i_15925++) {
            ns_15930 = ((int32_t *) mem_17123)[i_15925];
            
            bool zzero_15936 = ns_15930 == 0;
            bool nonzzero_15937 = !zzero_15936;
            bool nonzzero_cert_15938;
            
            if (!nonzzero_15937) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15934 = mul32(2, ns_15930);
            float i32_res_15935 = sitofp_i32_f32(i32_arg_15934);
            
            for (int64_t write_iter_16362 = 0; write_iter_16362 <
                 iota_arg_14817; write_iter_16362++) {
                int32_t defunc_0_f_res_15933 = sext_i64_i32(write_iter_16362);
                int32_t i32_arg_15946 = smod32(defunc_0_f_res_15933, ns_15930);
                float i32_res_15947 = sitofp_i32_f32(i32_arg_15946);
                float zt_res_15948 = -6.2831855F * i32_res_15947;
                float zs_res_15949 = zt_res_15948 / i32_res_15935;
                int64_t j_15950 = sext_i32_i64(defunc_0_f_res_15933);
                bool x_15951 = sle64((int64_t) 0, j_15950);
                bool y_15952 = slt64(j_15950, n_11475);
                bool bounds_check_15953 = x_15951 && y_15952;
                bool index_certs_15954;
                
                if (!bounds_check_15953) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15950,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15955;
                
                defunc_0_f_res_15955 =
                    ((float *) mem_param_17411.mem)[ctx_param_ext_17408 +
                                                    j_15950 *
                                                    ctx_param_ext_17409];
                
                float defunc_0_f_res_15956;
                
                defunc_0_f_res_15956 =
                    ((float *) mem_param_17416.mem)[ctx_param_ext_17413 +
                                                    j_15950 *
                                                    ctx_param_ext_17414];
                
                float sin_res_15957;
                
                sin_res_15957 = futrts_sin32(zs_res_15949);
                
                float cos_res_15958;
                
                cos_res_15958 = futrts_cos32(zs_res_15949);
                
                int32_t i_15959 = add32(y_14836, defunc_0_f_res_15933);
                int64_t i_15960 = sext_i32_i64(i_15959);
                bool x_15961 = sle64((int64_t) 0, i_15960);
                bool y_15962 = slt64(i_15960, n_11475);
                bool bounds_check_15963 = x_15961 && y_15962;
                bool index_certs_15964;
                
                if (!bounds_check_15963) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15960,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15965;
                
                zt_arg_15965 =
                    ((float *) mem_param_17411.mem)[ctx_param_ext_17408 +
                                                    i_15960 *
                                                    ctx_param_ext_17409];
                
                float zt_arg_15966;
                
                zt_arg_15966 =
                    ((float *) mem_param_17416.mem)[ctx_param_ext_17413 +
                                                    i_15960 *
                                                    ctx_param_ext_17414];
                
                float zt_res_15967 = sin_res_15957 * zt_arg_15966;
                float zt_res_15968 = cos_res_15958 * zt_arg_15965;
                float zm_res_15969 = zt_res_15968 - zt_res_15967;
                float zt_res_15970 = sin_res_15957 * zt_arg_15965;
                float zt_res_15971 = cos_res_15958 * zt_arg_15966;
                float zp_res_15972 = zt_res_15970 + zt_res_15971;
                float zp_res_15973 = defunc_0_f_res_15955 + zm_res_15969;
                float zp_res_15974 = defunc_0_f_res_15956 + zp_res_15972;
                float zm_res_15975 = defunc_0_f_res_15955 - zm_res_15969;
                float zm_res_15976 = defunc_0_f_res_15956 - zp_res_15972;
                int32_t x_15977 = sdiv32(defunc_0_f_res_15933, ns_15930);
                int32_t x_15978 = mul32(ns_15930, x_15977);
                int32_t x_15979 = mul32(2, x_15978);
                int32_t idxD_15980 = add32(i32_arg_15946, x_15979);
                int64_t i32_res_15981 = sext_i32_i64(idxD_15980);
                int32_t i32_arg_15982 = add32(ns_15930, idxD_15980);
                int64_t i32_res_15983 = sext_i32_i64(i32_arg_15982);
                
                if (sle64((int64_t) 0, i32_res_15981) && slt64(i32_res_15981,
                                                               n_11475)) {
                    ((float *) mem_param_17421.mem)[ctx_param_ext_17418 +
                                                    i32_res_15981 *
                                                    ctx_param_ext_17419] =
                        zp_res_15973;
                }
                if (sle64((int64_t) 0, i32_res_15983) && slt64(i32_res_15983,
                                                               n_11475)) {
                    ((float *) mem_param_17421.mem)[ctx_param_ext_17418 +
                                                    i32_res_15983 *
                                                    ctx_param_ext_17419] =
                        zm_res_15975;
                }
                if (sle64((int64_t) 0, i32_res_15981) && slt64(i32_res_15981,
                                                               n_11475)) {
                    ((float *) mem_param_17426.mem)[ctx_param_ext_17423 +
                                                    i32_res_15981 *
                                                    ctx_param_ext_17424] =
                        zp_res_15974;
                }
                if (sle64((int64_t) 0, i32_res_15983) && slt64(i32_res_15983,
                                                               n_11475)) {
                    ((float *) mem_param_17426.mem)[ctx_param_ext_17423 +
                                                    i32_res_15983 *
                                                    ctx_param_ext_17424] =
                        zm_res_15976;
                }
            }
            
            int64_t ctx_param_ext_tmp_18823 = ctx_param_ext_17417;
            int64_t ctx_param_ext_tmp_18824 = ctx_param_ext_17418;
            int64_t ctx_param_ext_tmp_18825 = ctx_param_ext_17419;
            int64_t ctx_param_ext_tmp_18826 = ctx_param_ext_17420;
            int64_t ctx_param_ext_tmp_18827 = ctx_param_ext_17422;
            int64_t ctx_param_ext_tmp_18828 = ctx_param_ext_17423;
            int64_t ctx_param_ext_tmp_18829 = ctx_param_ext_17424;
            int64_t ctx_param_ext_tmp_18830 = ctx_param_ext_17425;
            int64_t ctx_param_ext_tmp_18831 = ctx_param_ext_17407;
            int64_t ctx_param_ext_tmp_18832 = ctx_param_ext_17408;
            int64_t ctx_param_ext_tmp_18833 = ctx_param_ext_17409;
            int64_t ctx_param_ext_tmp_18834 = ctx_param_ext_17410;
            int64_t ctx_param_ext_tmp_18835 = ctx_param_ext_17412;
            int64_t ctx_param_ext_tmp_18836 = ctx_param_ext_17413;
            int64_t ctx_param_ext_tmp_18837 = ctx_param_ext_17414;
            int64_t ctx_param_ext_tmp_18838 = ctx_param_ext_17415;
            
            if (memblock_set(ctx, &mem_param_tmp_18839, &mem_param_17421,
                             "mem_param_17421") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18840, &mem_param_17426,
                             "mem_param_17426") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18841, &mem_param_17411,
                             "mem_param_17411") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18842, &mem_param_17416,
                             "mem_param_17416") != 0)
                return 1;
            ctx_param_ext_17407 = ctx_param_ext_tmp_18823;
            ctx_param_ext_17408 = ctx_param_ext_tmp_18824;
            ctx_param_ext_17409 = ctx_param_ext_tmp_18825;
            ctx_param_ext_17410 = ctx_param_ext_tmp_18826;
            ctx_param_ext_17412 = ctx_param_ext_tmp_18827;
            ctx_param_ext_17413 = ctx_param_ext_tmp_18828;
            ctx_param_ext_17414 = ctx_param_ext_tmp_18829;
            ctx_param_ext_17415 = ctx_param_ext_tmp_18830;
            ctx_param_ext_17417 = ctx_param_ext_tmp_18831;
            ctx_param_ext_17418 = ctx_param_ext_tmp_18832;
            ctx_param_ext_17419 = ctx_param_ext_tmp_18833;
            ctx_param_ext_17420 = ctx_param_ext_tmp_18834;
            ctx_param_ext_17422 = ctx_param_ext_tmp_18835;
            ctx_param_ext_17423 = ctx_param_ext_tmp_18836;
            ctx_param_ext_17424 = ctx_param_ext_tmp_18837;
            ctx_param_ext_17425 = ctx_param_ext_tmp_18838;
            if (memblock_set(ctx, &mem_param_17411, &mem_param_tmp_18839,
                             "mem_param_tmp_18839") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17416, &mem_param_tmp_18840,
                             "mem_param_tmp_18840") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17421, &mem_param_tmp_18841,
                             "mem_param_tmp_18841") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17426, &mem_param_tmp_18842,
                             "mem_param_tmp_18842") != 0)
                return 1;
        }
        ext_17474 = ctx_param_ext_17407;
        ext_17473 = ctx_param_ext_17408;
        ext_17472 = ctx_param_ext_17409;
        ext_17471 = ctx_param_ext_17410;
        ext_17470 = ctx_param_ext_17412;
        ext_17469 = ctx_param_ext_17413;
        ext_17468 = ctx_param_ext_17414;
        ext_17467 = ctx_param_ext_17415;
        ext_17466 = ctx_param_ext_17417;
        ext_17465 = ctx_param_ext_17418;
        ext_17464 = ctx_param_ext_17419;
        ext_17463 = ctx_param_ext_17420;
        ext_17462 = ctx_param_ext_17422;
        ext_17461 = ctx_param_ext_17423;
        ext_17460 = ctx_param_ext_17424;
        ext_17459 = ctx_param_ext_17425;
        if (memblock_set(ctx, &ext_mem_17458, &mem_param_17411,
                         "mem_param_17411") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17457, &mem_param_17416,
                         "mem_param_17416") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17456, &mem_param_17421,
                         "mem_param_17421") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17455, &mem_param_17426,
                         "mem_param_17426") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_17154 + i_16382 * n_11475 * (int64_t) 4,
                    ext_mem_17310.mem + ext_17325 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17310, "ext_mem_17310") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_17158 + i_16382 * n_11475 * (int64_t) 4,
                    ext_mem_17309.mem + ext_17321 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17309, "ext_mem_17309") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_17162 + i_16382 * n_11475 * (int64_t) 4,
                    ext_mem_17384.mem + ext_17399 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17384, "ext_mem_17384") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_17166 + i_16382 * n_11475 * (int64_t) 4,
                    ext_mem_17383.mem + ext_17395 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17383, "ext_mem_17383") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_17170 + i_16382 * n_11475 * (int64_t) 4,
                    ext_mem_17458.mem + ext_17473 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17458, "ext_mem_17458") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_17174 + i_16382 * n_11475 * (int64_t) 4,
                    ext_mem_17457.mem + ext_17469 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17457, "ext_mem_17457") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_17237, "mem_17237") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17240, "mem_17240") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17243, "mem_17243") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17246, "mem_17246") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17249, "mem_17249") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17252, "mem_17252") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17255, "mem_17255") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17258, "mem_17258") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17329, "mem_17329") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17332, "mem_17332") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17403, "mem_17403") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17406, "mem_17406") != 0)
        return 1;
    
    bool r_16034;
    int32_t r_16035;
    int64_t r_16036;
    bool loop_while_16037;
    int32_t r_16038;
    int64_t n_16039;
    
    loop_while_16037 = loop_cond_14698;
    r_16038 = 0;
    n_16039 = m_11476;
    while (loop_while_16037) {
        int64_t n_16040 = sdiv64(n_16039, (int64_t) 2);
        int32_t r_16041 = add32(1, r_16038);
        bool loop_cond_16042 = slt64((int64_t) 1, n_16040);
        bool loop_while_tmp_18849 = loop_cond_16042;
        int32_t r_tmp_18850 = r_16041;
        int64_t n_tmp_18851 = n_16040;
        
        loop_while_16037 = loop_while_tmp_18849;
        r_16038 = r_tmp_18850;
        n_16039 = n_tmp_18851;
    }
    r_16034 = loop_while_16037;
    r_16035 = r_16038;
    r_16036 = n_16039;
    
    int64_t i32_res_16043 = sext_i32_i64(r_16035);
    bool loop_nonempty_16056 = slt64((int64_t) 0, i32_res_16043);
    bool loop_not_taken_16057 = !loop_nonempty_16056;
    bool protect_assert_disj_16058 = dim_match_14730 || loop_not_taken_16057;
    bool empty_or_match_cert_16060;
    
    if (!protect_assert_disj_16058) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_16059;
    
    if (!protect_assert_disj_16058) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_16044 = slt64(i32_res_16043, (int64_t) 0);
    bool valid_16045 = !bounds_invalid_upwards_16044;
    bool range_valid_c_16046;
    
    if (!valid_16045) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_16043, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17523 = (int64_t) 4 * i32_res_16043;
    int64_t bytes_17524 = smax64((int64_t) 0, binop_y_17523);
    
    if (mem_17525_cached_sizze_19102 < bytes_17524) {
        err = lexical_realloc(&ctx->error, &mem_17525,
                              &mem_17525_cached_sizze_19102, bytes_17524);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16556 = 0; i_16556 < r_16035; i_16556++) {
        int64_t i_16397 = sext_i32_i64(i_16556);
        bool nonnegative_16053 = sle32(0, i_16556);
        bool nonzzero_cert_16054;
        
        if (!nonnegative_16053) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_16055 = shl32(1, i_16556);
        
        ((int32_t *) mem_17525)[i_16397] = defunc_0_f_res_16055;
    }
    
    bool r_15498;
    int32_t r_15499;
    int64_t r_15500;
    bool loop_while_15501;
    int32_t r_15502;
    int64_t n_15503;
    
    loop_while_15501 = loop_cond_14698;
    r_15502 = 0;
    n_15503 = m_11476;
    while (loop_while_15501) {
        int64_t n_15504 = sdiv64(n_15503, (int64_t) 2);
        int32_t r_15505 = add32(1, r_15502);
        bool loop_cond_15506 = slt64((int64_t) 1, n_15504);
        bool loop_while_tmp_18853 = loop_cond_15506;
        int32_t r_tmp_18854 = r_15505;
        int64_t n_tmp_18855 = n_15504;
        
        loop_while_15501 = loop_while_tmp_18853;
        r_15502 = r_tmp_18854;
        n_15503 = n_tmp_18855;
    }
    r_15498 = loop_while_15501;
    r_15499 = r_15502;
    r_15500 = n_15503;
    
    int64_t i32_res_15507 = sext_i32_i64(r_15499);
    bool loop_nonempty_15520 = slt64((int64_t) 0, i32_res_15507);
    bool loop_not_taken_15521 = !loop_nonempty_15520;
    bool protect_assert_disj_15522 = dim_match_14730 || loop_not_taken_15521;
    bool empty_or_match_cert_15524;
    
    if (!protect_assert_disj_15522) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15523;
    
    if (!protect_assert_disj_15522) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15508 = slt64(i32_res_15507, (int64_t) 0);
    bool valid_15509 = !bounds_invalid_upwards_15508;
    bool range_valid_c_15510;
    
    if (!valid_15509) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15507, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17538 = (int64_t) 4 * i32_res_15507;
    int64_t bytes_17539 = smax64((int64_t) 0, binop_y_17538);
    
    if (mem_17540_cached_sizze_19103 < bytes_17539) {
        err = lexical_realloc(&ctx->error, &mem_17540,
                              &mem_17540_cached_sizze_19103, bytes_17539);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16557 = 0; i_16557 < r_15499; i_16557++) {
        int64_t i_16401 = sext_i32_i64(i_16557);
        bool nonnegative_15517 = sle32(0, i_16557);
        bool nonzzero_cert_15518;
        
        if (!nonnegative_15517) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15519 = shl32(1, i_16557);
        
        ((int32_t *) mem_17540)[i_16401] = defunc_0_f_res_15519;
    }
    
    bool r_14962;
    int32_t r_14963;
    int64_t r_14964;
    bool loop_while_14965;
    int32_t r_14966;
    int64_t n_14967;
    
    loop_while_14965 = loop_cond_14698;
    r_14966 = 0;
    n_14967 = m_11476;
    while (loop_while_14965) {
        int64_t n_14968 = sdiv64(n_14967, (int64_t) 2);
        int32_t r_14969 = add32(1, r_14966);
        bool loop_cond_14970 = slt64((int64_t) 1, n_14968);
        bool loop_while_tmp_18857 = loop_cond_14970;
        int32_t r_tmp_18858 = r_14969;
        int64_t n_tmp_18859 = n_14968;
        
        loop_while_14965 = loop_while_tmp_18857;
        r_14966 = r_tmp_18858;
        n_14967 = n_tmp_18859;
    }
    r_14962 = loop_while_14965;
    r_14963 = r_14966;
    r_14964 = n_14967;
    
    int64_t i32_res_14971 = sext_i32_i64(r_14963);
    bool loop_nonempty_14984 = slt64((int64_t) 0, i32_res_14971);
    bool loop_not_taken_14985 = !loop_nonempty_14984;
    bool protect_assert_disj_14986 = dim_match_14730 || loop_not_taken_14985;
    bool empty_or_match_cert_14988;
    
    if (!protect_assert_disj_14986) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_14987;
    
    if (!protect_assert_disj_14986) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11476, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_14972 = slt64(i32_res_14971, (int64_t) 0);
    bool valid_14973 = !bounds_invalid_upwards_14972;
    bool range_valid_c_14974;
    
    if (!valid_14973) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_14971, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17553 = (int64_t) 4 * i32_res_14971;
    int64_t bytes_17554 = smax64((int64_t) 0, binop_y_17553);
    
    if (mem_17555_cached_sizze_19104 < bytes_17554) {
        err = lexical_realloc(&ctx->error, &mem_17555,
                              &mem_17555_cached_sizze_19104, bytes_17554);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16558 = 0; i_16558 < r_14963; i_16558++) {
        int64_t i_16405 = sext_i32_i64(i_16558);
        bool nonnegative_14981 = sle32(0, i_16558);
        bool nonzzero_cert_14982;
        
        if (!nonnegative_14981) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_14983 = shl32(1, i_16558);
        
        ((int32_t *) mem_17555)[i_16405] = defunc_0_f_res_14983;
    }
    
    int32_t y_14931 = add32(cutoff_11477, y_14728);
    int32_t y_14930 = sub32(y_14728, cutoff_11477);
    int32_t y_14929 = add32(cutoff_11477, y_14836);
    int32_t y_14928 = sub32(y_14836, cutoff_11477);
    
    if (mem_17571_cached_sizze_19105 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17571,
                              &mem_17571_cached_sizze_19105, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17575_cached_sizze_19106 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17575,
                              &mem_17575_cached_sizze_19106, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17579_cached_sizze_19107 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17579,
                              &mem_17579_cached_sizze_19107, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17583_cached_sizze_19108 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17583,
                              &mem_17583_cached_sizze_19108, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17587_cached_sizze_19109 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17587,
                              &mem_17587_cached_sizze_19109, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17591_cached_sizze_19110 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17591,
                              &mem_17591_cached_sizze_19110, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17654, bytes_16681, "mem_17654")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17657, bytes_16681, "mem_17657")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17660, bytes_16681, "mem_17660")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17663, bytes_16681, "mem_17663")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17666, bytes_16681, "mem_17666")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17669, bytes_16681, "mem_17669")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17744, bytes_16681, "mem_17744")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17747, bytes_16681, "mem_17747")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17814, bytes_16681, "mem_17814")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17817, bytes_16681, "mem_17817")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17884, bytes_16681, "mem_17884")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17887, bytes_16681, "mem_17887")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16462 = 0; i_16462 < n_11475; i_16462++) {
        int32_t defunc_0_f_res_14924 = sext_i64_i32(i_16462);
        bool cond_14937 = slt32(y_14928, defunc_0_f_res_14924);
        bool cond_t_res_14938 = slt32(defunc_0_f_res_14924, y_14929);
        bool x_14939 = cond_14937 && cond_t_res_14938;
        
        for (int64_t i_16419 = 0; i_16419 < m_11476; i_16419++) {
            int32_t x_14942;
            
            x_14942 = ((int32_t *) mem_16682)[i_16419];
            
            float x_14943;
            
            x_14943 = ((float *) mem_17154)[i_16419 * n_11475 + i_16462];
            
            float x_14944;
            
            x_14944 = ((float *) mem_17158)[i_16419 * n_11475 + i_16462];
            
            float x_15479;
            
            x_15479 = ((float *) mem_17162)[i_16419 * n_11475 + i_16462];
            
            float x_15480;
            
            x_15480 = ((float *) mem_17166)[i_16419 * n_11475 + i_16462];
            
            float x_16015;
            
            x_16015 = ((float *) mem_17170)[i_16419 * n_11475 + i_16462];
            
            float x_16016;
            
            x_16016 = ((float *) mem_17174)[i_16419 * n_11475 + i_16462];
            
            bool cond_t_res_14945 = slt32(y_14930, x_14942);
            bool x_14946 = x_14939 && cond_t_res_14945;
            bool cond_t_res_14947 = slt32(x_14942, y_14931);
            bool x_14948 = x_14946 && cond_t_res_14947;
            float defunc_1_f_res_14949;
            
            if (x_14948) {
                defunc_1_f_res_14949 = 0.0F;
            } else {
                defunc_1_f_res_14949 = x_14943;
            }
            
            float defunc_1_f_res_14950;
            
            if (x_14948) {
                defunc_1_f_res_14950 = 0.0F;
            } else {
                defunc_1_f_res_14950 = x_14944;
            }
            
            float defunc_1_f_res_15485;
            
            if (x_14948) {
                defunc_1_f_res_15485 = 0.0F;
            } else {
                defunc_1_f_res_15485 = x_15479;
            }
            
            float defunc_1_f_res_15486;
            
            if (x_14948) {
                defunc_1_f_res_15486 = 0.0F;
            } else {
                defunc_1_f_res_15486 = x_15480;
            }
            
            float defunc_1_f_res_16021;
            
            if (x_14948) {
                defunc_1_f_res_16021 = 0.0F;
            } else {
                defunc_1_f_res_16021 = x_16015;
            }
            
            float defunc_1_f_res_16022;
            
            if (x_14948) {
                defunc_1_f_res_16022 = 0.0F;
            } else {
                defunc_1_f_res_16022 = x_16016;
            }
            ((float *) mem_17654.mem)[i_16419] = defunc_1_f_res_14949;
            ((float *) mem_17657.mem)[i_16419] = defunc_1_f_res_14950;
            ((float *) mem_17660.mem)[i_16419] = defunc_1_f_res_15485;
            ((float *) mem_17663.mem)[i_16419] = defunc_1_f_res_15486;
            ((float *) mem_17666.mem)[i_16419] = defunc_1_f_res_16021;
            ((float *) mem_17669.mem)[i_16419] = defunc_1_f_res_16022;
        }
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17744.mem + (int64_t) 0, mem_17654.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17747.mem + (int64_t) 0, mem_17657.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int64_t ext_17811;
        int64_t ext_17810;
        int64_t ext_17809;
        int64_t ext_17808;
        int64_t ext_17807;
        int64_t ext_17806;
        int64_t ext_17805;
        int64_t ext_17804;
        int64_t ext_17803;
        int64_t ext_17802;
        int64_t ext_17801;
        int64_t ext_17800;
        int64_t ext_17799;
        int64_t ext_17798;
        int64_t ext_17797;
        int64_t ext_17796;
        int64_t ctx_param_ext_17748;
        int64_t ctx_param_ext_17749;
        int64_t ctx_param_ext_17750;
        int64_t ctx_param_ext_17751;
        int64_t ctx_param_ext_17753;
        int64_t ctx_param_ext_17754;
        int64_t ctx_param_ext_17755;
        int64_t ctx_param_ext_17756;
        int64_t ctx_param_ext_17758;
        int64_t ctx_param_ext_17759;
        int64_t ctx_param_ext_17760;
        int64_t ctx_param_ext_17761;
        int64_t ctx_param_ext_17763;
        int64_t ctx_param_ext_17764;
        int64_t ctx_param_ext_17765;
        int64_t ctx_param_ext_17766;
        
        ctx_param_ext_17748 = m_11476;
        ctx_param_ext_17749 = (int64_t) 0;
        ctx_param_ext_17750 = (int64_t) 1;
        ctx_param_ext_17751 = m_11476;
        ctx_param_ext_17753 = m_11476;
        ctx_param_ext_17754 = (int64_t) 0;
        ctx_param_ext_17755 = (int64_t) 1;
        ctx_param_ext_17756 = m_11476;
        ctx_param_ext_17758 = m_11476;
        ctx_param_ext_17759 = (int64_t) 0;
        ctx_param_ext_17760 = (int64_t) 1;
        ctx_param_ext_17761 = m_11476;
        ctx_param_ext_17763 = m_11476;
        ctx_param_ext_17764 = (int64_t) 0;
        ctx_param_ext_17765 = (int64_t) 1;
        ctx_param_ext_17766 = m_11476;
        if (memblock_set(ctx, &mem_param_17752, &mem_17654, "mem_17654") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17757, &mem_17657, "mem_17657") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17762, &mem_17744, "mem_17744") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17767, &mem_17747, "mem_17747") != 0)
            return 1;
        
        int32_t ns_15004;
        
        for (int64_t i_14999 = 0; i_14999 < i32_res_14971; i_14999++) {
            ns_15004 = ((int32_t *) mem_17555)[i_14999];
            
            bool zzero_15010 = ns_15004 == 0;
            bool nonzzero_15011 = !zzero_15010;
            bool nonzzero_cert_15012;
            
            if (!nonzzero_15011) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15008 = mul32(2, ns_15004);
            float i32_res_15009 = sitofp_i32_f32(i32_arg_15008);
            
            for (int64_t write_iter_16426 = 0; write_iter_16426 <
                 iota_arg_14709; write_iter_16426++) {
                int32_t defunc_0_f_res_15007 = sext_i64_i32(write_iter_16426);
                int32_t i32_arg_15020 = smod32(defunc_0_f_res_15007, ns_15004);
                float i32_res_15021 = sitofp_i32_f32(i32_arg_15020);
                float zt_res_15022 = 6.2831855F * i32_res_15021;
                float zs_res_15023 = zt_res_15022 / i32_res_15009;
                int64_t j_15024 = sext_i32_i64(defunc_0_f_res_15007);
                bool x_15025 = sle64((int64_t) 0, j_15024);
                bool y_15026 = slt64(j_15024, m_11476);
                bool bounds_check_15027 = x_15025 && y_15026;
                bool index_certs_15028;
                
                if (!bounds_check_15027) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15024,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15029;
                
                defunc_0_f_res_15029 =
                    ((float *) mem_param_17752.mem)[ctx_param_ext_17749 +
                                                    j_15024 *
                                                    ctx_param_ext_17750];
                
                float defunc_0_f_res_15030;
                
                defunc_0_f_res_15030 =
                    ((float *) mem_param_17757.mem)[ctx_param_ext_17754 +
                                                    j_15024 *
                                                    ctx_param_ext_17755];
                
                float sin_res_15031;
                
                sin_res_15031 = futrts_sin32(zs_res_15023);
                
                float cos_res_15032;
                
                cos_res_15032 = futrts_cos32(zs_res_15023);
                
                int32_t i_15033 = add32(y_14728, defunc_0_f_res_15007);
                int64_t i_15034 = sext_i32_i64(i_15033);
                bool x_15035 = sle64((int64_t) 0, i_15034);
                bool y_15036 = slt64(i_15034, m_11476);
                bool bounds_check_15037 = x_15035 && y_15036;
                bool index_certs_15038;
                
                if (!bounds_check_15037) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15034,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15039;
                
                zt_arg_15039 =
                    ((float *) mem_param_17752.mem)[ctx_param_ext_17749 +
                                                    i_15034 *
                                                    ctx_param_ext_17750];
                
                float zt_arg_15040;
                
                zt_arg_15040 =
                    ((float *) mem_param_17757.mem)[ctx_param_ext_17754 +
                                                    i_15034 *
                                                    ctx_param_ext_17755];
                
                float zt_res_15041 = sin_res_15031 * zt_arg_15040;
                float zt_res_15042 = cos_res_15032 * zt_arg_15039;
                float zm_res_15043 = zt_res_15042 - zt_res_15041;
                float zt_res_15044 = sin_res_15031 * zt_arg_15039;
                float zt_res_15045 = cos_res_15032 * zt_arg_15040;
                float zp_res_15046 = zt_res_15044 + zt_res_15045;
                float zp_res_15047 = defunc_0_f_res_15029 + zm_res_15043;
                float zp_res_15048 = defunc_0_f_res_15030 + zp_res_15046;
                float zm_res_15049 = defunc_0_f_res_15029 - zm_res_15043;
                float zm_res_15050 = defunc_0_f_res_15030 - zp_res_15046;
                int32_t x_15051 = sdiv32(defunc_0_f_res_15007, ns_15004);
                int32_t x_15052 = mul32(ns_15004, x_15051);
                int32_t x_15053 = mul32(2, x_15052);
                int32_t idxD_15054 = add32(i32_arg_15020, x_15053);
                int64_t i32_res_15055 = sext_i32_i64(idxD_15054);
                int32_t i32_arg_15056 = add32(ns_15004, idxD_15054);
                int64_t i32_res_15057 = sext_i32_i64(i32_arg_15056);
                
                if (sle64((int64_t) 0, i32_res_15055) && slt64(i32_res_15055,
                                                               m_11476)) {
                    ((float *) mem_param_17762.mem)[ctx_param_ext_17759 +
                                                    i32_res_15055 *
                                                    ctx_param_ext_17760] =
                        zp_res_15047;
                }
                if (sle64((int64_t) 0, i32_res_15057) && slt64(i32_res_15057,
                                                               m_11476)) {
                    ((float *) mem_param_17762.mem)[ctx_param_ext_17759 +
                                                    i32_res_15057 *
                                                    ctx_param_ext_17760] =
                        zm_res_15049;
                }
                if (sle64((int64_t) 0, i32_res_15055) && slt64(i32_res_15055,
                                                               m_11476)) {
                    ((float *) mem_param_17767.mem)[ctx_param_ext_17764 +
                                                    i32_res_15055 *
                                                    ctx_param_ext_17765] =
                        zp_res_15048;
                }
                if (sle64((int64_t) 0, i32_res_15057) && slt64(i32_res_15057,
                                                               m_11476)) {
                    ((float *) mem_param_17767.mem)[ctx_param_ext_17764 +
                                                    i32_res_15057 *
                                                    ctx_param_ext_17765] =
                        zm_res_15050;
                }
            }
            
            int64_t ctx_param_ext_tmp_18873 = ctx_param_ext_17758;
            int64_t ctx_param_ext_tmp_18874 = ctx_param_ext_17759;
            int64_t ctx_param_ext_tmp_18875 = ctx_param_ext_17760;
            int64_t ctx_param_ext_tmp_18876 = ctx_param_ext_17761;
            int64_t ctx_param_ext_tmp_18877 = ctx_param_ext_17763;
            int64_t ctx_param_ext_tmp_18878 = ctx_param_ext_17764;
            int64_t ctx_param_ext_tmp_18879 = ctx_param_ext_17765;
            int64_t ctx_param_ext_tmp_18880 = ctx_param_ext_17766;
            int64_t ctx_param_ext_tmp_18881 = ctx_param_ext_17748;
            int64_t ctx_param_ext_tmp_18882 = ctx_param_ext_17749;
            int64_t ctx_param_ext_tmp_18883 = ctx_param_ext_17750;
            int64_t ctx_param_ext_tmp_18884 = ctx_param_ext_17751;
            int64_t ctx_param_ext_tmp_18885 = ctx_param_ext_17753;
            int64_t ctx_param_ext_tmp_18886 = ctx_param_ext_17754;
            int64_t ctx_param_ext_tmp_18887 = ctx_param_ext_17755;
            int64_t ctx_param_ext_tmp_18888 = ctx_param_ext_17756;
            
            if (memblock_set(ctx, &mem_param_tmp_18889, &mem_param_17762,
                             "mem_param_17762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18890, &mem_param_17767,
                             "mem_param_17767") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18891, &mem_param_17752,
                             "mem_param_17752") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18892, &mem_param_17757,
                             "mem_param_17757") != 0)
                return 1;
            ctx_param_ext_17748 = ctx_param_ext_tmp_18873;
            ctx_param_ext_17749 = ctx_param_ext_tmp_18874;
            ctx_param_ext_17750 = ctx_param_ext_tmp_18875;
            ctx_param_ext_17751 = ctx_param_ext_tmp_18876;
            ctx_param_ext_17753 = ctx_param_ext_tmp_18877;
            ctx_param_ext_17754 = ctx_param_ext_tmp_18878;
            ctx_param_ext_17755 = ctx_param_ext_tmp_18879;
            ctx_param_ext_17756 = ctx_param_ext_tmp_18880;
            ctx_param_ext_17758 = ctx_param_ext_tmp_18881;
            ctx_param_ext_17759 = ctx_param_ext_tmp_18882;
            ctx_param_ext_17760 = ctx_param_ext_tmp_18883;
            ctx_param_ext_17761 = ctx_param_ext_tmp_18884;
            ctx_param_ext_17763 = ctx_param_ext_tmp_18885;
            ctx_param_ext_17764 = ctx_param_ext_tmp_18886;
            ctx_param_ext_17765 = ctx_param_ext_tmp_18887;
            ctx_param_ext_17766 = ctx_param_ext_tmp_18888;
            if (memblock_set(ctx, &mem_param_17752, &mem_param_tmp_18889,
                             "mem_param_tmp_18889") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17757, &mem_param_tmp_18890,
                             "mem_param_tmp_18890") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17762, &mem_param_tmp_18891,
                             "mem_param_tmp_18891") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17767, &mem_param_tmp_18892,
                             "mem_param_tmp_18892") != 0)
                return 1;
        }
        ext_17811 = ctx_param_ext_17748;
        ext_17810 = ctx_param_ext_17749;
        ext_17809 = ctx_param_ext_17750;
        ext_17808 = ctx_param_ext_17751;
        ext_17807 = ctx_param_ext_17753;
        ext_17806 = ctx_param_ext_17754;
        ext_17805 = ctx_param_ext_17755;
        ext_17804 = ctx_param_ext_17756;
        ext_17803 = ctx_param_ext_17758;
        ext_17802 = ctx_param_ext_17759;
        ext_17801 = ctx_param_ext_17760;
        ext_17800 = ctx_param_ext_17761;
        ext_17799 = ctx_param_ext_17763;
        ext_17798 = ctx_param_ext_17764;
        ext_17797 = ctx_param_ext_17765;
        ext_17796 = ctx_param_ext_17766;
        if (memblock_set(ctx, &ext_mem_17795, &mem_param_17752,
                         "mem_param_17752") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17794, &mem_param_17757,
                         "mem_param_17757") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17793, &mem_param_17762,
                         "mem_param_17762") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17792, &mem_param_17767,
                         "mem_param_17767") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17814.mem + (int64_t) 0, mem_17660.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17817.mem + (int64_t) 0, mem_17663.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int64_t ext_17881;
        int64_t ext_17880;
        int64_t ext_17879;
        int64_t ext_17878;
        int64_t ext_17877;
        int64_t ext_17876;
        int64_t ext_17875;
        int64_t ext_17874;
        int64_t ext_17873;
        int64_t ext_17872;
        int64_t ext_17871;
        int64_t ext_17870;
        int64_t ext_17869;
        int64_t ext_17868;
        int64_t ext_17867;
        int64_t ext_17866;
        int64_t ctx_param_ext_17818;
        int64_t ctx_param_ext_17819;
        int64_t ctx_param_ext_17820;
        int64_t ctx_param_ext_17821;
        int64_t ctx_param_ext_17823;
        int64_t ctx_param_ext_17824;
        int64_t ctx_param_ext_17825;
        int64_t ctx_param_ext_17826;
        int64_t ctx_param_ext_17828;
        int64_t ctx_param_ext_17829;
        int64_t ctx_param_ext_17830;
        int64_t ctx_param_ext_17831;
        int64_t ctx_param_ext_17833;
        int64_t ctx_param_ext_17834;
        int64_t ctx_param_ext_17835;
        int64_t ctx_param_ext_17836;
        
        ctx_param_ext_17818 = m_11476;
        ctx_param_ext_17819 = (int64_t) 0;
        ctx_param_ext_17820 = (int64_t) 1;
        ctx_param_ext_17821 = m_11476;
        ctx_param_ext_17823 = m_11476;
        ctx_param_ext_17824 = (int64_t) 0;
        ctx_param_ext_17825 = (int64_t) 1;
        ctx_param_ext_17826 = m_11476;
        ctx_param_ext_17828 = m_11476;
        ctx_param_ext_17829 = (int64_t) 0;
        ctx_param_ext_17830 = (int64_t) 1;
        ctx_param_ext_17831 = m_11476;
        ctx_param_ext_17833 = m_11476;
        ctx_param_ext_17834 = (int64_t) 0;
        ctx_param_ext_17835 = (int64_t) 1;
        ctx_param_ext_17836 = m_11476;
        if (memblock_set(ctx, &mem_param_17822, &mem_17660, "mem_17660") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17827, &mem_17663, "mem_17663") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17832, &mem_17814, "mem_17814") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17837, &mem_17817, "mem_17817") != 0)
            return 1;
        
        int32_t ns_15540;
        
        for (int64_t i_15535 = 0; i_15535 < i32_res_15507; i_15535++) {
            ns_15540 = ((int32_t *) mem_17540)[i_15535];
            
            bool zzero_15546 = ns_15540 == 0;
            bool nonzzero_15547 = !zzero_15546;
            bool nonzzero_cert_15548;
            
            if (!nonzzero_15547) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15544 = mul32(2, ns_15540);
            float i32_res_15545 = sitofp_i32_f32(i32_arg_15544);
            
            for (int64_t write_iter_16434 = 0; write_iter_16434 <
                 iota_arg_14709; write_iter_16434++) {
                int32_t defunc_0_f_res_15543 = sext_i64_i32(write_iter_16434);
                int32_t i32_arg_15556 = smod32(defunc_0_f_res_15543, ns_15540);
                float i32_res_15557 = sitofp_i32_f32(i32_arg_15556);
                float zt_res_15558 = 6.2831855F * i32_res_15557;
                float zs_res_15559 = zt_res_15558 / i32_res_15545;
                int64_t j_15560 = sext_i32_i64(defunc_0_f_res_15543);
                bool x_15561 = sle64((int64_t) 0, j_15560);
                bool y_15562 = slt64(j_15560, m_11476);
                bool bounds_check_15563 = x_15561 && y_15562;
                bool index_certs_15564;
                
                if (!bounds_check_15563) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15560,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15565;
                
                defunc_0_f_res_15565 =
                    ((float *) mem_param_17822.mem)[ctx_param_ext_17819 +
                                                    j_15560 *
                                                    ctx_param_ext_17820];
                
                float defunc_0_f_res_15566;
                
                defunc_0_f_res_15566 =
                    ((float *) mem_param_17827.mem)[ctx_param_ext_17824 +
                                                    j_15560 *
                                                    ctx_param_ext_17825];
                
                float sin_res_15567;
                
                sin_res_15567 = futrts_sin32(zs_res_15559);
                
                float cos_res_15568;
                
                cos_res_15568 = futrts_cos32(zs_res_15559);
                
                int32_t i_15569 = add32(y_14728, defunc_0_f_res_15543);
                int64_t i_15570 = sext_i32_i64(i_15569);
                bool x_15571 = sle64((int64_t) 0, i_15570);
                bool y_15572 = slt64(i_15570, m_11476);
                bool bounds_check_15573 = x_15571 && y_15572;
                bool index_certs_15574;
                
                if (!bounds_check_15573) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15570,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15575;
                
                zt_arg_15575 =
                    ((float *) mem_param_17822.mem)[ctx_param_ext_17819 +
                                                    i_15570 *
                                                    ctx_param_ext_17820];
                
                float zt_arg_15576;
                
                zt_arg_15576 =
                    ((float *) mem_param_17827.mem)[ctx_param_ext_17824 +
                                                    i_15570 *
                                                    ctx_param_ext_17825];
                
                float zt_res_15577 = sin_res_15567 * zt_arg_15576;
                float zt_res_15578 = cos_res_15568 * zt_arg_15575;
                float zm_res_15579 = zt_res_15578 - zt_res_15577;
                float zt_res_15580 = sin_res_15567 * zt_arg_15575;
                float zt_res_15581 = cos_res_15568 * zt_arg_15576;
                float zp_res_15582 = zt_res_15580 + zt_res_15581;
                float zp_res_15583 = defunc_0_f_res_15565 + zm_res_15579;
                float zp_res_15584 = defunc_0_f_res_15566 + zp_res_15582;
                float zm_res_15585 = defunc_0_f_res_15565 - zm_res_15579;
                float zm_res_15586 = defunc_0_f_res_15566 - zp_res_15582;
                int32_t x_15587 = sdiv32(defunc_0_f_res_15543, ns_15540);
                int32_t x_15588 = mul32(ns_15540, x_15587);
                int32_t x_15589 = mul32(2, x_15588);
                int32_t idxD_15590 = add32(i32_arg_15556, x_15589);
                int64_t i32_res_15591 = sext_i32_i64(idxD_15590);
                int32_t i32_arg_15592 = add32(ns_15540, idxD_15590);
                int64_t i32_res_15593 = sext_i32_i64(i32_arg_15592);
                
                if (sle64((int64_t) 0, i32_res_15591) && slt64(i32_res_15591,
                                                               m_11476)) {
                    ((float *) mem_param_17832.mem)[ctx_param_ext_17829 +
                                                    i32_res_15591 *
                                                    ctx_param_ext_17830] =
                        zp_res_15583;
                }
                if (sle64((int64_t) 0, i32_res_15593) && slt64(i32_res_15593,
                                                               m_11476)) {
                    ((float *) mem_param_17832.mem)[ctx_param_ext_17829 +
                                                    i32_res_15593 *
                                                    ctx_param_ext_17830] =
                        zm_res_15585;
                }
                if (sle64((int64_t) 0, i32_res_15591) && slt64(i32_res_15591,
                                                               m_11476)) {
                    ((float *) mem_param_17837.mem)[ctx_param_ext_17834 +
                                                    i32_res_15591 *
                                                    ctx_param_ext_17835] =
                        zp_res_15584;
                }
                if (sle64((int64_t) 0, i32_res_15593) && slt64(i32_res_15593,
                                                               m_11476)) {
                    ((float *) mem_param_17837.mem)[ctx_param_ext_17834 +
                                                    i32_res_15593 *
                                                    ctx_param_ext_17835] =
                        zm_res_15586;
                }
            }
            
            int64_t ctx_param_ext_tmp_18899 = ctx_param_ext_17828;
            int64_t ctx_param_ext_tmp_18900 = ctx_param_ext_17829;
            int64_t ctx_param_ext_tmp_18901 = ctx_param_ext_17830;
            int64_t ctx_param_ext_tmp_18902 = ctx_param_ext_17831;
            int64_t ctx_param_ext_tmp_18903 = ctx_param_ext_17833;
            int64_t ctx_param_ext_tmp_18904 = ctx_param_ext_17834;
            int64_t ctx_param_ext_tmp_18905 = ctx_param_ext_17835;
            int64_t ctx_param_ext_tmp_18906 = ctx_param_ext_17836;
            int64_t ctx_param_ext_tmp_18907 = ctx_param_ext_17818;
            int64_t ctx_param_ext_tmp_18908 = ctx_param_ext_17819;
            int64_t ctx_param_ext_tmp_18909 = ctx_param_ext_17820;
            int64_t ctx_param_ext_tmp_18910 = ctx_param_ext_17821;
            int64_t ctx_param_ext_tmp_18911 = ctx_param_ext_17823;
            int64_t ctx_param_ext_tmp_18912 = ctx_param_ext_17824;
            int64_t ctx_param_ext_tmp_18913 = ctx_param_ext_17825;
            int64_t ctx_param_ext_tmp_18914 = ctx_param_ext_17826;
            
            if (memblock_set(ctx, &mem_param_tmp_18915, &mem_param_17832,
                             "mem_param_17832") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18916, &mem_param_17837,
                             "mem_param_17837") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18917, &mem_param_17822,
                             "mem_param_17822") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18918, &mem_param_17827,
                             "mem_param_17827") != 0)
                return 1;
            ctx_param_ext_17818 = ctx_param_ext_tmp_18899;
            ctx_param_ext_17819 = ctx_param_ext_tmp_18900;
            ctx_param_ext_17820 = ctx_param_ext_tmp_18901;
            ctx_param_ext_17821 = ctx_param_ext_tmp_18902;
            ctx_param_ext_17823 = ctx_param_ext_tmp_18903;
            ctx_param_ext_17824 = ctx_param_ext_tmp_18904;
            ctx_param_ext_17825 = ctx_param_ext_tmp_18905;
            ctx_param_ext_17826 = ctx_param_ext_tmp_18906;
            ctx_param_ext_17828 = ctx_param_ext_tmp_18907;
            ctx_param_ext_17829 = ctx_param_ext_tmp_18908;
            ctx_param_ext_17830 = ctx_param_ext_tmp_18909;
            ctx_param_ext_17831 = ctx_param_ext_tmp_18910;
            ctx_param_ext_17833 = ctx_param_ext_tmp_18911;
            ctx_param_ext_17834 = ctx_param_ext_tmp_18912;
            ctx_param_ext_17835 = ctx_param_ext_tmp_18913;
            ctx_param_ext_17836 = ctx_param_ext_tmp_18914;
            if (memblock_set(ctx, &mem_param_17822, &mem_param_tmp_18915,
                             "mem_param_tmp_18915") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17827, &mem_param_tmp_18916,
                             "mem_param_tmp_18916") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17832, &mem_param_tmp_18917,
                             "mem_param_tmp_18917") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17837, &mem_param_tmp_18918,
                             "mem_param_tmp_18918") != 0)
                return 1;
        }
        ext_17881 = ctx_param_ext_17818;
        ext_17880 = ctx_param_ext_17819;
        ext_17879 = ctx_param_ext_17820;
        ext_17878 = ctx_param_ext_17821;
        ext_17877 = ctx_param_ext_17823;
        ext_17876 = ctx_param_ext_17824;
        ext_17875 = ctx_param_ext_17825;
        ext_17874 = ctx_param_ext_17826;
        ext_17873 = ctx_param_ext_17828;
        ext_17872 = ctx_param_ext_17829;
        ext_17871 = ctx_param_ext_17830;
        ext_17870 = ctx_param_ext_17831;
        ext_17869 = ctx_param_ext_17833;
        ext_17868 = ctx_param_ext_17834;
        ext_17867 = ctx_param_ext_17835;
        ext_17866 = ctx_param_ext_17836;
        if (memblock_set(ctx, &ext_mem_17865, &mem_param_17822,
                         "mem_param_17822") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17864, &mem_param_17827,
                         "mem_param_17827") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17863, &mem_param_17832,
                         "mem_param_17832") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17862, &mem_param_17837,
                         "mem_param_17837") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17884.mem + (int64_t) 0, mem_17666.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17887.mem + (int64_t) 0, mem_17669.mem + (int64_t) 0,
                    m_11476 * (int64_t) 4);
        
        int64_t ext_17951;
        int64_t ext_17950;
        int64_t ext_17949;
        int64_t ext_17948;
        int64_t ext_17947;
        int64_t ext_17946;
        int64_t ext_17945;
        int64_t ext_17944;
        int64_t ext_17943;
        int64_t ext_17942;
        int64_t ext_17941;
        int64_t ext_17940;
        int64_t ext_17939;
        int64_t ext_17938;
        int64_t ext_17937;
        int64_t ext_17936;
        int64_t ctx_param_ext_17888;
        int64_t ctx_param_ext_17889;
        int64_t ctx_param_ext_17890;
        int64_t ctx_param_ext_17891;
        int64_t ctx_param_ext_17893;
        int64_t ctx_param_ext_17894;
        int64_t ctx_param_ext_17895;
        int64_t ctx_param_ext_17896;
        int64_t ctx_param_ext_17898;
        int64_t ctx_param_ext_17899;
        int64_t ctx_param_ext_17900;
        int64_t ctx_param_ext_17901;
        int64_t ctx_param_ext_17903;
        int64_t ctx_param_ext_17904;
        int64_t ctx_param_ext_17905;
        int64_t ctx_param_ext_17906;
        
        ctx_param_ext_17888 = m_11476;
        ctx_param_ext_17889 = (int64_t) 0;
        ctx_param_ext_17890 = (int64_t) 1;
        ctx_param_ext_17891 = m_11476;
        ctx_param_ext_17893 = m_11476;
        ctx_param_ext_17894 = (int64_t) 0;
        ctx_param_ext_17895 = (int64_t) 1;
        ctx_param_ext_17896 = m_11476;
        ctx_param_ext_17898 = m_11476;
        ctx_param_ext_17899 = (int64_t) 0;
        ctx_param_ext_17900 = (int64_t) 1;
        ctx_param_ext_17901 = m_11476;
        ctx_param_ext_17903 = m_11476;
        ctx_param_ext_17904 = (int64_t) 0;
        ctx_param_ext_17905 = (int64_t) 1;
        ctx_param_ext_17906 = m_11476;
        if (memblock_set(ctx, &mem_param_17892, &mem_17666, "mem_17666") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17897, &mem_17669, "mem_17669") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17902, &mem_17884, "mem_17884") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17907, &mem_17887, "mem_17887") != 0)
            return 1;
        
        int32_t ns_16076;
        
        for (int64_t i_16071 = 0; i_16071 < i32_res_16043; i_16071++) {
            ns_16076 = ((int32_t *) mem_17525)[i_16071];
            
            bool zzero_16082 = ns_16076 == 0;
            bool nonzzero_16083 = !zzero_16082;
            bool nonzzero_cert_16084;
            
            if (!nonzzero_16083) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_16080 = mul32(2, ns_16076);
            float i32_res_16081 = sitofp_i32_f32(i32_arg_16080);
            
            for (int64_t write_iter_16442 = 0; write_iter_16442 <
                 iota_arg_14709; write_iter_16442++) {
                int32_t defunc_0_f_res_16079 = sext_i64_i32(write_iter_16442);
                int32_t i32_arg_16092 = smod32(defunc_0_f_res_16079, ns_16076);
                float i32_res_16093 = sitofp_i32_f32(i32_arg_16092);
                float zt_res_16094 = 6.2831855F * i32_res_16093;
                float zs_res_16095 = zt_res_16094 / i32_res_16081;
                int64_t j_16096 = sext_i32_i64(defunc_0_f_res_16079);
                bool x_16097 = sle64((int64_t) 0, j_16096);
                bool y_16098 = slt64(j_16096, m_11476);
                bool bounds_check_16099 = x_16097 && y_16098;
                bool index_certs_16100;
                
                if (!bounds_check_16099) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_16096,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_16101;
                
                defunc_0_f_res_16101 =
                    ((float *) mem_param_17892.mem)[ctx_param_ext_17889 +
                                                    j_16096 *
                                                    ctx_param_ext_17890];
                
                float defunc_0_f_res_16102;
                
                defunc_0_f_res_16102 =
                    ((float *) mem_param_17897.mem)[ctx_param_ext_17894 +
                                                    j_16096 *
                                                    ctx_param_ext_17895];
                
                float sin_res_16103;
                
                sin_res_16103 = futrts_sin32(zs_res_16095);
                
                float cos_res_16104;
                
                cos_res_16104 = futrts_cos32(zs_res_16095);
                
                int32_t i_16105 = add32(y_14728, defunc_0_f_res_16079);
                int64_t i_16106 = sext_i32_i64(i_16105);
                bool x_16107 = sle64((int64_t) 0, i_16106);
                bool y_16108 = slt64(i_16106, m_11476);
                bool bounds_check_16109 = x_16107 && y_16108;
                bool index_certs_16110;
                
                if (!bounds_check_16109) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_16106,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11476, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_16111;
                
                zt_arg_16111 =
                    ((float *) mem_param_17892.mem)[ctx_param_ext_17889 +
                                                    i_16106 *
                                                    ctx_param_ext_17890];
                
                float zt_arg_16112;
                
                zt_arg_16112 =
                    ((float *) mem_param_17897.mem)[ctx_param_ext_17894 +
                                                    i_16106 *
                                                    ctx_param_ext_17895];
                
                float zt_res_16113 = sin_res_16103 * zt_arg_16112;
                float zt_res_16114 = cos_res_16104 * zt_arg_16111;
                float zm_res_16115 = zt_res_16114 - zt_res_16113;
                float zt_res_16116 = sin_res_16103 * zt_arg_16111;
                float zt_res_16117 = cos_res_16104 * zt_arg_16112;
                float zp_res_16118 = zt_res_16116 + zt_res_16117;
                float zp_res_16119 = defunc_0_f_res_16101 + zm_res_16115;
                float zp_res_16120 = defunc_0_f_res_16102 + zp_res_16118;
                float zm_res_16121 = defunc_0_f_res_16101 - zm_res_16115;
                float zm_res_16122 = defunc_0_f_res_16102 - zp_res_16118;
                int32_t x_16123 = sdiv32(defunc_0_f_res_16079, ns_16076);
                int32_t x_16124 = mul32(ns_16076, x_16123);
                int32_t x_16125 = mul32(2, x_16124);
                int32_t idxD_16126 = add32(i32_arg_16092, x_16125);
                int64_t i32_res_16127 = sext_i32_i64(idxD_16126);
                int32_t i32_arg_16128 = add32(ns_16076, idxD_16126);
                int64_t i32_res_16129 = sext_i32_i64(i32_arg_16128);
                
                if (sle64((int64_t) 0, i32_res_16127) && slt64(i32_res_16127,
                                                               m_11476)) {
                    ((float *) mem_param_17902.mem)[ctx_param_ext_17899 +
                                                    i32_res_16127 *
                                                    ctx_param_ext_17900] =
                        zp_res_16119;
                }
                if (sle64((int64_t) 0, i32_res_16129) && slt64(i32_res_16129,
                                                               m_11476)) {
                    ((float *) mem_param_17902.mem)[ctx_param_ext_17899 +
                                                    i32_res_16129 *
                                                    ctx_param_ext_17900] =
                        zm_res_16121;
                }
                if (sle64((int64_t) 0, i32_res_16127) && slt64(i32_res_16127,
                                                               m_11476)) {
                    ((float *) mem_param_17907.mem)[ctx_param_ext_17904 +
                                                    i32_res_16127 *
                                                    ctx_param_ext_17905] =
                        zp_res_16120;
                }
                if (sle64((int64_t) 0, i32_res_16129) && slt64(i32_res_16129,
                                                               m_11476)) {
                    ((float *) mem_param_17907.mem)[ctx_param_ext_17904 +
                                                    i32_res_16129 *
                                                    ctx_param_ext_17905] =
                        zm_res_16122;
                }
            }
            
            int64_t ctx_param_ext_tmp_18925 = ctx_param_ext_17898;
            int64_t ctx_param_ext_tmp_18926 = ctx_param_ext_17899;
            int64_t ctx_param_ext_tmp_18927 = ctx_param_ext_17900;
            int64_t ctx_param_ext_tmp_18928 = ctx_param_ext_17901;
            int64_t ctx_param_ext_tmp_18929 = ctx_param_ext_17903;
            int64_t ctx_param_ext_tmp_18930 = ctx_param_ext_17904;
            int64_t ctx_param_ext_tmp_18931 = ctx_param_ext_17905;
            int64_t ctx_param_ext_tmp_18932 = ctx_param_ext_17906;
            int64_t ctx_param_ext_tmp_18933 = ctx_param_ext_17888;
            int64_t ctx_param_ext_tmp_18934 = ctx_param_ext_17889;
            int64_t ctx_param_ext_tmp_18935 = ctx_param_ext_17890;
            int64_t ctx_param_ext_tmp_18936 = ctx_param_ext_17891;
            int64_t ctx_param_ext_tmp_18937 = ctx_param_ext_17893;
            int64_t ctx_param_ext_tmp_18938 = ctx_param_ext_17894;
            int64_t ctx_param_ext_tmp_18939 = ctx_param_ext_17895;
            int64_t ctx_param_ext_tmp_18940 = ctx_param_ext_17896;
            
            if (memblock_set(ctx, &mem_param_tmp_18941, &mem_param_17902,
                             "mem_param_17902") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18942, &mem_param_17907,
                             "mem_param_17907") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18943, &mem_param_17892,
                             "mem_param_17892") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18944, &mem_param_17897,
                             "mem_param_17897") != 0)
                return 1;
            ctx_param_ext_17888 = ctx_param_ext_tmp_18925;
            ctx_param_ext_17889 = ctx_param_ext_tmp_18926;
            ctx_param_ext_17890 = ctx_param_ext_tmp_18927;
            ctx_param_ext_17891 = ctx_param_ext_tmp_18928;
            ctx_param_ext_17893 = ctx_param_ext_tmp_18929;
            ctx_param_ext_17894 = ctx_param_ext_tmp_18930;
            ctx_param_ext_17895 = ctx_param_ext_tmp_18931;
            ctx_param_ext_17896 = ctx_param_ext_tmp_18932;
            ctx_param_ext_17898 = ctx_param_ext_tmp_18933;
            ctx_param_ext_17899 = ctx_param_ext_tmp_18934;
            ctx_param_ext_17900 = ctx_param_ext_tmp_18935;
            ctx_param_ext_17901 = ctx_param_ext_tmp_18936;
            ctx_param_ext_17903 = ctx_param_ext_tmp_18937;
            ctx_param_ext_17904 = ctx_param_ext_tmp_18938;
            ctx_param_ext_17905 = ctx_param_ext_tmp_18939;
            ctx_param_ext_17906 = ctx_param_ext_tmp_18940;
            if (memblock_set(ctx, &mem_param_17892, &mem_param_tmp_18941,
                             "mem_param_tmp_18941") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17897, &mem_param_tmp_18942,
                             "mem_param_tmp_18942") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17902, &mem_param_tmp_18943,
                             "mem_param_tmp_18943") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17907, &mem_param_tmp_18944,
                             "mem_param_tmp_18944") != 0)
                return 1;
        }
        ext_17951 = ctx_param_ext_17888;
        ext_17950 = ctx_param_ext_17889;
        ext_17949 = ctx_param_ext_17890;
        ext_17948 = ctx_param_ext_17891;
        ext_17947 = ctx_param_ext_17893;
        ext_17946 = ctx_param_ext_17894;
        ext_17945 = ctx_param_ext_17895;
        ext_17944 = ctx_param_ext_17896;
        ext_17943 = ctx_param_ext_17898;
        ext_17942 = ctx_param_ext_17899;
        ext_17941 = ctx_param_ext_17900;
        ext_17940 = ctx_param_ext_17901;
        ext_17939 = ctx_param_ext_17903;
        ext_17938 = ctx_param_ext_17904;
        ext_17937 = ctx_param_ext_17905;
        ext_17936 = ctx_param_ext_17906;
        if (memblock_set(ctx, &ext_mem_17935, &mem_param_17892,
                         "mem_param_17892") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17934, &mem_param_17897,
                         "mem_param_17897") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17933, &mem_param_17902,
                         "mem_param_17902") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17932, &mem_param_17907,
                         "mem_param_17907") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17571 + i_16462 * m_11476 * (int64_t) 4,
                    ext_mem_17795.mem + ext_17810 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17795, "ext_mem_17795") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17575 + i_16462 * m_11476 * (int64_t) 4,
                    ext_mem_17794.mem + ext_17806 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17794, "ext_mem_17794") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17579 + i_16462 * m_11476 * (int64_t) 4,
                    ext_mem_17865.mem + ext_17880 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17865, "ext_mem_17865") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17583 + i_16462 * m_11476 * (int64_t) 4,
                    ext_mem_17864.mem + ext_17876 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17864, "ext_mem_17864") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17587 + i_16462 * m_11476 * (int64_t) 4,
                    ext_mem_17935.mem + ext_17950 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17935, "ext_mem_17935") != 0)
            return 1;
        if (m_11476 * (int64_t) 4 > 0)
            memmove(mem_17591 + i_16462 * m_11476 * (int64_t) 4,
                    ext_mem_17934.mem + ext_17946 * (int64_t) 4, m_11476 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17934, "ext_mem_17934") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_17654, "mem_17654") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17657, "mem_17657") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17660, "mem_17660") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17663, "mem_17663") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17666, "mem_17666") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17669, "mem_17669") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17744, "mem_17744") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17747, "mem_17747") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17814, "mem_17814") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17817, "mem_17817") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17884, "mem_17884") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17887, "mem_17887") != 0)
        return 1;
    
    float i64_res_14952 = sitofp_i64_f32(binop_x_16704);
    bool r_14953;
    int32_t r_14954;
    int64_t r_14955;
    bool loop_while_14956;
    int32_t r_14957;
    int64_t n_14958;
    
    loop_while_14956 = loop_cond_14688;
    r_14957 = 0;
    n_14958 = n_11475;
    while (loop_while_14956) {
        int64_t n_14959 = sdiv64(n_14958, (int64_t) 2);
        int32_t r_14960 = add32(1, r_14957);
        bool loop_cond_14961 = slt64((int64_t) 1, n_14959);
        bool loop_while_tmp_18951 = loop_cond_14961;
        int32_t r_tmp_18952 = r_14960;
        int64_t n_tmp_18953 = n_14959;
        
        loop_while_14956 = loop_while_tmp_18951;
        r_14957 = r_tmp_18952;
        n_14958 = n_tmp_18953;
    }
    r_14953 = loop_while_14956;
    r_14954 = r_14957;
    r_14955 = n_14958;
    
    int64_t i32_res_15070 = sext_i32_i64(r_14954);
    bool bounds_invalid_upwards_15071 = slt64(i32_res_15070, (int64_t) 0);
    bool valid_15072 = !bounds_invalid_upwards_15071;
    bool range_valid_c_15073;
    
    if (!valid_15072) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15070, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_18000 = (int64_t) 4 * i32_res_15070;
    int64_t bytes_18001 = smax64((int64_t) 0, binop_y_18000);
    
    if (mem_18002_cached_sizze_19111 < bytes_18001) {
        err = lexical_realloc(&ctx->error, &mem_18002,
                              &mem_18002_cached_sizze_19111, bytes_18001);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16559 = 0; i_16559 < r_14954; i_16559++) {
        int64_t i_16471 = sext_i32_i64(i_16559);
        bool nonnegative_15080 = sle32(0, i_16559);
        bool nonzzero_cert_15081;
        
        if (!nonnegative_15080) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15082 = shl32(1, i_16559);
        
        ((int32_t *) mem_18002)[i_16471] = defunc_0_f_res_15082;
    }
    
    bool loop_nonempty_15083 = slt64((int64_t) 0, i32_res_15070);
    bool loop_not_taken_15084 = !loop_nonempty_15083;
    bool protect_assert_disj_15085 = dim_match_14838 || loop_not_taken_15084;
    bool empty_or_match_cert_15086;
    
    if (!protect_assert_disj_15085) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15087;
    
    if (!protect_assert_disj_15085) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool r_16025;
    int32_t r_16026;
    int64_t r_16027;
    bool loop_while_16028;
    int32_t r_16029;
    int64_t n_16030;
    
    loop_while_16028 = loop_cond_14688;
    r_16029 = 0;
    n_16030 = n_11475;
    while (loop_while_16028) {
        int64_t n_16031 = sdiv64(n_16030, (int64_t) 2);
        int32_t r_16032 = add32(1, r_16029);
        bool loop_cond_16033 = slt64((int64_t) 1, n_16031);
        bool loop_while_tmp_18955 = loop_cond_16033;
        int32_t r_tmp_18956 = r_16032;
        int64_t n_tmp_18957 = n_16031;
        
        loop_while_16028 = loop_while_tmp_18955;
        r_16029 = r_tmp_18956;
        n_16030 = n_tmp_18957;
    }
    r_16025 = loop_while_16028;
    r_16026 = r_16029;
    r_16027 = n_16030;
    
    int64_t i32_res_16142 = sext_i32_i64(r_16026);
    bool loop_nonempty_16155 = slt64((int64_t) 0, i32_res_16142);
    bool loop_not_taken_16156 = !loop_nonempty_16155;
    bool protect_assert_disj_16157 = dim_match_14838 || loop_not_taken_16156;
    bool empty_or_match_cert_16159;
    
    if (!protect_assert_disj_16157) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_16158;
    
    if (!protect_assert_disj_16157) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_16143 = slt64(i32_res_16142, (int64_t) 0);
    bool valid_16144 = !bounds_invalid_upwards_16143;
    bool range_valid_c_16145;
    
    if (!valid_16144) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_16142, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_18015 = (int64_t) 4 * i32_res_16142;
    int64_t bytes_18016 = smax64((int64_t) 0, binop_y_18015);
    
    if (mem_18017_cached_sizze_19112 < bytes_18016) {
        err = lexical_realloc(&ctx->error, &mem_18017,
                              &mem_18017_cached_sizze_19112, bytes_18016);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16560 = 0; i_16560 < r_16026; i_16560++) {
        int64_t i_16475 = sext_i32_i64(i_16560);
        bool nonnegative_16152 = sle32(0, i_16560);
        bool nonzzero_cert_16153;
        
        if (!nonnegative_16152) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_16154 = shl32(1, i_16560);
        
        ((int32_t *) mem_18017)[i_16475] = defunc_0_f_res_16154;
    }
    
    bool r_15489;
    int32_t r_15490;
    int64_t r_15491;
    bool loop_while_15492;
    int32_t r_15493;
    int64_t n_15494;
    
    loop_while_15492 = loop_cond_14688;
    r_15493 = 0;
    n_15494 = n_11475;
    while (loop_while_15492) {
        int64_t n_15495 = sdiv64(n_15494, (int64_t) 2);
        int32_t r_15496 = add32(1, r_15493);
        bool loop_cond_15497 = slt64((int64_t) 1, n_15495);
        bool loop_while_tmp_18959 = loop_cond_15497;
        int32_t r_tmp_18960 = r_15496;
        int64_t n_tmp_18961 = n_15495;
        
        loop_while_15492 = loop_while_tmp_18959;
        r_15493 = r_tmp_18960;
        n_15494 = n_tmp_18961;
    }
    r_15489 = loop_while_15492;
    r_15490 = r_15493;
    r_15491 = n_15494;
    
    int64_t i32_res_15606 = sext_i32_i64(r_15490);
    bool loop_nonempty_15619 = slt64((int64_t) 0, i32_res_15606);
    bool loop_not_taken_15620 = !loop_nonempty_15619;
    bool protect_assert_disj_15621 = dim_match_14838 || loop_not_taken_15620;
    bool empty_or_match_cert_15623;
    
    if (!protect_assert_disj_15621) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15622;
    
    if (!protect_assert_disj_15621) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11475, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:70:25-39\n   #7  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15607 = slt64(i32_res_15606, (int64_t) 0);
    bool valid_15608 = !bounds_invalid_upwards_15607;
    bool range_valid_c_15609;
    
    if (!valid_15608) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15606, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_18030 = (int64_t) 4 * i32_res_15606;
    int64_t bytes_18031 = smax64((int64_t) 0, binop_y_18030);
    
    if (mem_18032_cached_sizze_19113 < bytes_18031) {
        err = lexical_realloc(&ctx->error, &mem_18032,
                              &mem_18032_cached_sizze_19113, bytes_18031);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16561 = 0; i_16561 < r_15490; i_16561++) {
        int64_t i_16479 = sext_i32_i64(i_16561);
        bool nonnegative_15616 = sle32(0, i_16561);
        bool nonzzero_cert_15617;
        
        if (!nonnegative_15616) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15618 = shl32(1, i_16561);
        
        ((int32_t *) mem_18032)[i_16479] = defunc_0_f_res_15618;
    }
    if (mem_18048_cached_sizze_19114 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18048,
                              &mem_18048_cached_sizze_19114, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18052_cached_sizze_19115 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18052,
                              &mem_18052_cached_sizze_19115, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18056_cached_sizze_19116 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18056,
                              &mem_18056_cached_sizze_19116, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18060_cached_sizze_19117 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18060,
                              &mem_18060_cached_sizze_19117, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18064_cached_sizze_19118 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18064,
                              &mem_18064_cached_sizze_19118, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18068_cached_sizze_19119 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18068,
                              &mem_18068_cached_sizze_19119, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t binop_y_18129 = (int64_t) 4 * n_11475;
    int64_t bytes_18130 = smax64((int64_t) 0, binop_y_18129);
    
    if (memblock_alloc(ctx, &mem_18131, bytes_18130, "mem_18131")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18134, bytes_18130, "mem_18134")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18137, bytes_18130, "mem_18137")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18140, bytes_18130, "mem_18140")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18143, bytes_18130, "mem_18143")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18146, bytes_18130, "mem_18146")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18149, bytes_18130, "mem_18149")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18152, bytes_18130, "mem_18152")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18223, bytes_18130, "mem_18223")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18226, bytes_18130, "mem_18226")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18297, bytes_18130, "mem_18297")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18300, bytes_18130, "mem_18300")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16517 = 0; i_16517 < m_11476; i_16517++) {
        for (int64_t i_18969 = 0; i_18969 < n_11475; i_18969++) {
            float tmp_18970;
            
            tmp_18970 = ((float *) mem_17571)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18969 * m_11476];
            ((float *) mem_18131.mem)[i_18969] = tmp_18970;
        }
        for (int64_t i_18971 = 0; i_18971 < n_11475; i_18971++) {
            float tmp_18972;
            
            tmp_18972 = ((float *) mem_17575)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18971 * m_11476];
            ((float *) mem_18134.mem)[i_18971] = tmp_18972;
        }
        for (int64_t i_18973 = 0; i_18973 < n_11475; i_18973++) {
            float tmp_18974;
            
            tmp_18974 = ((float *) mem_17579)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18973 * m_11476];
            ((float *) mem_18137.mem)[i_18973] = tmp_18974;
        }
        for (int64_t i_18975 = 0; i_18975 < n_11475; i_18975++) {
            float tmp_18976;
            
            tmp_18976 = ((float *) mem_17583)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18975 * m_11476];
            ((float *) mem_18140.mem)[i_18975] = tmp_18976;
        }
        for (int64_t i_18977 = 0; i_18977 < n_11475; i_18977++) {
            float tmp_18978;
            
            tmp_18978 = ((float *) mem_17587)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18977 * m_11476];
            ((float *) mem_18143.mem)[i_18977] = tmp_18978;
        }
        for (int64_t i_18979 = 0; i_18979 < n_11475; i_18979++) {
            float tmp_18980;
            
            tmp_18980 = ((float *) mem_17591)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18979 * m_11476];
            ((float *) mem_18146.mem)[i_18979] = tmp_18980;
        }
        for (int64_t i_18981 = 0; i_18981 < n_11475; i_18981++) {
            float tmp_18982;
            
            tmp_18982 = ((float *) mem_17571)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18981 * m_11476];
            ((float *) mem_18149.mem)[i_18981] = tmp_18982;
        }
        for (int64_t i_18983 = 0; i_18983 < n_11475; i_18983++) {
            float tmp_18984;
            
            tmp_18984 = ((float *) mem_17575)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18983 * m_11476];
            ((float *) mem_18152.mem)[i_18983] = tmp_18984;
        }
        
        int64_t ext_18220;
        int64_t ext_18219;
        int64_t ext_18218;
        int64_t ext_18217;
        int64_t ext_18216;
        int64_t ext_18215;
        int64_t ext_18214;
        int64_t ext_18213;
        int64_t ext_18212;
        int64_t ext_18211;
        int64_t ext_18210;
        int64_t ext_18209;
        int64_t ext_18208;
        int64_t ext_18207;
        int64_t ext_18206;
        int64_t ext_18205;
        int64_t ctx_param_ext_18153;
        int64_t ctx_param_ext_18154;
        int64_t ctx_param_ext_18155;
        int64_t ctx_param_ext_18156;
        int64_t ctx_param_ext_18158;
        int64_t ctx_param_ext_18159;
        int64_t ctx_param_ext_18160;
        int64_t ctx_param_ext_18161;
        int64_t ctx_param_ext_18163;
        int64_t ctx_param_ext_18164;
        int64_t ctx_param_ext_18165;
        int64_t ctx_param_ext_18166;
        int64_t ctx_param_ext_18168;
        int64_t ctx_param_ext_18169;
        int64_t ctx_param_ext_18170;
        int64_t ctx_param_ext_18171;
        
        ctx_param_ext_18153 = n_11475;
        ctx_param_ext_18154 = (int64_t) 0;
        ctx_param_ext_18155 = (int64_t) 1;
        ctx_param_ext_18156 = n_11475;
        ctx_param_ext_18158 = n_11475;
        ctx_param_ext_18159 = (int64_t) 0;
        ctx_param_ext_18160 = (int64_t) 1;
        ctx_param_ext_18161 = n_11475;
        ctx_param_ext_18163 = n_11475;
        ctx_param_ext_18164 = (int64_t) 0;
        ctx_param_ext_18165 = (int64_t) 1;
        ctx_param_ext_18166 = n_11475;
        ctx_param_ext_18168 = n_11475;
        ctx_param_ext_18169 = (int64_t) 0;
        ctx_param_ext_18170 = (int64_t) 1;
        ctx_param_ext_18171 = n_11475;
        if (memblock_set(ctx, &mem_param_18157, &mem_18131, "mem_18131") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18162, &mem_18134, "mem_18134") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18167, &mem_18149, "mem_18149") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18172, &mem_18152, "mem_18152") != 0)
            return 1;
        
        int32_t ns_15103;
        
        for (int64_t i_15098 = 0; i_15098 < i32_res_15070; i_15098++) {
            ns_15103 = ((int32_t *) mem_18002)[i_15098];
            
            bool zzero_15109 = ns_15103 == 0;
            bool nonzzero_15110 = !zzero_15109;
            bool nonzzero_cert_15111;
            
            if (!nonzzero_15110) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15107 = mul32(2, ns_15103);
            float i32_res_15108 = sitofp_i32_f32(i32_arg_15107);
            
            for (int64_t write_iter_16481 = 0; write_iter_16481 <
                 iota_arg_14817; write_iter_16481++) {
                int32_t defunc_0_f_res_15106 = sext_i64_i32(write_iter_16481);
                int32_t i32_arg_15119 = smod32(defunc_0_f_res_15106, ns_15103);
                float i32_res_15120 = sitofp_i32_f32(i32_arg_15119);
                float zt_res_15121 = 6.2831855F * i32_res_15120;
                float zs_res_15122 = zt_res_15121 / i32_res_15108;
                int64_t j_15123 = sext_i32_i64(defunc_0_f_res_15106);
                bool x_15124 = sle64((int64_t) 0, j_15123);
                bool y_15125 = slt64(j_15123, n_11475);
                bool bounds_check_15126 = x_15124 && y_15125;
                bool index_certs_15127;
                
                if (!bounds_check_15126) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15123,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15128;
                
                defunc_0_f_res_15128 =
                    ((float *) mem_param_18157.mem)[ctx_param_ext_18154 +
                                                    j_15123 *
                                                    ctx_param_ext_18155];
                
                float defunc_0_f_res_15129;
                
                defunc_0_f_res_15129 =
                    ((float *) mem_param_18162.mem)[ctx_param_ext_18159 +
                                                    j_15123 *
                                                    ctx_param_ext_18160];
                
                float sin_res_15130;
                
                sin_res_15130 = futrts_sin32(zs_res_15122);
                
                float cos_res_15131;
                
                cos_res_15131 = futrts_cos32(zs_res_15122);
                
                int32_t i_15132 = add32(y_14836, defunc_0_f_res_15106);
                int64_t i_15133 = sext_i32_i64(i_15132);
                bool x_15134 = sle64((int64_t) 0, i_15133);
                bool y_15135 = slt64(i_15133, n_11475);
                bool bounds_check_15136 = x_15134 && y_15135;
                bool index_certs_15137;
                
                if (!bounds_check_15136) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15133,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15138;
                
                zt_arg_15138 =
                    ((float *) mem_param_18157.mem)[ctx_param_ext_18154 +
                                                    i_15133 *
                                                    ctx_param_ext_18155];
                
                float zt_arg_15139;
                
                zt_arg_15139 =
                    ((float *) mem_param_18162.mem)[ctx_param_ext_18159 +
                                                    i_15133 *
                                                    ctx_param_ext_18160];
                
                float zt_res_15140 = sin_res_15130 * zt_arg_15139;
                float zt_res_15141 = cos_res_15131 * zt_arg_15138;
                float zm_res_15142 = zt_res_15141 - zt_res_15140;
                float zt_res_15143 = sin_res_15130 * zt_arg_15138;
                float zt_res_15144 = cos_res_15131 * zt_arg_15139;
                float zp_res_15145 = zt_res_15143 + zt_res_15144;
                float zp_res_15146 = defunc_0_f_res_15128 + zm_res_15142;
                float zp_res_15147 = defunc_0_f_res_15129 + zp_res_15145;
                float zm_res_15148 = defunc_0_f_res_15128 - zm_res_15142;
                float zm_res_15149 = defunc_0_f_res_15129 - zp_res_15145;
                int32_t x_15150 = sdiv32(defunc_0_f_res_15106, ns_15103);
                int32_t x_15151 = mul32(ns_15103, x_15150);
                int32_t x_15152 = mul32(2, x_15151);
                int32_t idxD_15153 = add32(i32_arg_15119, x_15152);
                int64_t i32_res_15154 = sext_i32_i64(idxD_15153);
                int32_t i32_arg_15155 = add32(ns_15103, idxD_15153);
                int64_t i32_res_15156 = sext_i32_i64(i32_arg_15155);
                
                if (sle64((int64_t) 0, i32_res_15154) && slt64(i32_res_15154,
                                                               n_11475)) {
                    ((float *) mem_param_18167.mem)[ctx_param_ext_18164 +
                                                    i32_res_15154 *
                                                    ctx_param_ext_18165] =
                        zp_res_15146;
                }
                if (sle64((int64_t) 0, i32_res_15156) && slt64(i32_res_15156,
                                                               n_11475)) {
                    ((float *) mem_param_18167.mem)[ctx_param_ext_18164 +
                                                    i32_res_15156 *
                                                    ctx_param_ext_18165] =
                        zm_res_15148;
                }
                if (sle64((int64_t) 0, i32_res_15154) && slt64(i32_res_15154,
                                                               n_11475)) {
                    ((float *) mem_param_18172.mem)[ctx_param_ext_18169 +
                                                    i32_res_15154 *
                                                    ctx_param_ext_18170] =
                        zp_res_15147;
                }
                if (sle64((int64_t) 0, i32_res_15156) && slt64(i32_res_15156,
                                                               n_11475)) {
                    ((float *) mem_param_18172.mem)[ctx_param_ext_18169 +
                                                    i32_res_15156 *
                                                    ctx_param_ext_18170] =
                        zm_res_15149;
                }
            }
            
            int64_t ctx_param_ext_tmp_18985 = ctx_param_ext_18163;
            int64_t ctx_param_ext_tmp_18986 = ctx_param_ext_18164;
            int64_t ctx_param_ext_tmp_18987 = ctx_param_ext_18165;
            int64_t ctx_param_ext_tmp_18988 = ctx_param_ext_18166;
            int64_t ctx_param_ext_tmp_18989 = ctx_param_ext_18168;
            int64_t ctx_param_ext_tmp_18990 = ctx_param_ext_18169;
            int64_t ctx_param_ext_tmp_18991 = ctx_param_ext_18170;
            int64_t ctx_param_ext_tmp_18992 = ctx_param_ext_18171;
            int64_t ctx_param_ext_tmp_18993 = ctx_param_ext_18153;
            int64_t ctx_param_ext_tmp_18994 = ctx_param_ext_18154;
            int64_t ctx_param_ext_tmp_18995 = ctx_param_ext_18155;
            int64_t ctx_param_ext_tmp_18996 = ctx_param_ext_18156;
            int64_t ctx_param_ext_tmp_18997 = ctx_param_ext_18158;
            int64_t ctx_param_ext_tmp_18998 = ctx_param_ext_18159;
            int64_t ctx_param_ext_tmp_18999 = ctx_param_ext_18160;
            int64_t ctx_param_ext_tmp_19000 = ctx_param_ext_18161;
            
            if (memblock_set(ctx, &mem_param_tmp_19001, &mem_param_18167,
                             "mem_param_18167") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19002, &mem_param_18172,
                             "mem_param_18172") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19003, &mem_param_18157,
                             "mem_param_18157") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19004, &mem_param_18162,
                             "mem_param_18162") != 0)
                return 1;
            ctx_param_ext_18153 = ctx_param_ext_tmp_18985;
            ctx_param_ext_18154 = ctx_param_ext_tmp_18986;
            ctx_param_ext_18155 = ctx_param_ext_tmp_18987;
            ctx_param_ext_18156 = ctx_param_ext_tmp_18988;
            ctx_param_ext_18158 = ctx_param_ext_tmp_18989;
            ctx_param_ext_18159 = ctx_param_ext_tmp_18990;
            ctx_param_ext_18160 = ctx_param_ext_tmp_18991;
            ctx_param_ext_18161 = ctx_param_ext_tmp_18992;
            ctx_param_ext_18163 = ctx_param_ext_tmp_18993;
            ctx_param_ext_18164 = ctx_param_ext_tmp_18994;
            ctx_param_ext_18165 = ctx_param_ext_tmp_18995;
            ctx_param_ext_18166 = ctx_param_ext_tmp_18996;
            ctx_param_ext_18168 = ctx_param_ext_tmp_18997;
            ctx_param_ext_18169 = ctx_param_ext_tmp_18998;
            ctx_param_ext_18170 = ctx_param_ext_tmp_18999;
            ctx_param_ext_18171 = ctx_param_ext_tmp_19000;
            if (memblock_set(ctx, &mem_param_18157, &mem_param_tmp_19001,
                             "mem_param_tmp_19001") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18162, &mem_param_tmp_19002,
                             "mem_param_tmp_19002") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18167, &mem_param_tmp_19003,
                             "mem_param_tmp_19003") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18172, &mem_param_tmp_19004,
                             "mem_param_tmp_19004") != 0)
                return 1;
        }
        ext_18220 = ctx_param_ext_18153;
        ext_18219 = ctx_param_ext_18154;
        ext_18218 = ctx_param_ext_18155;
        ext_18217 = ctx_param_ext_18156;
        ext_18216 = ctx_param_ext_18158;
        ext_18215 = ctx_param_ext_18159;
        ext_18214 = ctx_param_ext_18160;
        ext_18213 = ctx_param_ext_18161;
        ext_18212 = ctx_param_ext_18163;
        ext_18211 = ctx_param_ext_18164;
        ext_18210 = ctx_param_ext_18165;
        ext_18209 = ctx_param_ext_18166;
        ext_18208 = ctx_param_ext_18168;
        ext_18207 = ctx_param_ext_18169;
        ext_18206 = ctx_param_ext_18170;
        ext_18205 = ctx_param_ext_18171;
        if (memblock_set(ctx, &ext_mem_18204, &mem_param_18157,
                         "mem_param_18157") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18203, &mem_param_18162,
                         "mem_param_18162") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18202, &mem_param_18167,
                         "mem_param_18167") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18201, &mem_param_18172,
                         "mem_param_18172") != 0)
            return 1;
        for (int64_t i_19011 = 0; i_19011 < n_11475; i_19011++) {
            float tmp_19012;
            
            tmp_19012 = ((float *) mem_17579)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19011 * m_11476];
            ((float *) mem_18223.mem)[i_19011] = tmp_19012;
        }
        for (int64_t i_19013 = 0; i_19013 < n_11475; i_19013++) {
            float tmp_19014;
            
            tmp_19014 = ((float *) mem_17583)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19013 * m_11476];
            ((float *) mem_18226.mem)[i_19013] = tmp_19014;
        }
        
        int64_t ext_18294;
        int64_t ext_18293;
        int64_t ext_18292;
        int64_t ext_18291;
        int64_t ext_18290;
        int64_t ext_18289;
        int64_t ext_18288;
        int64_t ext_18287;
        int64_t ext_18286;
        int64_t ext_18285;
        int64_t ext_18284;
        int64_t ext_18283;
        int64_t ext_18282;
        int64_t ext_18281;
        int64_t ext_18280;
        int64_t ext_18279;
        int64_t ctx_param_ext_18227;
        int64_t ctx_param_ext_18228;
        int64_t ctx_param_ext_18229;
        int64_t ctx_param_ext_18230;
        int64_t ctx_param_ext_18232;
        int64_t ctx_param_ext_18233;
        int64_t ctx_param_ext_18234;
        int64_t ctx_param_ext_18235;
        int64_t ctx_param_ext_18237;
        int64_t ctx_param_ext_18238;
        int64_t ctx_param_ext_18239;
        int64_t ctx_param_ext_18240;
        int64_t ctx_param_ext_18242;
        int64_t ctx_param_ext_18243;
        int64_t ctx_param_ext_18244;
        int64_t ctx_param_ext_18245;
        
        ctx_param_ext_18227 = n_11475;
        ctx_param_ext_18228 = (int64_t) 0;
        ctx_param_ext_18229 = (int64_t) 1;
        ctx_param_ext_18230 = n_11475;
        ctx_param_ext_18232 = n_11475;
        ctx_param_ext_18233 = (int64_t) 0;
        ctx_param_ext_18234 = (int64_t) 1;
        ctx_param_ext_18235 = n_11475;
        ctx_param_ext_18237 = n_11475;
        ctx_param_ext_18238 = (int64_t) 0;
        ctx_param_ext_18239 = (int64_t) 1;
        ctx_param_ext_18240 = n_11475;
        ctx_param_ext_18242 = n_11475;
        ctx_param_ext_18243 = (int64_t) 0;
        ctx_param_ext_18244 = (int64_t) 1;
        ctx_param_ext_18245 = n_11475;
        if (memblock_set(ctx, &mem_param_18231, &mem_18137, "mem_18137") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18236, &mem_18140, "mem_18140") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18241, &mem_18223, "mem_18223") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18246, &mem_18226, "mem_18226") != 0)
            return 1;
        
        int32_t ns_15639;
        
        for (int64_t i_15634 = 0; i_15634 < i32_res_15606; i_15634++) {
            ns_15639 = ((int32_t *) mem_18032)[i_15634];
            
            bool zzero_15645 = ns_15639 == 0;
            bool nonzzero_15646 = !zzero_15645;
            bool nonzzero_cert_15647;
            
            if (!nonzzero_15646) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15643 = mul32(2, ns_15639);
            float i32_res_15644 = sitofp_i32_f32(i32_arg_15643);
            
            for (int64_t write_iter_16489 = 0; write_iter_16489 <
                 iota_arg_14817; write_iter_16489++) {
                int32_t defunc_0_f_res_15642 = sext_i64_i32(write_iter_16489);
                int32_t i32_arg_15655 = smod32(defunc_0_f_res_15642, ns_15639);
                float i32_res_15656 = sitofp_i32_f32(i32_arg_15655);
                float zt_res_15657 = 6.2831855F * i32_res_15656;
                float zs_res_15658 = zt_res_15657 / i32_res_15644;
                int64_t j_15659 = sext_i32_i64(defunc_0_f_res_15642);
                bool x_15660 = sle64((int64_t) 0, j_15659);
                bool y_15661 = slt64(j_15659, n_11475);
                bool bounds_check_15662 = x_15660 && y_15661;
                bool index_certs_15663;
                
                if (!bounds_check_15662) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15659,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15664;
                
                defunc_0_f_res_15664 =
                    ((float *) mem_param_18231.mem)[ctx_param_ext_18228 +
                                                    j_15659 *
                                                    ctx_param_ext_18229];
                
                float defunc_0_f_res_15665;
                
                defunc_0_f_res_15665 =
                    ((float *) mem_param_18236.mem)[ctx_param_ext_18233 +
                                                    j_15659 *
                                                    ctx_param_ext_18234];
                
                float sin_res_15666;
                
                sin_res_15666 = futrts_sin32(zs_res_15658);
                
                float cos_res_15667;
                
                cos_res_15667 = futrts_cos32(zs_res_15658);
                
                int32_t i_15668 = add32(y_14836, defunc_0_f_res_15642);
                int64_t i_15669 = sext_i32_i64(i_15668);
                bool x_15670 = sle64((int64_t) 0, i_15669);
                bool y_15671 = slt64(i_15669, n_11475);
                bool bounds_check_15672 = x_15670 && y_15671;
                bool index_certs_15673;
                
                if (!bounds_check_15672) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15669,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15674;
                
                zt_arg_15674 =
                    ((float *) mem_param_18231.mem)[ctx_param_ext_18228 +
                                                    i_15669 *
                                                    ctx_param_ext_18229];
                
                float zt_arg_15675;
                
                zt_arg_15675 =
                    ((float *) mem_param_18236.mem)[ctx_param_ext_18233 +
                                                    i_15669 *
                                                    ctx_param_ext_18234];
                
                float zt_res_15676 = sin_res_15666 * zt_arg_15675;
                float zt_res_15677 = cos_res_15667 * zt_arg_15674;
                float zm_res_15678 = zt_res_15677 - zt_res_15676;
                float zt_res_15679 = sin_res_15666 * zt_arg_15674;
                float zt_res_15680 = cos_res_15667 * zt_arg_15675;
                float zp_res_15681 = zt_res_15679 + zt_res_15680;
                float zp_res_15682 = defunc_0_f_res_15664 + zm_res_15678;
                float zp_res_15683 = defunc_0_f_res_15665 + zp_res_15681;
                float zm_res_15684 = defunc_0_f_res_15664 - zm_res_15678;
                float zm_res_15685 = defunc_0_f_res_15665 - zp_res_15681;
                int32_t x_15686 = sdiv32(defunc_0_f_res_15642, ns_15639);
                int32_t x_15687 = mul32(ns_15639, x_15686);
                int32_t x_15688 = mul32(2, x_15687);
                int32_t idxD_15689 = add32(i32_arg_15655, x_15688);
                int64_t i32_res_15690 = sext_i32_i64(idxD_15689);
                int32_t i32_arg_15691 = add32(ns_15639, idxD_15689);
                int64_t i32_res_15692 = sext_i32_i64(i32_arg_15691);
                
                if (sle64((int64_t) 0, i32_res_15690) && slt64(i32_res_15690,
                                                               n_11475)) {
                    ((float *) mem_param_18241.mem)[ctx_param_ext_18238 +
                                                    i32_res_15690 *
                                                    ctx_param_ext_18239] =
                        zp_res_15682;
                }
                if (sle64((int64_t) 0, i32_res_15692) && slt64(i32_res_15692,
                                                               n_11475)) {
                    ((float *) mem_param_18241.mem)[ctx_param_ext_18238 +
                                                    i32_res_15692 *
                                                    ctx_param_ext_18239] =
                        zm_res_15684;
                }
                if (sle64((int64_t) 0, i32_res_15690) && slt64(i32_res_15690,
                                                               n_11475)) {
                    ((float *) mem_param_18246.mem)[ctx_param_ext_18243 +
                                                    i32_res_15690 *
                                                    ctx_param_ext_18244] =
                        zp_res_15683;
                }
                if (sle64((int64_t) 0, i32_res_15692) && slt64(i32_res_15692,
                                                               n_11475)) {
                    ((float *) mem_param_18246.mem)[ctx_param_ext_18243 +
                                                    i32_res_15692 *
                                                    ctx_param_ext_18244] =
                        zm_res_15685;
                }
            }
            
            int64_t ctx_param_ext_tmp_19015 = ctx_param_ext_18237;
            int64_t ctx_param_ext_tmp_19016 = ctx_param_ext_18238;
            int64_t ctx_param_ext_tmp_19017 = ctx_param_ext_18239;
            int64_t ctx_param_ext_tmp_19018 = ctx_param_ext_18240;
            int64_t ctx_param_ext_tmp_19019 = ctx_param_ext_18242;
            int64_t ctx_param_ext_tmp_19020 = ctx_param_ext_18243;
            int64_t ctx_param_ext_tmp_19021 = ctx_param_ext_18244;
            int64_t ctx_param_ext_tmp_19022 = ctx_param_ext_18245;
            int64_t ctx_param_ext_tmp_19023 = ctx_param_ext_18227;
            int64_t ctx_param_ext_tmp_19024 = ctx_param_ext_18228;
            int64_t ctx_param_ext_tmp_19025 = ctx_param_ext_18229;
            int64_t ctx_param_ext_tmp_19026 = ctx_param_ext_18230;
            int64_t ctx_param_ext_tmp_19027 = ctx_param_ext_18232;
            int64_t ctx_param_ext_tmp_19028 = ctx_param_ext_18233;
            int64_t ctx_param_ext_tmp_19029 = ctx_param_ext_18234;
            int64_t ctx_param_ext_tmp_19030 = ctx_param_ext_18235;
            
            if (memblock_set(ctx, &mem_param_tmp_19031, &mem_param_18241,
                             "mem_param_18241") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19032, &mem_param_18246,
                             "mem_param_18246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19033, &mem_param_18231,
                             "mem_param_18231") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19034, &mem_param_18236,
                             "mem_param_18236") != 0)
                return 1;
            ctx_param_ext_18227 = ctx_param_ext_tmp_19015;
            ctx_param_ext_18228 = ctx_param_ext_tmp_19016;
            ctx_param_ext_18229 = ctx_param_ext_tmp_19017;
            ctx_param_ext_18230 = ctx_param_ext_tmp_19018;
            ctx_param_ext_18232 = ctx_param_ext_tmp_19019;
            ctx_param_ext_18233 = ctx_param_ext_tmp_19020;
            ctx_param_ext_18234 = ctx_param_ext_tmp_19021;
            ctx_param_ext_18235 = ctx_param_ext_tmp_19022;
            ctx_param_ext_18237 = ctx_param_ext_tmp_19023;
            ctx_param_ext_18238 = ctx_param_ext_tmp_19024;
            ctx_param_ext_18239 = ctx_param_ext_tmp_19025;
            ctx_param_ext_18240 = ctx_param_ext_tmp_19026;
            ctx_param_ext_18242 = ctx_param_ext_tmp_19027;
            ctx_param_ext_18243 = ctx_param_ext_tmp_19028;
            ctx_param_ext_18244 = ctx_param_ext_tmp_19029;
            ctx_param_ext_18245 = ctx_param_ext_tmp_19030;
            if (memblock_set(ctx, &mem_param_18231, &mem_param_tmp_19031,
                             "mem_param_tmp_19031") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18236, &mem_param_tmp_19032,
                             "mem_param_tmp_19032") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18241, &mem_param_tmp_19033,
                             "mem_param_tmp_19033") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18246, &mem_param_tmp_19034,
                             "mem_param_tmp_19034") != 0)
                return 1;
        }
        ext_18294 = ctx_param_ext_18227;
        ext_18293 = ctx_param_ext_18228;
        ext_18292 = ctx_param_ext_18229;
        ext_18291 = ctx_param_ext_18230;
        ext_18290 = ctx_param_ext_18232;
        ext_18289 = ctx_param_ext_18233;
        ext_18288 = ctx_param_ext_18234;
        ext_18287 = ctx_param_ext_18235;
        ext_18286 = ctx_param_ext_18237;
        ext_18285 = ctx_param_ext_18238;
        ext_18284 = ctx_param_ext_18239;
        ext_18283 = ctx_param_ext_18240;
        ext_18282 = ctx_param_ext_18242;
        ext_18281 = ctx_param_ext_18243;
        ext_18280 = ctx_param_ext_18244;
        ext_18279 = ctx_param_ext_18245;
        if (memblock_set(ctx, &ext_mem_18278, &mem_param_18231,
                         "mem_param_18231") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18277, &mem_param_18236,
                         "mem_param_18236") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18276, &mem_param_18241,
                         "mem_param_18241") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18275, &mem_param_18246,
                         "mem_param_18246") != 0)
            return 1;
        for (int64_t i_19041 = 0; i_19041 < n_11475; i_19041++) {
            float tmp_19042;
            
            tmp_19042 = ((float *) mem_17587)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19041 * m_11476];
            ((float *) mem_18297.mem)[i_19041] = tmp_19042;
        }
        for (int64_t i_19043 = 0; i_19043 < n_11475; i_19043++) {
            float tmp_19044;
            
            tmp_19044 = ((float *) mem_17591)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19043 * m_11476];
            ((float *) mem_18300.mem)[i_19043] = tmp_19044;
        }
        
        int64_t ext_18368;
        int64_t ext_18367;
        int64_t ext_18366;
        int64_t ext_18365;
        int64_t ext_18364;
        int64_t ext_18363;
        int64_t ext_18362;
        int64_t ext_18361;
        int64_t ext_18360;
        int64_t ext_18359;
        int64_t ext_18358;
        int64_t ext_18357;
        int64_t ext_18356;
        int64_t ext_18355;
        int64_t ext_18354;
        int64_t ext_18353;
        int64_t ctx_param_ext_18301;
        int64_t ctx_param_ext_18302;
        int64_t ctx_param_ext_18303;
        int64_t ctx_param_ext_18304;
        int64_t ctx_param_ext_18306;
        int64_t ctx_param_ext_18307;
        int64_t ctx_param_ext_18308;
        int64_t ctx_param_ext_18309;
        int64_t ctx_param_ext_18311;
        int64_t ctx_param_ext_18312;
        int64_t ctx_param_ext_18313;
        int64_t ctx_param_ext_18314;
        int64_t ctx_param_ext_18316;
        int64_t ctx_param_ext_18317;
        int64_t ctx_param_ext_18318;
        int64_t ctx_param_ext_18319;
        
        ctx_param_ext_18301 = n_11475;
        ctx_param_ext_18302 = (int64_t) 0;
        ctx_param_ext_18303 = (int64_t) 1;
        ctx_param_ext_18304 = n_11475;
        ctx_param_ext_18306 = n_11475;
        ctx_param_ext_18307 = (int64_t) 0;
        ctx_param_ext_18308 = (int64_t) 1;
        ctx_param_ext_18309 = n_11475;
        ctx_param_ext_18311 = n_11475;
        ctx_param_ext_18312 = (int64_t) 0;
        ctx_param_ext_18313 = (int64_t) 1;
        ctx_param_ext_18314 = n_11475;
        ctx_param_ext_18316 = n_11475;
        ctx_param_ext_18317 = (int64_t) 0;
        ctx_param_ext_18318 = (int64_t) 1;
        ctx_param_ext_18319 = n_11475;
        if (memblock_set(ctx, &mem_param_18305, &mem_18143, "mem_18143") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18310, &mem_18146, "mem_18146") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18315, &mem_18297, "mem_18297") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18320, &mem_18300, "mem_18300") != 0)
            return 1;
        
        int32_t ns_16175;
        
        for (int64_t i_16170 = 0; i_16170 < i32_res_16142; i_16170++) {
            ns_16175 = ((int32_t *) mem_18017)[i_16170];
            
            bool zzero_16181 = ns_16175 == 0;
            bool nonzzero_16182 = !zzero_16181;
            bool nonzzero_cert_16183;
            
            if (!nonzzero_16182) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_16179 = mul32(2, ns_16175);
            float i32_res_16180 = sitofp_i32_f32(i32_arg_16179);
            
            for (int64_t write_iter_16497 = 0; write_iter_16497 <
                 iota_arg_14817; write_iter_16497++) {
                int32_t defunc_0_f_res_16178 = sext_i64_i32(write_iter_16497);
                int32_t i32_arg_16191 = smod32(defunc_0_f_res_16178, ns_16175);
                float i32_res_16192 = sitofp_i32_f32(i32_arg_16191);
                float zt_res_16193 = 6.2831855F * i32_res_16192;
                float zs_res_16194 = zt_res_16193 / i32_res_16180;
                int64_t j_16195 = sext_i32_i64(defunc_0_f_res_16178);
                bool x_16196 = sle64((int64_t) 0, j_16195);
                bool y_16197 = slt64(j_16195, n_11475);
                bool bounds_check_16198 = x_16196 && y_16197;
                bool index_certs_16199;
                
                if (!bounds_check_16198) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_16195,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_16200;
                
                defunc_0_f_res_16200 =
                    ((float *) mem_param_18305.mem)[ctx_param_ext_18302 +
                                                    j_16195 *
                                                    ctx_param_ext_18303];
                
                float defunc_0_f_res_16201;
                
                defunc_0_f_res_16201 =
                    ((float *) mem_param_18310.mem)[ctx_param_ext_18307 +
                                                    j_16195 *
                                                    ctx_param_ext_18308];
                
                float sin_res_16202;
                
                sin_res_16202 = futrts_sin32(zs_res_16194);
                
                float cos_res_16203;
                
                cos_res_16203 = futrts_cos32(zs_res_16194);
                
                int32_t i_16204 = add32(y_14836, defunc_0_f_res_16178);
                int64_t i_16205 = sext_i32_i64(i_16204);
                bool x_16206 = sle64((int64_t) 0, i_16205);
                bool y_16207 = slt64(i_16205, n_11475);
                bool bounds_check_16208 = x_16206 && y_16207;
                bool index_certs_16209;
                
                if (!bounds_check_16208) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_16205,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11475, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:70:25-39\n   #8  sample_programs/fft.fut:69:1-71:71\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_16210;
                
                zt_arg_16210 =
                    ((float *) mem_param_18305.mem)[ctx_param_ext_18302 +
                                                    i_16205 *
                                                    ctx_param_ext_18303];
                
                float zt_arg_16211;
                
                zt_arg_16211 =
                    ((float *) mem_param_18310.mem)[ctx_param_ext_18307 +
                                                    i_16205 *
                                                    ctx_param_ext_18308];
                
                float zt_res_16212 = sin_res_16202 * zt_arg_16211;
                float zt_res_16213 = cos_res_16203 * zt_arg_16210;
                float zm_res_16214 = zt_res_16213 - zt_res_16212;
                float zt_res_16215 = sin_res_16202 * zt_arg_16210;
                float zt_res_16216 = cos_res_16203 * zt_arg_16211;
                float zp_res_16217 = zt_res_16215 + zt_res_16216;
                float zp_res_16218 = defunc_0_f_res_16200 + zm_res_16214;
                float zp_res_16219 = defunc_0_f_res_16201 + zp_res_16217;
                float zm_res_16220 = defunc_0_f_res_16200 - zm_res_16214;
                float zm_res_16221 = defunc_0_f_res_16201 - zp_res_16217;
                int32_t x_16222 = sdiv32(defunc_0_f_res_16178, ns_16175);
                int32_t x_16223 = mul32(ns_16175, x_16222);
                int32_t x_16224 = mul32(2, x_16223);
                int32_t idxD_16225 = add32(i32_arg_16191, x_16224);
                int64_t i32_res_16226 = sext_i32_i64(idxD_16225);
                int32_t i32_arg_16227 = add32(ns_16175, idxD_16225);
                int64_t i32_res_16228 = sext_i32_i64(i32_arg_16227);
                
                if (sle64((int64_t) 0, i32_res_16226) && slt64(i32_res_16226,
                                                               n_11475)) {
                    ((float *) mem_param_18315.mem)[ctx_param_ext_18312 +
                                                    i32_res_16226 *
                                                    ctx_param_ext_18313] =
                        zp_res_16218;
                }
                if (sle64((int64_t) 0, i32_res_16228) && slt64(i32_res_16228,
                                                               n_11475)) {
                    ((float *) mem_param_18315.mem)[ctx_param_ext_18312 +
                                                    i32_res_16228 *
                                                    ctx_param_ext_18313] =
                        zm_res_16220;
                }
                if (sle64((int64_t) 0, i32_res_16226) && slt64(i32_res_16226,
                                                               n_11475)) {
                    ((float *) mem_param_18320.mem)[ctx_param_ext_18317 +
                                                    i32_res_16226 *
                                                    ctx_param_ext_18318] =
                        zp_res_16219;
                }
                if (sle64((int64_t) 0, i32_res_16228) && slt64(i32_res_16228,
                                                               n_11475)) {
                    ((float *) mem_param_18320.mem)[ctx_param_ext_18317 +
                                                    i32_res_16228 *
                                                    ctx_param_ext_18318] =
                        zm_res_16221;
                }
            }
            
            int64_t ctx_param_ext_tmp_19045 = ctx_param_ext_18311;
            int64_t ctx_param_ext_tmp_19046 = ctx_param_ext_18312;
            int64_t ctx_param_ext_tmp_19047 = ctx_param_ext_18313;
            int64_t ctx_param_ext_tmp_19048 = ctx_param_ext_18314;
            int64_t ctx_param_ext_tmp_19049 = ctx_param_ext_18316;
            int64_t ctx_param_ext_tmp_19050 = ctx_param_ext_18317;
            int64_t ctx_param_ext_tmp_19051 = ctx_param_ext_18318;
            int64_t ctx_param_ext_tmp_19052 = ctx_param_ext_18319;
            int64_t ctx_param_ext_tmp_19053 = ctx_param_ext_18301;
            int64_t ctx_param_ext_tmp_19054 = ctx_param_ext_18302;
            int64_t ctx_param_ext_tmp_19055 = ctx_param_ext_18303;
            int64_t ctx_param_ext_tmp_19056 = ctx_param_ext_18304;
            int64_t ctx_param_ext_tmp_19057 = ctx_param_ext_18306;
            int64_t ctx_param_ext_tmp_19058 = ctx_param_ext_18307;
            int64_t ctx_param_ext_tmp_19059 = ctx_param_ext_18308;
            int64_t ctx_param_ext_tmp_19060 = ctx_param_ext_18309;
            
            if (memblock_set(ctx, &mem_param_tmp_19061, &mem_param_18315,
                             "mem_param_18315") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19062, &mem_param_18320,
                             "mem_param_18320") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19063, &mem_param_18305,
                             "mem_param_18305") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19064, &mem_param_18310,
                             "mem_param_18310") != 0)
                return 1;
            ctx_param_ext_18301 = ctx_param_ext_tmp_19045;
            ctx_param_ext_18302 = ctx_param_ext_tmp_19046;
            ctx_param_ext_18303 = ctx_param_ext_tmp_19047;
            ctx_param_ext_18304 = ctx_param_ext_tmp_19048;
            ctx_param_ext_18306 = ctx_param_ext_tmp_19049;
            ctx_param_ext_18307 = ctx_param_ext_tmp_19050;
            ctx_param_ext_18308 = ctx_param_ext_tmp_19051;
            ctx_param_ext_18309 = ctx_param_ext_tmp_19052;
            ctx_param_ext_18311 = ctx_param_ext_tmp_19053;
            ctx_param_ext_18312 = ctx_param_ext_tmp_19054;
            ctx_param_ext_18313 = ctx_param_ext_tmp_19055;
            ctx_param_ext_18314 = ctx_param_ext_tmp_19056;
            ctx_param_ext_18316 = ctx_param_ext_tmp_19057;
            ctx_param_ext_18317 = ctx_param_ext_tmp_19058;
            ctx_param_ext_18318 = ctx_param_ext_tmp_19059;
            ctx_param_ext_18319 = ctx_param_ext_tmp_19060;
            if (memblock_set(ctx, &mem_param_18305, &mem_param_tmp_19061,
                             "mem_param_tmp_19061") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18310, &mem_param_tmp_19062,
                             "mem_param_tmp_19062") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18315, &mem_param_tmp_19063,
                             "mem_param_tmp_19063") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18320, &mem_param_tmp_19064,
                             "mem_param_tmp_19064") != 0)
                return 1;
        }
        ext_18368 = ctx_param_ext_18301;
        ext_18367 = ctx_param_ext_18302;
        ext_18366 = ctx_param_ext_18303;
        ext_18365 = ctx_param_ext_18304;
        ext_18364 = ctx_param_ext_18306;
        ext_18363 = ctx_param_ext_18307;
        ext_18362 = ctx_param_ext_18308;
        ext_18361 = ctx_param_ext_18309;
        ext_18360 = ctx_param_ext_18311;
        ext_18359 = ctx_param_ext_18312;
        ext_18358 = ctx_param_ext_18313;
        ext_18357 = ctx_param_ext_18314;
        ext_18356 = ctx_param_ext_18316;
        ext_18355 = ctx_param_ext_18317;
        ext_18354 = ctx_param_ext_18318;
        ext_18353 = ctx_param_ext_18319;
        if (memblock_set(ctx, &ext_mem_18352, &mem_param_18305,
                         "mem_param_18305") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18351, &mem_param_18310,
                         "mem_param_18310") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18350, &mem_param_18315,
                         "mem_param_18315") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18349, &mem_param_18320,
                         "mem_param_18320") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_18048 + i_16517 * n_11475 * (int64_t) 4,
                    ext_mem_18204.mem + ext_18219 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18204, "ext_mem_18204") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_18052 + i_16517 * n_11475 * (int64_t) 4,
                    ext_mem_18203.mem + ext_18215 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18203, "ext_mem_18203") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_18056 + i_16517 * n_11475 * (int64_t) 4,
                    ext_mem_18278.mem + ext_18293 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18278, "ext_mem_18278") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_18060 + i_16517 * n_11475 * (int64_t) 4,
                    ext_mem_18277.mem + ext_18289 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18277, "ext_mem_18277") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_18064 + i_16517 * n_11475 * (int64_t) 4,
                    ext_mem_18352.mem + ext_18367 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18352, "ext_mem_18352") != 0)
            return 1;
        if (n_11475 * (int64_t) 4 > 0)
            memmove(mem_18068 + i_16517 * n_11475 * (int64_t) 4,
                    ext_mem_18351.mem + ext_18363 * (int64_t) 4, n_11475 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18351, "ext_mem_18351") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_18131, "mem_18131") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18134, "mem_18134") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18137, "mem_18137") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18140, "mem_18140") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18143, "mem_18143") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18146, "mem_18146") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18149, "mem_18149") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18152, "mem_18152") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18223, "mem_18223") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18226, "mem_18226") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18297, "mem_18297") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18300, "mem_18300") != 0)
        return 1;
    
    float zt_res_15167 = i64_res_14952 * i64_res_14952;
    int64_t binop_y_18418 = (int64_t) 3 * binop_x_16704;
    int64_t bytes_18419 = smax64((int64_t) 0, binop_y_18418);
    
    if (mem_18420_cached_sizze_19120 < bytes_18419) {
        err = lexical_realloc(&ctx->error, &mem_18420,
                              &mem_18420_cached_sizze_19120, bytes_18419);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t ctx_val_18434 = (int64_t) 3 * m_11476;
    
    if (mem_18453_cached_sizze_19121 < (int64_t) 3) {
        err = lexical_realloc(&ctx->error, &mem_18453,
                              &mem_18453_cached_sizze_19121, (int64_t) 3);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_16536 = 0; i_16536 < n_11475; i_16536++) {
        for (int64_t i_16532 = 0; i_16532 < m_11476; i_16532++) {
            float x_15174;
            
            x_15174 = ((float *) mem_18048)[i_16532 * n_11475 + i_16536];
            
            float x_15175;
            
            x_15175 = ((float *) mem_18052)[i_16532 * n_11475 + i_16536];
            
            float x_15710;
            
            x_15710 = ((float *) mem_18056)[i_16532 * n_11475 + i_16536];
            
            float x_15711;
            
            x_15711 = ((float *) mem_18060)[i_16532 * n_11475 + i_16536];
            
            float x_16246;
            
            x_16246 = ((float *) mem_18064)[i_16532 * n_11475 + i_16536];
            
            float x_16247;
            
            x_16247 = ((float *) mem_18068)[i_16532 * n_11475 + i_16536];
            
            float zt_res_15176 = i64_res_14952 * x_15174;
            float zs_res_15177 = zt_res_15176 / zt_res_15167;
            float zt_res_15178 = i64_res_14952 * x_15175;
            float zs_res_15179 = zt_res_15178 / zt_res_15167;
            float zt_res_15186 = zs_res_15179 * zs_res_15179;
            float zt_res_15187 = zs_res_15177 * zs_res_15177;
            float zp_res_15188 = zt_res_15186 + zt_res_15187;
            float sqrt_res_15189;
            
            sqrt_res_15189 = futrts_sqrt32(zp_res_15188);
            
            float zt_res_15712 = i64_res_14952 * x_15710;
            float zs_res_15713 = zt_res_15712 / zt_res_15167;
            float zt_res_15714 = i64_res_14952 * x_15711;
            float zs_res_15715 = zt_res_15714 / zt_res_15167;
            float zt_res_15722 = zs_res_15715 * zs_res_15715;
            float zt_res_15723 = zs_res_15713 * zs_res_15713;
            float zp_res_15724 = zt_res_15722 + zt_res_15723;
            float sqrt_res_15725;
            
            sqrt_res_15725 = futrts_sqrt32(zp_res_15724);
            
            float zt_res_16248 = i64_res_14952 * x_16246;
            float zs_res_16249 = zt_res_16248 / zt_res_15167;
            float zt_res_16250 = i64_res_14952 * x_16247;
            float zs_res_16251 = zt_res_16250 / zt_res_15167;
            float zt_res_16258 = zs_res_16251 * zs_res_16251;
            float zt_res_16259 = zs_res_16249 * zs_res_16249;
            float zp_res_16260 = zt_res_16258 + zt_res_16259;
            float sqrt_res_16261;
            
            sqrt_res_16261 = futrts_sqrt32(zp_res_16260);
            
            int8_t unsign_arg_12230 = fptoui_f32_i8(sqrt_res_15189);
            int8_t unsign_arg_12232 = fptoui_f32_i8(sqrt_res_15725);
            int8_t unsign_arg_12234 = fptoui_f32_i8(sqrt_res_16261);
            
            ((int8_t *) mem_18453)[(int64_t) 0] = unsign_arg_12230;
            ((int8_t *) mem_18453)[(int64_t) 1] = unsign_arg_12232;
            ((int8_t *) mem_18453)[(int64_t) 2] = unsign_arg_12234;
            if ((int64_t) 3 > 0)
                memmove(mem_18420 + (i_16536 * ctx_val_18434 + i_16532 *
                                     (int64_t) 3), mem_18453 + (int64_t) 0,
                        (int64_t) 3);
        }
    }
    if (memblock_alloc(ctx, &mem_18485, bytes_18419, "mem_18485")) {
        err = 1;
        goto cleanup;
    }
    if (n_11475 * m_11476 * (int64_t) 3 > 0)
        memmove(mem_18485.mem + (int64_t) 0, mem_18420 + (int64_t) 0, n_11475 *
                m_11476 * (int64_t) 3);
    if (memblock_set(ctx, &mem_out_18625, &mem_18485, "mem_18485") != 0)
        return 1;
    (*mem_out_p_19079).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_19079, &mem_out_18625, "mem_out_18625") !=
        0)
        return 1;
    
  cleanup:
    {
        free(mem_16637);
        free(mem_16652);
        free(mem_16667);
        free(mem_16682);
        free(mem_16697);
        free(mem_16700);
        free(mem_16703);
        free(mem_16707);
        free(mem_16711);
        free(mem_16715);
        free(mem_16719);
        free(mem_16723);
        free(mem_16727);
        free(mem_17108);
        free(mem_17123);
        free(mem_17138);
        free(mem_17154);
        free(mem_17158);
        free(mem_17162);
        free(mem_17166);
        free(mem_17170);
        free(mem_17174);
        free(mem_17525);
        free(mem_17540);
        free(mem_17555);
        free(mem_17571);
        free(mem_17575);
        free(mem_17579);
        free(mem_17583);
        free(mem_17587);
        free(mem_17591);
        free(mem_18002);
        free(mem_18017);
        free(mem_18032);
        free(mem_18048);
        free(mem_18052);
        free(mem_18056);
        free(mem_18060);
        free(mem_18064);
        free(mem_18068);
        free(mem_18420);
        free(mem_18453);
        if (memblock_unref(ctx, &mem_18485, "mem_18485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19064, "mem_param_tmp_19064") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19063, "mem_param_tmp_19063") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19062, "mem_param_tmp_19062") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19061, "mem_param_tmp_19061") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18320, "mem_param_18320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18315, "mem_param_18315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18310, "mem_param_18310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18305, "mem_param_18305") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18349, "ext_mem_18349") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18350, "ext_mem_18350") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18351, "ext_mem_18351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18352, "ext_mem_18352") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19034, "mem_param_tmp_19034") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19033, "mem_param_tmp_19033") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19032, "mem_param_tmp_19032") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19031, "mem_param_tmp_19031") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18246, "mem_param_18246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18241, "mem_param_18241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18236, "mem_param_18236") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18231, "mem_param_18231") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18275, "ext_mem_18275") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18276, "ext_mem_18276") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18277, "ext_mem_18277") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18278, "ext_mem_18278") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19004, "mem_param_tmp_19004") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19003, "mem_param_tmp_19003") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19002, "mem_param_tmp_19002") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19001, "mem_param_tmp_19001") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18172, "mem_param_18172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18167, "mem_param_18167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18162, "mem_param_18162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18157, "mem_param_18157") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18201, "ext_mem_18201") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18202, "ext_mem_18202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18203, "ext_mem_18203") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18204, "ext_mem_18204") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18300, "mem_18300") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18297, "mem_18297") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18226, "mem_18226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18223, "mem_18223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18152, "mem_18152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18149, "mem_18149") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18146, "mem_18146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18143, "mem_18143") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18140, "mem_18140") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18137, "mem_18137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18134, "mem_18134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18131, "mem_18131") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18944, "mem_param_tmp_18944") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18943, "mem_param_tmp_18943") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18942, "mem_param_tmp_18942") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18941, "mem_param_tmp_18941") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17907, "mem_param_17907") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17902, "mem_param_17902") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17897, "mem_param_17897") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17892, "mem_param_17892") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17932, "ext_mem_17932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17933, "ext_mem_17933") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17934, "ext_mem_17934") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17935, "ext_mem_17935") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18918, "mem_param_tmp_18918") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18917, "mem_param_tmp_18917") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18916, "mem_param_tmp_18916") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18915, "mem_param_tmp_18915") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17837, "mem_param_17837") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17832, "mem_param_17832") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17827, "mem_param_17827") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17822, "mem_param_17822") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17862, "ext_mem_17862") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17863, "ext_mem_17863") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17864, "ext_mem_17864") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17865, "ext_mem_17865") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18892, "mem_param_tmp_18892") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18891, "mem_param_tmp_18891") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18890, "mem_param_tmp_18890") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18889, "mem_param_tmp_18889") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17767, "mem_param_17767") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17762, "mem_param_17762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17757, "mem_param_17757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17752, "mem_param_17752") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17792, "ext_mem_17792") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17793, "ext_mem_17793") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17794, "ext_mem_17794") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17795, "ext_mem_17795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17887, "mem_17887") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17884, "mem_17884") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17817, "mem_17817") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17814, "mem_17814") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17747, "mem_17747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17744, "mem_17744") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17669, "mem_17669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17666, "mem_17666") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17663, "mem_17663") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17660, "mem_17660") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17657, "mem_17657") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17654, "mem_17654") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18842, "mem_param_tmp_18842") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18841, "mem_param_tmp_18841") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18840, "mem_param_tmp_18840") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18839, "mem_param_tmp_18839") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17426, "mem_param_17426") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17421, "mem_param_17421") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17416, "mem_param_17416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17411, "mem_param_17411") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17455, "ext_mem_17455") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17456, "ext_mem_17456") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17457, "ext_mem_17457") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17458, "ext_mem_17458") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18812, "mem_param_tmp_18812") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18811, "mem_param_tmp_18811") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18810, "mem_param_tmp_18810") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18809, "mem_param_tmp_18809") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17352, "mem_param_17352") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17347, "mem_param_17347") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17342, "mem_param_17342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17337, "mem_param_17337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17381, "ext_mem_17381") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17382, "ext_mem_17382") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17383, "ext_mem_17383") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17384, "ext_mem_17384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18782, "mem_param_tmp_18782") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18781, "mem_param_tmp_18781") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18780, "mem_param_tmp_18780") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18779, "mem_param_tmp_18779") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17278, "mem_param_17278") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17273, "mem_param_17273") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17268, "mem_param_17268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17263, "mem_param_17263") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17307, "ext_mem_17307") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17308, "ext_mem_17308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17309, "ext_mem_17309") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17310, "ext_mem_17310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17406, "mem_17406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17403, "mem_17403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17332, "mem_17332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17329, "mem_17329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17258, "mem_17258") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17255, "mem_17255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17252, "mem_17252") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17249, "mem_17249") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17246, "mem_17246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17243, "mem_17243") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17240, "mem_17240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17237, "mem_17237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18722, "mem_param_tmp_18722") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18721, "mem_param_tmp_18721") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18720, "mem_param_tmp_18720") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18719, "mem_param_tmp_18719") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17011, "mem_param_17011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17006, "mem_param_17006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17001, "mem_param_17001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16996, "mem_param_16996") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17038, "ext_mem_17038") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17039, "ext_mem_17039") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17040, "ext_mem_17040") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17041, "ext_mem_17041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18696, "mem_param_tmp_18696") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18695, "mem_param_tmp_18695") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18694, "mem_param_tmp_18694") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18693, "mem_param_tmp_18693") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16939, "mem_param_16939") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16934, "mem_param_16934") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16929, "mem_param_16929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16924, "mem_param_16924") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16966, "ext_mem_16966") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16967, "ext_mem_16967") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16968, "ext_mem_16968") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16969, "ext_mem_16969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18670, "mem_param_tmp_18670") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18669, "mem_param_tmp_18669") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18668, "mem_param_tmp_18668") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18667, "mem_param_tmp_18667") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16867, "mem_param_16867") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16862, "mem_param_16862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16857, "mem_param_16857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16852, "mem_param_16852") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16894, "ext_mem_16894") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16895, "ext_mem_16895") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16896, "ext_mem_16896") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16897, "ext_mem_16897") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16991, "mem_16991") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16988, "mem_16988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16919, "mem_16919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16916, "mem_16916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16847, "mem_16847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16844, "mem_16844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16805, "mem_16805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16802, "mem_16802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16799, "mem_16799") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16796, "mem_16796") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16793, "mem_16793") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16790, "mem_16790") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_18625, "mem_out_18625") != 0)
            return 1;
    }
    return err;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_19122,
                             struct memblock *mem_out_p_19123,
                             struct memblock *mem_out_p_19124,
                             struct memblock img_mem_16634, int64_t n_11006,
                             int64_t m_11007, int32_t cutoff_11008)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_16637_cached_sizze_19125 = 0;
    unsigned char *mem_16637 = NULL;
    size_t mem_16652_cached_sizze_19126 = 0;
    unsigned char *mem_16652 = NULL;
    size_t mem_16667_cached_sizze_19127 = 0;
    unsigned char *mem_16667 = NULL;
    size_t mem_16682_cached_sizze_19128 = 0;
    unsigned char *mem_16682 = NULL;
    size_t mem_16697_cached_sizze_19129 = 0;
    unsigned char *mem_16697 = NULL;
    size_t mem_16700_cached_sizze_19130 = 0;
    unsigned char *mem_16700 = NULL;
    size_t mem_16703_cached_sizze_19131 = 0;
    unsigned char *mem_16703 = NULL;
    size_t mem_16707_cached_sizze_19132 = 0;
    unsigned char *mem_16707 = NULL;
    size_t mem_16711_cached_sizze_19133 = 0;
    unsigned char *mem_16711 = NULL;
    size_t mem_16715_cached_sizze_19134 = 0;
    unsigned char *mem_16715 = NULL;
    size_t mem_16719_cached_sizze_19135 = 0;
    unsigned char *mem_16719 = NULL;
    size_t mem_16723_cached_sizze_19136 = 0;
    unsigned char *mem_16723 = NULL;
    size_t mem_16727_cached_sizze_19137 = 0;
    unsigned char *mem_16727 = NULL;
    size_t mem_17108_cached_sizze_19138 = 0;
    unsigned char *mem_17108 = NULL;
    size_t mem_17123_cached_sizze_19139 = 0;
    unsigned char *mem_17123 = NULL;
    size_t mem_17138_cached_sizze_19140 = 0;
    unsigned char *mem_17138 = NULL;
    size_t mem_17154_cached_sizze_19141 = 0;
    unsigned char *mem_17154 = NULL;
    size_t mem_17158_cached_sizze_19142 = 0;
    unsigned char *mem_17158 = NULL;
    size_t mem_17162_cached_sizze_19143 = 0;
    unsigned char *mem_17162 = NULL;
    size_t mem_17166_cached_sizze_19144 = 0;
    unsigned char *mem_17166 = NULL;
    size_t mem_17170_cached_sizze_19145 = 0;
    unsigned char *mem_17170 = NULL;
    size_t mem_17174_cached_sizze_19146 = 0;
    unsigned char *mem_17174 = NULL;
    size_t mem_17525_cached_sizze_19147 = 0;
    unsigned char *mem_17525 = NULL;
    size_t mem_17540_cached_sizze_19148 = 0;
    unsigned char *mem_17540 = NULL;
    size_t mem_17555_cached_sizze_19149 = 0;
    unsigned char *mem_17555 = NULL;
    size_t mem_17571_cached_sizze_19150 = 0;
    unsigned char *mem_17571 = NULL;
    size_t mem_17575_cached_sizze_19151 = 0;
    unsigned char *mem_17575 = NULL;
    size_t mem_17579_cached_sizze_19152 = 0;
    unsigned char *mem_17579 = NULL;
    size_t mem_17583_cached_sizze_19153 = 0;
    unsigned char *mem_17583 = NULL;
    size_t mem_17587_cached_sizze_19154 = 0;
    unsigned char *mem_17587 = NULL;
    size_t mem_17591_cached_sizze_19155 = 0;
    unsigned char *mem_17591 = NULL;
    size_t mem_18002_cached_sizze_19156 = 0;
    unsigned char *mem_18002 = NULL;
    size_t mem_18017_cached_sizze_19157 = 0;
    unsigned char *mem_18017 = NULL;
    size_t mem_18032_cached_sizze_19158 = 0;
    unsigned char *mem_18032 = NULL;
    size_t mem_18048_cached_sizze_19159 = 0;
    unsigned char *mem_18048 = NULL;
    size_t mem_18052_cached_sizze_19160 = 0;
    unsigned char *mem_18052 = NULL;
    size_t mem_18056_cached_sizze_19161 = 0;
    unsigned char *mem_18056 = NULL;
    size_t mem_18060_cached_sizze_19162 = 0;
    unsigned char *mem_18060 = NULL;
    size_t mem_18064_cached_sizze_19163 = 0;
    unsigned char *mem_18064 = NULL;
    size_t mem_18068_cached_sizze_19164 = 0;
    unsigned char *mem_18068 = NULL;
    size_t mem_18420_cached_sizze_19165 = 0;
    unsigned char *mem_18420 = NULL;
    size_t mem_18424_cached_sizze_19166 = 0;
    unsigned char *mem_18424 = NULL;
    size_t mem_18428_cached_sizze_19167 = 0;
    unsigned char *mem_18428 = NULL;
    struct memblock mem_18571;
    
    mem_18571.references = NULL;
    
    struct memblock mem_18566;
    
    mem_18566.references = NULL;
    
    struct memblock mem_18561;
    
    mem_18561.references = NULL;
    
    struct memblock mem_param_tmp_19066;
    
    mem_param_tmp_19066.references = NULL;
    
    struct memblock mem_param_tmp_19065;
    
    mem_param_tmp_19065.references = NULL;
    
    struct memblock mem_param_tmp_19064;
    
    mem_param_tmp_19064.references = NULL;
    
    struct memblock mem_param_tmp_19063;
    
    mem_param_tmp_19063.references = NULL;
    
    struct memblock mem_param_18320;
    
    mem_param_18320.references = NULL;
    
    struct memblock mem_param_18315;
    
    mem_param_18315.references = NULL;
    
    struct memblock mem_param_18310;
    
    mem_param_18310.references = NULL;
    
    struct memblock mem_param_18305;
    
    mem_param_18305.references = NULL;
    
    struct memblock ext_mem_18349;
    
    ext_mem_18349.references = NULL;
    
    struct memblock ext_mem_18350;
    
    ext_mem_18350.references = NULL;
    
    struct memblock ext_mem_18351;
    
    ext_mem_18351.references = NULL;
    
    struct memblock ext_mem_18352;
    
    ext_mem_18352.references = NULL;
    
    struct memblock mem_param_tmp_19036;
    
    mem_param_tmp_19036.references = NULL;
    
    struct memblock mem_param_tmp_19035;
    
    mem_param_tmp_19035.references = NULL;
    
    struct memblock mem_param_tmp_19034;
    
    mem_param_tmp_19034.references = NULL;
    
    struct memblock mem_param_tmp_19033;
    
    mem_param_tmp_19033.references = NULL;
    
    struct memblock mem_param_18246;
    
    mem_param_18246.references = NULL;
    
    struct memblock mem_param_18241;
    
    mem_param_18241.references = NULL;
    
    struct memblock mem_param_18236;
    
    mem_param_18236.references = NULL;
    
    struct memblock mem_param_18231;
    
    mem_param_18231.references = NULL;
    
    struct memblock ext_mem_18275;
    
    ext_mem_18275.references = NULL;
    
    struct memblock ext_mem_18276;
    
    ext_mem_18276.references = NULL;
    
    struct memblock ext_mem_18277;
    
    ext_mem_18277.references = NULL;
    
    struct memblock ext_mem_18278;
    
    ext_mem_18278.references = NULL;
    
    struct memblock mem_param_tmp_19006;
    
    mem_param_tmp_19006.references = NULL;
    
    struct memblock mem_param_tmp_19005;
    
    mem_param_tmp_19005.references = NULL;
    
    struct memblock mem_param_tmp_19004;
    
    mem_param_tmp_19004.references = NULL;
    
    struct memblock mem_param_tmp_19003;
    
    mem_param_tmp_19003.references = NULL;
    
    struct memblock mem_param_18172;
    
    mem_param_18172.references = NULL;
    
    struct memblock mem_param_18167;
    
    mem_param_18167.references = NULL;
    
    struct memblock mem_param_18162;
    
    mem_param_18162.references = NULL;
    
    struct memblock mem_param_18157;
    
    mem_param_18157.references = NULL;
    
    struct memblock ext_mem_18201;
    
    ext_mem_18201.references = NULL;
    
    struct memblock ext_mem_18202;
    
    ext_mem_18202.references = NULL;
    
    struct memblock ext_mem_18203;
    
    ext_mem_18203.references = NULL;
    
    struct memblock ext_mem_18204;
    
    ext_mem_18204.references = NULL;
    
    struct memblock mem_18300;
    
    mem_18300.references = NULL;
    
    struct memblock mem_18297;
    
    mem_18297.references = NULL;
    
    struct memblock mem_18226;
    
    mem_18226.references = NULL;
    
    struct memblock mem_18223;
    
    mem_18223.references = NULL;
    
    struct memblock mem_18152;
    
    mem_18152.references = NULL;
    
    struct memblock mem_18149;
    
    mem_18149.references = NULL;
    
    struct memblock mem_18146;
    
    mem_18146.references = NULL;
    
    struct memblock mem_18143;
    
    mem_18143.references = NULL;
    
    struct memblock mem_18140;
    
    mem_18140.references = NULL;
    
    struct memblock mem_18137;
    
    mem_18137.references = NULL;
    
    struct memblock mem_18134;
    
    mem_18134.references = NULL;
    
    struct memblock mem_18131;
    
    mem_18131.references = NULL;
    
    struct memblock mem_param_tmp_18946;
    
    mem_param_tmp_18946.references = NULL;
    
    struct memblock mem_param_tmp_18945;
    
    mem_param_tmp_18945.references = NULL;
    
    struct memblock mem_param_tmp_18944;
    
    mem_param_tmp_18944.references = NULL;
    
    struct memblock mem_param_tmp_18943;
    
    mem_param_tmp_18943.references = NULL;
    
    struct memblock mem_param_17907;
    
    mem_param_17907.references = NULL;
    
    struct memblock mem_param_17902;
    
    mem_param_17902.references = NULL;
    
    struct memblock mem_param_17897;
    
    mem_param_17897.references = NULL;
    
    struct memblock mem_param_17892;
    
    mem_param_17892.references = NULL;
    
    struct memblock ext_mem_17932;
    
    ext_mem_17932.references = NULL;
    
    struct memblock ext_mem_17933;
    
    ext_mem_17933.references = NULL;
    
    struct memblock ext_mem_17934;
    
    ext_mem_17934.references = NULL;
    
    struct memblock ext_mem_17935;
    
    ext_mem_17935.references = NULL;
    
    struct memblock mem_param_tmp_18920;
    
    mem_param_tmp_18920.references = NULL;
    
    struct memblock mem_param_tmp_18919;
    
    mem_param_tmp_18919.references = NULL;
    
    struct memblock mem_param_tmp_18918;
    
    mem_param_tmp_18918.references = NULL;
    
    struct memblock mem_param_tmp_18917;
    
    mem_param_tmp_18917.references = NULL;
    
    struct memblock mem_param_17837;
    
    mem_param_17837.references = NULL;
    
    struct memblock mem_param_17832;
    
    mem_param_17832.references = NULL;
    
    struct memblock mem_param_17827;
    
    mem_param_17827.references = NULL;
    
    struct memblock mem_param_17822;
    
    mem_param_17822.references = NULL;
    
    struct memblock ext_mem_17862;
    
    ext_mem_17862.references = NULL;
    
    struct memblock ext_mem_17863;
    
    ext_mem_17863.references = NULL;
    
    struct memblock ext_mem_17864;
    
    ext_mem_17864.references = NULL;
    
    struct memblock ext_mem_17865;
    
    ext_mem_17865.references = NULL;
    
    struct memblock mem_param_tmp_18894;
    
    mem_param_tmp_18894.references = NULL;
    
    struct memblock mem_param_tmp_18893;
    
    mem_param_tmp_18893.references = NULL;
    
    struct memblock mem_param_tmp_18892;
    
    mem_param_tmp_18892.references = NULL;
    
    struct memblock mem_param_tmp_18891;
    
    mem_param_tmp_18891.references = NULL;
    
    struct memblock mem_param_17767;
    
    mem_param_17767.references = NULL;
    
    struct memblock mem_param_17762;
    
    mem_param_17762.references = NULL;
    
    struct memblock mem_param_17757;
    
    mem_param_17757.references = NULL;
    
    struct memblock mem_param_17752;
    
    mem_param_17752.references = NULL;
    
    struct memblock ext_mem_17792;
    
    ext_mem_17792.references = NULL;
    
    struct memblock ext_mem_17793;
    
    ext_mem_17793.references = NULL;
    
    struct memblock ext_mem_17794;
    
    ext_mem_17794.references = NULL;
    
    struct memblock ext_mem_17795;
    
    ext_mem_17795.references = NULL;
    
    struct memblock mem_17887;
    
    mem_17887.references = NULL;
    
    struct memblock mem_17884;
    
    mem_17884.references = NULL;
    
    struct memblock mem_17817;
    
    mem_17817.references = NULL;
    
    struct memblock mem_17814;
    
    mem_17814.references = NULL;
    
    struct memblock mem_17747;
    
    mem_17747.references = NULL;
    
    struct memblock mem_17744;
    
    mem_17744.references = NULL;
    
    struct memblock mem_17669;
    
    mem_17669.references = NULL;
    
    struct memblock mem_17666;
    
    mem_17666.references = NULL;
    
    struct memblock mem_17663;
    
    mem_17663.references = NULL;
    
    struct memblock mem_17660;
    
    mem_17660.references = NULL;
    
    struct memblock mem_17657;
    
    mem_17657.references = NULL;
    
    struct memblock mem_17654;
    
    mem_17654.references = NULL;
    
    struct memblock mem_param_tmp_18844;
    
    mem_param_tmp_18844.references = NULL;
    
    struct memblock mem_param_tmp_18843;
    
    mem_param_tmp_18843.references = NULL;
    
    struct memblock mem_param_tmp_18842;
    
    mem_param_tmp_18842.references = NULL;
    
    struct memblock mem_param_tmp_18841;
    
    mem_param_tmp_18841.references = NULL;
    
    struct memblock mem_param_17426;
    
    mem_param_17426.references = NULL;
    
    struct memblock mem_param_17421;
    
    mem_param_17421.references = NULL;
    
    struct memblock mem_param_17416;
    
    mem_param_17416.references = NULL;
    
    struct memblock mem_param_17411;
    
    mem_param_17411.references = NULL;
    
    struct memblock ext_mem_17455;
    
    ext_mem_17455.references = NULL;
    
    struct memblock ext_mem_17456;
    
    ext_mem_17456.references = NULL;
    
    struct memblock ext_mem_17457;
    
    ext_mem_17457.references = NULL;
    
    struct memblock ext_mem_17458;
    
    ext_mem_17458.references = NULL;
    
    struct memblock mem_param_tmp_18814;
    
    mem_param_tmp_18814.references = NULL;
    
    struct memblock mem_param_tmp_18813;
    
    mem_param_tmp_18813.references = NULL;
    
    struct memblock mem_param_tmp_18812;
    
    mem_param_tmp_18812.references = NULL;
    
    struct memblock mem_param_tmp_18811;
    
    mem_param_tmp_18811.references = NULL;
    
    struct memblock mem_param_17352;
    
    mem_param_17352.references = NULL;
    
    struct memblock mem_param_17347;
    
    mem_param_17347.references = NULL;
    
    struct memblock mem_param_17342;
    
    mem_param_17342.references = NULL;
    
    struct memblock mem_param_17337;
    
    mem_param_17337.references = NULL;
    
    struct memblock ext_mem_17381;
    
    ext_mem_17381.references = NULL;
    
    struct memblock ext_mem_17382;
    
    ext_mem_17382.references = NULL;
    
    struct memblock ext_mem_17383;
    
    ext_mem_17383.references = NULL;
    
    struct memblock ext_mem_17384;
    
    ext_mem_17384.references = NULL;
    
    struct memblock mem_param_tmp_18784;
    
    mem_param_tmp_18784.references = NULL;
    
    struct memblock mem_param_tmp_18783;
    
    mem_param_tmp_18783.references = NULL;
    
    struct memblock mem_param_tmp_18782;
    
    mem_param_tmp_18782.references = NULL;
    
    struct memblock mem_param_tmp_18781;
    
    mem_param_tmp_18781.references = NULL;
    
    struct memblock mem_param_17278;
    
    mem_param_17278.references = NULL;
    
    struct memblock mem_param_17273;
    
    mem_param_17273.references = NULL;
    
    struct memblock mem_param_17268;
    
    mem_param_17268.references = NULL;
    
    struct memblock mem_param_17263;
    
    mem_param_17263.references = NULL;
    
    struct memblock ext_mem_17307;
    
    ext_mem_17307.references = NULL;
    
    struct memblock ext_mem_17308;
    
    ext_mem_17308.references = NULL;
    
    struct memblock ext_mem_17309;
    
    ext_mem_17309.references = NULL;
    
    struct memblock ext_mem_17310;
    
    ext_mem_17310.references = NULL;
    
    struct memblock mem_17406;
    
    mem_17406.references = NULL;
    
    struct memblock mem_17403;
    
    mem_17403.references = NULL;
    
    struct memblock mem_17332;
    
    mem_17332.references = NULL;
    
    struct memblock mem_17329;
    
    mem_17329.references = NULL;
    
    struct memblock mem_17258;
    
    mem_17258.references = NULL;
    
    struct memblock mem_17255;
    
    mem_17255.references = NULL;
    
    struct memblock mem_17252;
    
    mem_17252.references = NULL;
    
    struct memblock mem_17249;
    
    mem_17249.references = NULL;
    
    struct memblock mem_17246;
    
    mem_17246.references = NULL;
    
    struct memblock mem_17243;
    
    mem_17243.references = NULL;
    
    struct memblock mem_17240;
    
    mem_17240.references = NULL;
    
    struct memblock mem_17237;
    
    mem_17237.references = NULL;
    
    struct memblock mem_param_tmp_18724;
    
    mem_param_tmp_18724.references = NULL;
    
    struct memblock mem_param_tmp_18723;
    
    mem_param_tmp_18723.references = NULL;
    
    struct memblock mem_param_tmp_18722;
    
    mem_param_tmp_18722.references = NULL;
    
    struct memblock mem_param_tmp_18721;
    
    mem_param_tmp_18721.references = NULL;
    
    struct memblock mem_param_17011;
    
    mem_param_17011.references = NULL;
    
    struct memblock mem_param_17006;
    
    mem_param_17006.references = NULL;
    
    struct memblock mem_param_17001;
    
    mem_param_17001.references = NULL;
    
    struct memblock mem_param_16996;
    
    mem_param_16996.references = NULL;
    
    struct memblock ext_mem_17038;
    
    ext_mem_17038.references = NULL;
    
    struct memblock ext_mem_17039;
    
    ext_mem_17039.references = NULL;
    
    struct memblock ext_mem_17040;
    
    ext_mem_17040.references = NULL;
    
    struct memblock ext_mem_17041;
    
    ext_mem_17041.references = NULL;
    
    struct memblock mem_param_tmp_18698;
    
    mem_param_tmp_18698.references = NULL;
    
    struct memblock mem_param_tmp_18697;
    
    mem_param_tmp_18697.references = NULL;
    
    struct memblock mem_param_tmp_18696;
    
    mem_param_tmp_18696.references = NULL;
    
    struct memblock mem_param_tmp_18695;
    
    mem_param_tmp_18695.references = NULL;
    
    struct memblock mem_param_16939;
    
    mem_param_16939.references = NULL;
    
    struct memblock mem_param_16934;
    
    mem_param_16934.references = NULL;
    
    struct memblock mem_param_16929;
    
    mem_param_16929.references = NULL;
    
    struct memblock mem_param_16924;
    
    mem_param_16924.references = NULL;
    
    struct memblock ext_mem_16966;
    
    ext_mem_16966.references = NULL;
    
    struct memblock ext_mem_16967;
    
    ext_mem_16967.references = NULL;
    
    struct memblock ext_mem_16968;
    
    ext_mem_16968.references = NULL;
    
    struct memblock ext_mem_16969;
    
    ext_mem_16969.references = NULL;
    
    struct memblock mem_param_tmp_18672;
    
    mem_param_tmp_18672.references = NULL;
    
    struct memblock mem_param_tmp_18671;
    
    mem_param_tmp_18671.references = NULL;
    
    struct memblock mem_param_tmp_18670;
    
    mem_param_tmp_18670.references = NULL;
    
    struct memblock mem_param_tmp_18669;
    
    mem_param_tmp_18669.references = NULL;
    
    struct memblock mem_param_16867;
    
    mem_param_16867.references = NULL;
    
    struct memblock mem_param_16862;
    
    mem_param_16862.references = NULL;
    
    struct memblock mem_param_16857;
    
    mem_param_16857.references = NULL;
    
    struct memblock mem_param_16852;
    
    mem_param_16852.references = NULL;
    
    struct memblock ext_mem_16894;
    
    ext_mem_16894.references = NULL;
    
    struct memblock ext_mem_16895;
    
    ext_mem_16895.references = NULL;
    
    struct memblock ext_mem_16896;
    
    ext_mem_16896.references = NULL;
    
    struct memblock ext_mem_16897;
    
    ext_mem_16897.references = NULL;
    
    struct memblock mem_16991;
    
    mem_16991.references = NULL;
    
    struct memblock mem_16988;
    
    mem_16988.references = NULL;
    
    struct memblock mem_16919;
    
    mem_16919.references = NULL;
    
    struct memblock mem_16916;
    
    mem_16916.references = NULL;
    
    struct memblock mem_16847;
    
    mem_16847.references = NULL;
    
    struct memblock mem_16844;
    
    mem_16844.references = NULL;
    
    struct memblock mem_16805;
    
    mem_16805.references = NULL;
    
    struct memblock mem_16802;
    
    mem_16802.references = NULL;
    
    struct memblock mem_16799;
    
    mem_16799.references = NULL;
    
    struct memblock mem_16796;
    
    mem_16796.references = NULL;
    
    struct memblock mem_16793;
    
    mem_16793.references = NULL;
    
    struct memblock mem_16790;
    
    mem_16790.references = NULL;
    
    struct memblock mem_out_18627;
    
    mem_out_18627.references = NULL;
    
    struct memblock mem_out_18626;
    
    mem_out_18626.references = NULL;
    
    struct memblock mem_out_18625;
    
    mem_out_18625.references = NULL;
    
    bool loop_cond_14698 = slt64((int64_t) 1, m_11007);
    int64_t y_14683 = sub64(m_11007, (int64_t) 1);
    int64_t x_14684 = m_11007 & y_14683;
    bool is_power_of_2_res_14685 = x_14684 == (int64_t) 0;
    int64_t y_14680 = sub64(n_11006, (int64_t) 1);
    int64_t x_14681 = n_11006 & y_14680;
    bool is_power_of_2_res_14682 = x_14681 == (int64_t) 0;
    bool x_14686 = is_power_of_2_res_14682 && is_power_of_2_res_14685;
    bool assert_c_14687;
    
    if (!x_14686) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (is_power_of_2 n && is_power_of_2 m)",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:76:5-82:30\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #2  sample_programs/fft.fut:38:18-38\n   #3  sample_programs/fft.fut:61:12-29\n   #4  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool r_15771;
    int32_t r_15772;
    int64_t r_15773;
    bool loop_while_15774;
    int32_t r_15775;
    int64_t n_15776;
    
    loop_while_15774 = loop_cond_14698;
    r_15775 = 0;
    n_15776 = m_11007;
    while (loop_while_15774) {
        int64_t n_15777 = sdiv64(n_15776, (int64_t) 2);
        int32_t r_15778 = add32(1, r_15775);
        bool loop_cond_15779 = slt64((int64_t) 1, n_15777);
        bool loop_while_tmp_18628 = loop_cond_15779;
        int32_t r_tmp_18629 = r_15778;
        int64_t n_tmp_18630 = n_15777;
        
        loop_while_15774 = loop_while_tmp_18628;
        r_15775 = r_tmp_18629;
        n_15776 = n_tmp_18630;
    }
    r_15771 = loop_while_15774;
    r_15772 = r_15775;
    r_15773 = n_15776;
    
    int64_t i32_res_15780 = sext_i32_i64(r_15772);
    bool loop_nonempty_15798 = slt64((int64_t) 0, i32_res_15780);
    bool loop_not_taken_15803 = !loop_nonempty_15798;
    int64_t iota_arg_14709 = sdiv64(m_11007, (int64_t) 2);
    int64_t conc_tmp_14729 = iota_arg_14709 + iota_arg_14709;
    bool dim_match_14730 = m_11007 == conc_tmp_14729;
    bool protect_assert_disj_15804 = dim_match_14730 || loop_not_taken_15803;
    bool empty_or_match_cert_15806;
    
    if (!protect_assert_disj_15804) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15805;
    
    if (!protect_assert_disj_15804) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15786 = slt64(i32_res_15780, (int64_t) 0);
    bool valid_15787 = !bounds_invalid_upwards_15786;
    bool range_valid_c_15788;
    
    if (!valid_15787) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15780, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16635 = (int64_t) 4 * i32_res_15780;
    int64_t bytes_16636 = smax64((int64_t) 0, binop_y_16635);
    
    if (mem_16637_cached_sizze_19125 < bytes_16636) {
        err = lexical_realloc(&ctx->error, &mem_16637,
                              &mem_16637_cached_sizze_19125, bytes_16636);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16550 = 0; i_16550 < r_15772; i_16550++) {
        int64_t i_16267 = sext_i32_i64(i_16550);
        bool nonnegative_15795 = sle32(0, i_16550);
        bool nonzzero_cert_15796;
        
        if (!nonnegative_15795) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15797 = shl32(1, i_16550);
        
        ((int32_t *) mem_16637)[i_16267] = defunc_0_f_res_15797;
    }
    
    bool r_15235;
    int32_t r_15236;
    int64_t r_15237;
    bool loop_while_15238;
    int32_t r_15239;
    int64_t n_15240;
    
    loop_while_15238 = loop_cond_14698;
    r_15239 = 0;
    n_15240 = m_11007;
    while (loop_while_15238) {
        int64_t n_15241 = sdiv64(n_15240, (int64_t) 2);
        int32_t r_15242 = add32(1, r_15239);
        bool loop_cond_15243 = slt64((int64_t) 1, n_15241);
        bool loop_while_tmp_18632 = loop_cond_15243;
        int32_t r_tmp_18633 = r_15242;
        int64_t n_tmp_18634 = n_15241;
        
        loop_while_15238 = loop_while_tmp_18632;
        r_15239 = r_tmp_18633;
        n_15240 = n_tmp_18634;
    }
    r_15235 = loop_while_15238;
    r_15236 = r_15239;
    r_15237 = n_15240;
    
    int64_t i32_res_15244 = sext_i32_i64(r_15236);
    bool loop_nonempty_15262 = slt64((int64_t) 0, i32_res_15244);
    bool loop_not_taken_15267 = !loop_nonempty_15262;
    bool protect_assert_disj_15268 = dim_match_14730 || loop_not_taken_15267;
    bool empty_or_match_cert_15270;
    
    if (!protect_assert_disj_15268) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15269;
    
    if (!protect_assert_disj_15268) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15250 = slt64(i32_res_15244, (int64_t) 0);
    bool valid_15251 = !bounds_invalid_upwards_15250;
    bool range_valid_c_15252;
    
    if (!valid_15251) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15244, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16650 = (int64_t) 4 * i32_res_15244;
    int64_t bytes_16651 = smax64((int64_t) 0, binop_y_16650);
    
    if (mem_16652_cached_sizze_19126 < bytes_16651) {
        err = lexical_realloc(&ctx->error, &mem_16652,
                              &mem_16652_cached_sizze_19126, bytes_16651);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16551 = 0; i_16551 < r_15236; i_16551++) {
        int64_t i_16271 = sext_i32_i64(i_16551);
        bool nonnegative_15259 = sle32(0, i_16551);
        bool nonzzero_cert_15260;
        
        if (!nonnegative_15259) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15261 = shl32(1, i_16551);
        
        ((int32_t *) mem_16652)[i_16271] = defunc_0_f_res_15261;
    }
    
    bool r_14699;
    int32_t r_14700;
    int64_t r_14701;
    bool loop_while_14702;
    int32_t r_14703;
    int64_t n_14704;
    
    loop_while_14702 = loop_cond_14698;
    r_14703 = 0;
    n_14704 = m_11007;
    while (loop_while_14702) {
        int64_t n_14705 = sdiv64(n_14704, (int64_t) 2);
        int32_t r_14706 = add32(1, r_14703);
        bool loop_cond_14707 = slt64((int64_t) 1, n_14705);
        bool loop_while_tmp_18636 = loop_cond_14707;
        int32_t r_tmp_18637 = r_14706;
        int64_t n_tmp_18638 = n_14705;
        
        loop_while_14702 = loop_while_tmp_18636;
        r_14703 = r_tmp_18637;
        n_14704 = n_tmp_18638;
    }
    r_14699 = loop_while_14702;
    r_14700 = r_14703;
    r_14701 = n_14704;
    
    int64_t i32_res_14708 = sext_i32_i64(r_14700);
    bool loop_nonempty_14726 = slt64((int64_t) 0, i32_res_14708);
    bool loop_not_taken_14731 = !loop_nonempty_14726;
    bool protect_assert_disj_14732 = dim_match_14730 || loop_not_taken_14731;
    bool empty_or_match_cert_14734;
    
    if (!protect_assert_disj_14732) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_14733;
    
    if (!protect_assert_disj_14732) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int32_t i64_res_14727 = sext_i64_i32(m_11007);
    int32_t y_14728 = sdiv32(i64_res_14727, 2);
    bool bounds_invalid_upwards_14714 = slt64(i32_res_14708, (int64_t) 0);
    bool valid_14715 = !bounds_invalid_upwards_14714;
    bool range_valid_c_14716;
    
    if (!valid_14715) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_14708, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16665 = (int64_t) 4 * i32_res_14708;
    int64_t bytes_16666 = smax64((int64_t) 0, binop_y_16665);
    
    if (mem_16667_cached_sizze_19127 < bytes_16666) {
        err = lexical_realloc(&ctx->error, &mem_16667,
                              &mem_16667_cached_sizze_19127, bytes_16666);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16552 = 0; i_16552 < r_14700; i_16552++) {
        int64_t i_16275 = sext_i32_i64(i_16552);
        bool nonnegative_14723 = sle32(0, i_16552);
        bool nonzzero_cert_14724;
        
        if (!nonnegative_14723) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_14725 = shl32(1, i_16552);
        
        ((int32_t *) mem_16667)[i_16275] = defunc_0_f_res_14725;
    }
    
    bool bounds_invalid_upwards_14710 = slt64(iota_arg_14709, (int64_t) 0);
    bool valid_14711 = !bounds_invalid_upwards_14710;
    bool range_valid_c_14712;
    
    if (!valid_14711) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) iota_arg_14709, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:34:14-34\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_16680 = (int64_t) 4 * m_11007;
    int64_t bytes_16681 = smax64((int64_t) 0, binop_y_16680);
    
    if (mem_16682_cached_sizze_19128 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16682,
                              &mem_16682_cached_sizze_19128, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_16279 = 0; i_16279 < m_11007; i_16279++) {
        int32_t defunc_0_f_res_14666 = sext_i64_i32(i_16279);
        
        ((int32_t *) mem_16682)[i_16279] = defunc_0_f_res_14666;
    }
    if (mem_16697_cached_sizze_19129 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16697,
                              &mem_16697_cached_sizze_19129, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_18641 = 0; i_18641 < m_11007; i_18641++) {
        ((float *) mem_16697)[i_18641] = 0.0F;
    }
    if (mem_16700_cached_sizze_19130 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16700,
                              &mem_16700_cached_sizze_19130, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_18642 = 0; i_18642 < m_11007; i_18642++) {
        ((float *) mem_16700)[i_18642] = 0.0F;
    }
    if (mem_16703_cached_sizze_19131 < bytes_16681) {
        err = lexical_realloc(&ctx->error, &mem_16703,
                              &mem_16703_cached_sizze_19131, bytes_16681);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_18643 = 0; i_18643 < m_11007; i_18643++) {
        ((float *) mem_16703)[i_18643] = 0.0F;
    }
    
    int64_t binop_x_16704 = n_11006 * m_11007;
    int64_t binop_y_16705 = (int64_t) 4 * binop_x_16704;
    int64_t bytes_16706 = smax64((int64_t) 0, binop_y_16705);
    
    if (mem_16707_cached_sizze_19132 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16707,
                              &mem_16707_cached_sizze_19132, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16711_cached_sizze_19133 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16711,
                              &mem_16711_cached_sizze_19133, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16715_cached_sizze_19134 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16715,
                              &mem_16715_cached_sizze_19134, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16719_cached_sizze_19135 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16719,
                              &mem_16719_cached_sizze_19135, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16723_cached_sizze_19136 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16723,
                              &mem_16723_cached_sizze_19136, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_16727_cached_sizze_19137 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_16727,
                              &mem_16727_cached_sizze_19137, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16790, bytes_16681, "mem_16790")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16793, bytes_16681, "mem_16793")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16796, bytes_16681, "mem_16796")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16799, bytes_16681, "mem_16799")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16802, bytes_16681, "mem_16802")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16805, bytes_16681, "mem_16805")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16844, bytes_16681, "mem_16844")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16847, bytes_16681, "mem_16847")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16916, bytes_16681, "mem_16916")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16919, bytes_16681, "mem_16919")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16988, bytes_16681, "mem_16988")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_16991, bytes_16681, "mem_16991")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16327 = 0; i_16327 < n_11006; i_16327++) {
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16790.mem + (int64_t) 0, mem_16703 + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16793.mem + (int64_t) 0, mem_16700 + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16796.mem + (int64_t) 0, mem_16697 + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int32_t defunc_0_f_res_14662 = sext_i64_i32(i_16327);
        
        for (int64_t i_16287 = 0; i_16287 < m_11007; i_16287++) {
            int32_t x_14672;
            
            x_14672 = ((int32_t *) mem_16682)[i_16287];
            
            int8_t defunc_0_f_res_14651;
            
            defunc_0_f_res_14651 = ((int8_t *) img_mem_16634.mem)[i_16327 *
                                                                  ((int64_t) 3 *
                                                                   m_11007) +
                                                                  i_16287 *
                                                                  (int64_t) 3];
            
            int8_t defunc_0_f_res_14652;
            
            defunc_0_f_res_14652 = ((int8_t *) img_mem_16634.mem)[i_16327 *
                                                                  ((int64_t) 3 *
                                                                   m_11007) +
                                                                  i_16287 *
                                                                  (int64_t) 3 +
                                                                  (int64_t) 1];
            
            int8_t defunc_0_f_res_14653;
            
            defunc_0_f_res_14653 = ((int8_t *) img_mem_16634.mem)[i_16327 *
                                                                  ((int64_t) 3 *
                                                                   m_11007) +
                                                                  i_16287 *
                                                                  (int64_t) 3 +
                                                                  (int64_t) 2];
            
            float defunc_0_f_res_14658 = uitofp_i8_f32(defunc_0_f_res_14651);
            float defunc_0_f_res_15194 = uitofp_i8_f32(defunc_0_f_res_14652);
            float defunc_0_f_res_15730 = uitofp_i8_f32(defunc_0_f_res_14653);
            int32_t y_14674 = add32(defunc_0_f_res_14662, x_14672);
            bool nonnegative_14675 = sle32(0, y_14674);
            bool nonzzero_cert_14676;
            
            if (!nonnegative_14675) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "negative exponent",
                                       "-> #0  sample_programs/fft.fut:32:29-41\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  sample_programs/fft.fut:28:3-34\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  sample_programs/fft.fut:28:3-34\n   #7  sample_programs/fft.fut:33:6-30\n   #8  sample_programs/fft.fut:37:22-42\n   #9  sample_programs/fft.fut:61:12-29\n   #10 sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_14677 = pow32(-1, y_14674);
            float i32_res_14678 = sitofp_i32_f32(i32_arg_14677);
            float zt_res_14679 = defunc_0_f_res_14658 * i32_res_14678;
            float zt_res_15215 = i32_res_14678 * defunc_0_f_res_15194;
            float zt_res_15751 = i32_res_14678 * defunc_0_f_res_15730;
            
            ((float *) mem_16799.mem)[i_16287] = zt_res_14679;
            ((float *) mem_16802.mem)[i_16287] = zt_res_15215;
            ((float *) mem_16805.mem)[i_16287] = zt_res_15751;
        }
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16844.mem + (int64_t) 0, mem_16805.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16847.mem + (int64_t) 0, mem_16697 + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int64_t ext_16913;
        int64_t ext_16912;
        int64_t ext_16911;
        int64_t ext_16910;
        int64_t ext_16909;
        int64_t ext_16908;
        int64_t ext_16907;
        int64_t ext_16906;
        int64_t ext_16905;
        int64_t ext_16904;
        int64_t ext_16903;
        int64_t ext_16902;
        int64_t ext_16901;
        int64_t ext_16900;
        int64_t ext_16899;
        int64_t ext_16898;
        int64_t ctx_param_ext_16848;
        int64_t ctx_param_ext_16849;
        int64_t ctx_param_ext_16850;
        int64_t ctx_param_ext_16851;
        int64_t ctx_param_ext_16853;
        int64_t ctx_param_ext_16854;
        int64_t ctx_param_ext_16855;
        int64_t ctx_param_ext_16856;
        int64_t ctx_param_ext_16858;
        int64_t ctx_param_ext_16859;
        int64_t ctx_param_ext_16860;
        int64_t ctx_param_ext_16861;
        int64_t ctx_param_ext_16863;
        int64_t ctx_param_ext_16864;
        int64_t ctx_param_ext_16865;
        int64_t ctx_param_ext_16866;
        
        ctx_param_ext_16848 = m_11007;
        ctx_param_ext_16849 = (int64_t) 0;
        ctx_param_ext_16850 = (int64_t) 1;
        ctx_param_ext_16851 = m_11007;
        ctx_param_ext_16853 = m_11007;
        ctx_param_ext_16854 = (int64_t) 0;
        ctx_param_ext_16855 = (int64_t) 1;
        ctx_param_ext_16856 = m_11007;
        ctx_param_ext_16858 = m_11007;
        ctx_param_ext_16859 = (int64_t) 0;
        ctx_param_ext_16860 = (int64_t) 1;
        ctx_param_ext_16861 = m_11007;
        ctx_param_ext_16863 = m_11007;
        ctx_param_ext_16864 = (int64_t) 0;
        ctx_param_ext_16865 = (int64_t) 1;
        ctx_param_ext_16866 = m_11007;
        if (memblock_set(ctx, &mem_param_16852, &mem_16805, "mem_16805") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16857, &mem_16796, "mem_16796") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16862, &mem_16844, "mem_16844") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16867, &mem_16847, "mem_16847") != 0)
            return 1;
        
        int32_t ns_15822;
        
        for (int64_t i_15817 = 0; i_15817 < i32_res_15780; i_15817++) {
            ns_15822 = ((int32_t *) mem_16637)[i_15817];
            
            bool zzero_15828 = ns_15822 == 0;
            bool nonzzero_15829 = !zzero_15828;
            bool nonzzero_cert_15830;
            
            if (!nonzzero_15829) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15826 = mul32(2, ns_15822);
            float i32_res_15827 = sitofp_i32_f32(i32_arg_15826);
            
            for (int64_t write_iter_16291 = 0; write_iter_16291 <
                 iota_arg_14709; write_iter_16291++) {
                int32_t defunc_0_f_res_15825 = sext_i64_i32(write_iter_16291);
                int32_t i32_arg_15838 = smod32(defunc_0_f_res_15825, ns_15822);
                float i32_res_15839 = sitofp_i32_f32(i32_arg_15838);
                float zt_res_15840 = -6.2831855F * i32_res_15839;
                float zs_res_15841 = zt_res_15840 / i32_res_15827;
                int64_t j_15842 = sext_i32_i64(defunc_0_f_res_15825);
                bool x_15843 = sle64((int64_t) 0, j_15842);
                bool y_15844 = slt64(j_15842, m_11007);
                bool bounds_check_15845 = x_15843 && y_15844;
                bool index_certs_15846;
                
                if (!bounds_check_15845) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15842,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15847;
                
                defunc_0_f_res_15847 =
                    ((float *) mem_param_16852.mem)[ctx_param_ext_16849 +
                                                    j_15842 *
                                                    ctx_param_ext_16850];
                
                float defunc_0_f_res_15848;
                
                defunc_0_f_res_15848 =
                    ((float *) mem_param_16857.mem)[ctx_param_ext_16854 +
                                                    j_15842 *
                                                    ctx_param_ext_16855];
                
                float sin_res_15849;
                
                sin_res_15849 = futrts_sin32(zs_res_15841);
                
                float cos_res_15850;
                
                cos_res_15850 = futrts_cos32(zs_res_15841);
                
                int32_t i_15851 = add32(y_14728, defunc_0_f_res_15825);
                int64_t i_15852 = sext_i32_i64(i_15851);
                bool x_15853 = sle64((int64_t) 0, i_15852);
                bool y_15854 = slt64(i_15852, m_11007);
                bool bounds_check_15855 = x_15853 && y_15854;
                bool index_certs_15856;
                
                if (!bounds_check_15855) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15852,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15857;
                
                zt_arg_15857 =
                    ((float *) mem_param_16852.mem)[ctx_param_ext_16849 +
                                                    i_15852 *
                                                    ctx_param_ext_16850];
                
                float zt_arg_15858;
                
                zt_arg_15858 =
                    ((float *) mem_param_16857.mem)[ctx_param_ext_16854 +
                                                    i_15852 *
                                                    ctx_param_ext_16855];
                
                float zt_res_15859 = sin_res_15849 * zt_arg_15858;
                float zt_res_15860 = cos_res_15850 * zt_arg_15857;
                float zm_res_15861 = zt_res_15860 - zt_res_15859;
                float zt_res_15862 = sin_res_15849 * zt_arg_15857;
                float zt_res_15863 = cos_res_15850 * zt_arg_15858;
                float zp_res_15864 = zt_res_15862 + zt_res_15863;
                float zp_res_15865 = defunc_0_f_res_15847 + zm_res_15861;
                float zp_res_15866 = defunc_0_f_res_15848 + zp_res_15864;
                float zm_res_15867 = defunc_0_f_res_15847 - zm_res_15861;
                float zm_res_15868 = defunc_0_f_res_15848 - zp_res_15864;
                int32_t x_15869 = sdiv32(defunc_0_f_res_15825, ns_15822);
                int32_t x_15870 = mul32(ns_15822, x_15869);
                int32_t x_15871 = mul32(2, x_15870);
                int32_t idxD_15872 = add32(i32_arg_15838, x_15871);
                int64_t i32_res_15873 = sext_i32_i64(idxD_15872);
                int32_t i32_arg_15874 = add32(ns_15822, idxD_15872);
                int64_t i32_res_15875 = sext_i32_i64(i32_arg_15874);
                
                if (sle64((int64_t) 0, i32_res_15873) && slt64(i32_res_15873,
                                                               m_11007)) {
                    ((float *) mem_param_16862.mem)[ctx_param_ext_16859 +
                                                    i32_res_15873 *
                                                    ctx_param_ext_16860] =
                        zp_res_15865;
                }
                if (sle64((int64_t) 0, i32_res_15875) && slt64(i32_res_15875,
                                                               m_11007)) {
                    ((float *) mem_param_16862.mem)[ctx_param_ext_16859 +
                                                    i32_res_15875 *
                                                    ctx_param_ext_16860] =
                        zm_res_15867;
                }
                if (sle64((int64_t) 0, i32_res_15873) && slt64(i32_res_15873,
                                                               m_11007)) {
                    ((float *) mem_param_16867.mem)[ctx_param_ext_16864 +
                                                    i32_res_15873 *
                                                    ctx_param_ext_16865] =
                        zp_res_15866;
                }
                if (sle64((int64_t) 0, i32_res_15875) && slt64(i32_res_15875,
                                                               m_11007)) {
                    ((float *) mem_param_16867.mem)[ctx_param_ext_16864 +
                                                    i32_res_15875 *
                                                    ctx_param_ext_16865] =
                        zm_res_15868;
                }
            }
            
            int64_t ctx_param_ext_tmp_18653 = ctx_param_ext_16858;
            int64_t ctx_param_ext_tmp_18654 = ctx_param_ext_16859;
            int64_t ctx_param_ext_tmp_18655 = ctx_param_ext_16860;
            int64_t ctx_param_ext_tmp_18656 = ctx_param_ext_16861;
            int64_t ctx_param_ext_tmp_18657 = ctx_param_ext_16863;
            int64_t ctx_param_ext_tmp_18658 = ctx_param_ext_16864;
            int64_t ctx_param_ext_tmp_18659 = ctx_param_ext_16865;
            int64_t ctx_param_ext_tmp_18660 = ctx_param_ext_16866;
            int64_t ctx_param_ext_tmp_18661 = ctx_param_ext_16848;
            int64_t ctx_param_ext_tmp_18662 = ctx_param_ext_16849;
            int64_t ctx_param_ext_tmp_18663 = ctx_param_ext_16850;
            int64_t ctx_param_ext_tmp_18664 = ctx_param_ext_16851;
            int64_t ctx_param_ext_tmp_18665 = ctx_param_ext_16853;
            int64_t ctx_param_ext_tmp_18666 = ctx_param_ext_16854;
            int64_t ctx_param_ext_tmp_18667 = ctx_param_ext_16855;
            int64_t ctx_param_ext_tmp_18668 = ctx_param_ext_16856;
            
            if (memblock_set(ctx, &mem_param_tmp_18669, &mem_param_16862,
                             "mem_param_16862") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18670, &mem_param_16867,
                             "mem_param_16867") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18671, &mem_param_16852,
                             "mem_param_16852") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18672, &mem_param_16857,
                             "mem_param_16857") != 0)
                return 1;
            ctx_param_ext_16848 = ctx_param_ext_tmp_18653;
            ctx_param_ext_16849 = ctx_param_ext_tmp_18654;
            ctx_param_ext_16850 = ctx_param_ext_tmp_18655;
            ctx_param_ext_16851 = ctx_param_ext_tmp_18656;
            ctx_param_ext_16853 = ctx_param_ext_tmp_18657;
            ctx_param_ext_16854 = ctx_param_ext_tmp_18658;
            ctx_param_ext_16855 = ctx_param_ext_tmp_18659;
            ctx_param_ext_16856 = ctx_param_ext_tmp_18660;
            ctx_param_ext_16858 = ctx_param_ext_tmp_18661;
            ctx_param_ext_16859 = ctx_param_ext_tmp_18662;
            ctx_param_ext_16860 = ctx_param_ext_tmp_18663;
            ctx_param_ext_16861 = ctx_param_ext_tmp_18664;
            ctx_param_ext_16863 = ctx_param_ext_tmp_18665;
            ctx_param_ext_16864 = ctx_param_ext_tmp_18666;
            ctx_param_ext_16865 = ctx_param_ext_tmp_18667;
            ctx_param_ext_16866 = ctx_param_ext_tmp_18668;
            if (memblock_set(ctx, &mem_param_16852, &mem_param_tmp_18669,
                             "mem_param_tmp_18669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16857, &mem_param_tmp_18670,
                             "mem_param_tmp_18670") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16862, &mem_param_tmp_18671,
                             "mem_param_tmp_18671") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16867, &mem_param_tmp_18672,
                             "mem_param_tmp_18672") != 0)
                return 1;
        }
        ext_16913 = ctx_param_ext_16848;
        ext_16912 = ctx_param_ext_16849;
        ext_16911 = ctx_param_ext_16850;
        ext_16910 = ctx_param_ext_16851;
        ext_16909 = ctx_param_ext_16853;
        ext_16908 = ctx_param_ext_16854;
        ext_16907 = ctx_param_ext_16855;
        ext_16906 = ctx_param_ext_16856;
        ext_16905 = ctx_param_ext_16858;
        ext_16904 = ctx_param_ext_16859;
        ext_16903 = ctx_param_ext_16860;
        ext_16902 = ctx_param_ext_16861;
        ext_16901 = ctx_param_ext_16863;
        ext_16900 = ctx_param_ext_16864;
        ext_16899 = ctx_param_ext_16865;
        ext_16898 = ctx_param_ext_16866;
        if (memblock_set(ctx, &ext_mem_16897, &mem_param_16852,
                         "mem_param_16852") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16896, &mem_param_16857,
                         "mem_param_16857") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16895, &mem_param_16862,
                         "mem_param_16862") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16894, &mem_param_16867,
                         "mem_param_16867") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16916.mem + (int64_t) 0, mem_16802.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16919.mem + (int64_t) 0, mem_16700 + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int64_t ext_16985;
        int64_t ext_16984;
        int64_t ext_16983;
        int64_t ext_16982;
        int64_t ext_16981;
        int64_t ext_16980;
        int64_t ext_16979;
        int64_t ext_16978;
        int64_t ext_16977;
        int64_t ext_16976;
        int64_t ext_16975;
        int64_t ext_16974;
        int64_t ext_16973;
        int64_t ext_16972;
        int64_t ext_16971;
        int64_t ext_16970;
        int64_t ctx_param_ext_16920;
        int64_t ctx_param_ext_16921;
        int64_t ctx_param_ext_16922;
        int64_t ctx_param_ext_16923;
        int64_t ctx_param_ext_16925;
        int64_t ctx_param_ext_16926;
        int64_t ctx_param_ext_16927;
        int64_t ctx_param_ext_16928;
        int64_t ctx_param_ext_16930;
        int64_t ctx_param_ext_16931;
        int64_t ctx_param_ext_16932;
        int64_t ctx_param_ext_16933;
        int64_t ctx_param_ext_16935;
        int64_t ctx_param_ext_16936;
        int64_t ctx_param_ext_16937;
        int64_t ctx_param_ext_16938;
        
        ctx_param_ext_16920 = m_11007;
        ctx_param_ext_16921 = (int64_t) 0;
        ctx_param_ext_16922 = (int64_t) 1;
        ctx_param_ext_16923 = m_11007;
        ctx_param_ext_16925 = m_11007;
        ctx_param_ext_16926 = (int64_t) 0;
        ctx_param_ext_16927 = (int64_t) 1;
        ctx_param_ext_16928 = m_11007;
        ctx_param_ext_16930 = m_11007;
        ctx_param_ext_16931 = (int64_t) 0;
        ctx_param_ext_16932 = (int64_t) 1;
        ctx_param_ext_16933 = m_11007;
        ctx_param_ext_16935 = m_11007;
        ctx_param_ext_16936 = (int64_t) 0;
        ctx_param_ext_16937 = (int64_t) 1;
        ctx_param_ext_16938 = m_11007;
        if (memblock_set(ctx, &mem_param_16924, &mem_16802, "mem_16802") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16929, &mem_16793, "mem_16793") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16934, &mem_16916, "mem_16916") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_16939, &mem_16919, "mem_16919") != 0)
            return 1;
        
        int32_t ns_15286;
        
        for (int64_t i_15281 = 0; i_15281 < i32_res_15244; i_15281++) {
            ns_15286 = ((int32_t *) mem_16652)[i_15281];
            
            bool zzero_15292 = ns_15286 == 0;
            bool nonzzero_15293 = !zzero_15292;
            bool nonzzero_cert_15294;
            
            if (!nonzzero_15293) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15290 = mul32(2, ns_15286);
            float i32_res_15291 = sitofp_i32_f32(i32_arg_15290);
            
            for (int64_t write_iter_16299 = 0; write_iter_16299 <
                 iota_arg_14709; write_iter_16299++) {
                int32_t defunc_0_f_res_15289 = sext_i64_i32(write_iter_16299);
                int32_t i32_arg_15302 = smod32(defunc_0_f_res_15289, ns_15286);
                float i32_res_15303 = sitofp_i32_f32(i32_arg_15302);
                float zt_res_15304 = -6.2831855F * i32_res_15303;
                float zs_res_15305 = zt_res_15304 / i32_res_15291;
                int64_t j_15306 = sext_i32_i64(defunc_0_f_res_15289);
                bool x_15307 = sle64((int64_t) 0, j_15306);
                bool y_15308 = slt64(j_15306, m_11007);
                bool bounds_check_15309 = x_15307 && y_15308;
                bool index_certs_15310;
                
                if (!bounds_check_15309) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15306,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15311;
                
                defunc_0_f_res_15311 =
                    ((float *) mem_param_16924.mem)[ctx_param_ext_16921 +
                                                    j_15306 *
                                                    ctx_param_ext_16922];
                
                float defunc_0_f_res_15312;
                
                defunc_0_f_res_15312 =
                    ((float *) mem_param_16929.mem)[ctx_param_ext_16926 +
                                                    j_15306 *
                                                    ctx_param_ext_16927];
                
                float sin_res_15313;
                
                sin_res_15313 = futrts_sin32(zs_res_15305);
                
                float cos_res_15314;
                
                cos_res_15314 = futrts_cos32(zs_res_15305);
                
                int32_t i_15315 = add32(y_14728, defunc_0_f_res_15289);
                int64_t i_15316 = sext_i32_i64(i_15315);
                bool x_15317 = sle64((int64_t) 0, i_15316);
                bool y_15318 = slt64(i_15316, m_11007);
                bool bounds_check_15319 = x_15317 && y_15318;
                bool index_certs_15320;
                
                if (!bounds_check_15319) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15316,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15321;
                
                zt_arg_15321 =
                    ((float *) mem_param_16924.mem)[ctx_param_ext_16921 +
                                                    i_15316 *
                                                    ctx_param_ext_16922];
                
                float zt_arg_15322;
                
                zt_arg_15322 =
                    ((float *) mem_param_16929.mem)[ctx_param_ext_16926 +
                                                    i_15316 *
                                                    ctx_param_ext_16927];
                
                float zt_res_15323 = sin_res_15313 * zt_arg_15322;
                float zt_res_15324 = cos_res_15314 * zt_arg_15321;
                float zm_res_15325 = zt_res_15324 - zt_res_15323;
                float zt_res_15326 = sin_res_15313 * zt_arg_15321;
                float zt_res_15327 = cos_res_15314 * zt_arg_15322;
                float zp_res_15328 = zt_res_15326 + zt_res_15327;
                float zp_res_15329 = defunc_0_f_res_15311 + zm_res_15325;
                float zp_res_15330 = defunc_0_f_res_15312 + zp_res_15328;
                float zm_res_15331 = defunc_0_f_res_15311 - zm_res_15325;
                float zm_res_15332 = defunc_0_f_res_15312 - zp_res_15328;
                int32_t x_15333 = sdiv32(defunc_0_f_res_15289, ns_15286);
                int32_t x_15334 = mul32(ns_15286, x_15333);
                int32_t x_15335 = mul32(2, x_15334);
                int32_t idxD_15336 = add32(i32_arg_15302, x_15335);
                int64_t i32_res_15337 = sext_i32_i64(idxD_15336);
                int32_t i32_arg_15338 = add32(ns_15286, idxD_15336);
                int64_t i32_res_15339 = sext_i32_i64(i32_arg_15338);
                
                if (sle64((int64_t) 0, i32_res_15337) && slt64(i32_res_15337,
                                                               m_11007)) {
                    ((float *) mem_param_16934.mem)[ctx_param_ext_16931 +
                                                    i32_res_15337 *
                                                    ctx_param_ext_16932] =
                        zp_res_15329;
                }
                if (sle64((int64_t) 0, i32_res_15339) && slt64(i32_res_15339,
                                                               m_11007)) {
                    ((float *) mem_param_16934.mem)[ctx_param_ext_16931 +
                                                    i32_res_15339 *
                                                    ctx_param_ext_16932] =
                        zm_res_15331;
                }
                if (sle64((int64_t) 0, i32_res_15337) && slt64(i32_res_15337,
                                                               m_11007)) {
                    ((float *) mem_param_16939.mem)[ctx_param_ext_16936 +
                                                    i32_res_15337 *
                                                    ctx_param_ext_16937] =
                        zp_res_15330;
                }
                if (sle64((int64_t) 0, i32_res_15339) && slt64(i32_res_15339,
                                                               m_11007)) {
                    ((float *) mem_param_16939.mem)[ctx_param_ext_16936 +
                                                    i32_res_15339 *
                                                    ctx_param_ext_16937] =
                        zm_res_15332;
                }
            }
            
            int64_t ctx_param_ext_tmp_18679 = ctx_param_ext_16930;
            int64_t ctx_param_ext_tmp_18680 = ctx_param_ext_16931;
            int64_t ctx_param_ext_tmp_18681 = ctx_param_ext_16932;
            int64_t ctx_param_ext_tmp_18682 = ctx_param_ext_16933;
            int64_t ctx_param_ext_tmp_18683 = ctx_param_ext_16935;
            int64_t ctx_param_ext_tmp_18684 = ctx_param_ext_16936;
            int64_t ctx_param_ext_tmp_18685 = ctx_param_ext_16937;
            int64_t ctx_param_ext_tmp_18686 = ctx_param_ext_16938;
            int64_t ctx_param_ext_tmp_18687 = ctx_param_ext_16920;
            int64_t ctx_param_ext_tmp_18688 = ctx_param_ext_16921;
            int64_t ctx_param_ext_tmp_18689 = ctx_param_ext_16922;
            int64_t ctx_param_ext_tmp_18690 = ctx_param_ext_16923;
            int64_t ctx_param_ext_tmp_18691 = ctx_param_ext_16925;
            int64_t ctx_param_ext_tmp_18692 = ctx_param_ext_16926;
            int64_t ctx_param_ext_tmp_18693 = ctx_param_ext_16927;
            int64_t ctx_param_ext_tmp_18694 = ctx_param_ext_16928;
            
            if (memblock_set(ctx, &mem_param_tmp_18695, &mem_param_16934,
                             "mem_param_16934") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18696, &mem_param_16939,
                             "mem_param_16939") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18697, &mem_param_16924,
                             "mem_param_16924") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18698, &mem_param_16929,
                             "mem_param_16929") != 0)
                return 1;
            ctx_param_ext_16920 = ctx_param_ext_tmp_18679;
            ctx_param_ext_16921 = ctx_param_ext_tmp_18680;
            ctx_param_ext_16922 = ctx_param_ext_tmp_18681;
            ctx_param_ext_16923 = ctx_param_ext_tmp_18682;
            ctx_param_ext_16925 = ctx_param_ext_tmp_18683;
            ctx_param_ext_16926 = ctx_param_ext_tmp_18684;
            ctx_param_ext_16927 = ctx_param_ext_tmp_18685;
            ctx_param_ext_16928 = ctx_param_ext_tmp_18686;
            ctx_param_ext_16930 = ctx_param_ext_tmp_18687;
            ctx_param_ext_16931 = ctx_param_ext_tmp_18688;
            ctx_param_ext_16932 = ctx_param_ext_tmp_18689;
            ctx_param_ext_16933 = ctx_param_ext_tmp_18690;
            ctx_param_ext_16935 = ctx_param_ext_tmp_18691;
            ctx_param_ext_16936 = ctx_param_ext_tmp_18692;
            ctx_param_ext_16937 = ctx_param_ext_tmp_18693;
            ctx_param_ext_16938 = ctx_param_ext_tmp_18694;
            if (memblock_set(ctx, &mem_param_16924, &mem_param_tmp_18695,
                             "mem_param_tmp_18695") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16929, &mem_param_tmp_18696,
                             "mem_param_tmp_18696") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16934, &mem_param_tmp_18697,
                             "mem_param_tmp_18697") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_16939, &mem_param_tmp_18698,
                             "mem_param_tmp_18698") != 0)
                return 1;
        }
        ext_16985 = ctx_param_ext_16920;
        ext_16984 = ctx_param_ext_16921;
        ext_16983 = ctx_param_ext_16922;
        ext_16982 = ctx_param_ext_16923;
        ext_16981 = ctx_param_ext_16925;
        ext_16980 = ctx_param_ext_16926;
        ext_16979 = ctx_param_ext_16927;
        ext_16978 = ctx_param_ext_16928;
        ext_16977 = ctx_param_ext_16930;
        ext_16976 = ctx_param_ext_16931;
        ext_16975 = ctx_param_ext_16932;
        ext_16974 = ctx_param_ext_16933;
        ext_16973 = ctx_param_ext_16935;
        ext_16972 = ctx_param_ext_16936;
        ext_16971 = ctx_param_ext_16937;
        ext_16970 = ctx_param_ext_16938;
        if (memblock_set(ctx, &ext_mem_16969, &mem_param_16924,
                         "mem_param_16924") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16968, &mem_param_16929,
                         "mem_param_16929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16967, &mem_param_16934,
                         "mem_param_16934") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_16966, &mem_param_16939,
                         "mem_param_16939") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16988.mem + (int64_t) 0, mem_16799.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16991.mem + (int64_t) 0, mem_16703 + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int64_t ext_17057;
        int64_t ext_17056;
        int64_t ext_17055;
        int64_t ext_17054;
        int64_t ext_17053;
        int64_t ext_17052;
        int64_t ext_17051;
        int64_t ext_17050;
        int64_t ext_17049;
        int64_t ext_17048;
        int64_t ext_17047;
        int64_t ext_17046;
        int64_t ext_17045;
        int64_t ext_17044;
        int64_t ext_17043;
        int64_t ext_17042;
        int64_t ctx_param_ext_16992;
        int64_t ctx_param_ext_16993;
        int64_t ctx_param_ext_16994;
        int64_t ctx_param_ext_16995;
        int64_t ctx_param_ext_16997;
        int64_t ctx_param_ext_16998;
        int64_t ctx_param_ext_16999;
        int64_t ctx_param_ext_17000;
        int64_t ctx_param_ext_17002;
        int64_t ctx_param_ext_17003;
        int64_t ctx_param_ext_17004;
        int64_t ctx_param_ext_17005;
        int64_t ctx_param_ext_17007;
        int64_t ctx_param_ext_17008;
        int64_t ctx_param_ext_17009;
        int64_t ctx_param_ext_17010;
        
        ctx_param_ext_16992 = m_11007;
        ctx_param_ext_16993 = (int64_t) 0;
        ctx_param_ext_16994 = (int64_t) 1;
        ctx_param_ext_16995 = m_11007;
        ctx_param_ext_16997 = m_11007;
        ctx_param_ext_16998 = (int64_t) 0;
        ctx_param_ext_16999 = (int64_t) 1;
        ctx_param_ext_17000 = m_11007;
        ctx_param_ext_17002 = m_11007;
        ctx_param_ext_17003 = (int64_t) 0;
        ctx_param_ext_17004 = (int64_t) 1;
        ctx_param_ext_17005 = m_11007;
        ctx_param_ext_17007 = m_11007;
        ctx_param_ext_17008 = (int64_t) 0;
        ctx_param_ext_17009 = (int64_t) 1;
        ctx_param_ext_17010 = m_11007;
        if (memblock_set(ctx, &mem_param_16996, &mem_16799, "mem_16799") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17001, &mem_16790, "mem_16790") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17006, &mem_16988, "mem_16988") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17011, &mem_16991, "mem_16991") != 0)
            return 1;
        
        int32_t ns_14750;
        
        for (int64_t i_14745 = 0; i_14745 < i32_res_14708; i_14745++) {
            ns_14750 = ((int32_t *) mem_16667)[i_14745];
            
            bool zzero_14756 = ns_14750 == 0;
            bool nonzzero_14757 = !zzero_14756;
            bool nonzzero_cert_14758;
            
            if (!nonzzero_14757) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_14754 = mul32(2, ns_14750);
            float i32_res_14755 = sitofp_i32_f32(i32_arg_14754);
            
            for (int64_t write_iter_16307 = 0; write_iter_16307 <
                 iota_arg_14709; write_iter_16307++) {
                int32_t defunc_0_f_res_14753 = sext_i64_i32(write_iter_16307);
                int32_t i32_arg_14766 = smod32(defunc_0_f_res_14753, ns_14750);
                float i32_res_14767 = sitofp_i32_f32(i32_arg_14766);
                float zt_res_14768 = -6.2831855F * i32_res_14767;
                float zs_res_14769 = zt_res_14768 / i32_res_14755;
                int64_t j_14770 = sext_i32_i64(defunc_0_f_res_14753);
                bool x_14771 = sle64((int64_t) 0, j_14770);
                bool y_14772 = slt64(j_14770, m_11007);
                bool bounds_check_14773 = x_14771 && y_14772;
                bool index_certs_14774;
                
                if (!bounds_check_14773) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_14770,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_14775;
                
                defunc_0_f_res_14775 =
                    ((float *) mem_param_16996.mem)[ctx_param_ext_16993 +
                                                    j_14770 *
                                                    ctx_param_ext_16994];
                
                float defunc_0_f_res_14776;
                
                defunc_0_f_res_14776 =
                    ((float *) mem_param_17001.mem)[ctx_param_ext_16998 +
                                                    j_14770 *
                                                    ctx_param_ext_16999];
                
                float sin_res_14777;
                
                sin_res_14777 = futrts_sin32(zs_res_14769);
                
                float cos_res_14778;
                
                cos_res_14778 = futrts_cos32(zs_res_14769);
                
                int32_t i_14779 = add32(y_14728, defunc_0_f_res_14753);
                int64_t i_14780 = sext_i32_i64(i_14779);
                bool x_14781 = sle64((int64_t) 0, i_14780);
                bool y_14782 = slt64(i_14780, m_11007);
                bool bounds_check_14783 = x_14781 && y_14782;
                bool index_certs_14784;
                
                if (!bounds_check_14783) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_14780,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_14785;
                
                zt_arg_14785 =
                    ((float *) mem_param_16996.mem)[ctx_param_ext_16993 +
                                                    i_14780 *
                                                    ctx_param_ext_16994];
                
                float zt_arg_14786;
                
                zt_arg_14786 =
                    ((float *) mem_param_17001.mem)[ctx_param_ext_16998 +
                                                    i_14780 *
                                                    ctx_param_ext_16999];
                
                float zt_res_14787 = sin_res_14777 * zt_arg_14786;
                float zt_res_14788 = cos_res_14778 * zt_arg_14785;
                float zm_res_14789 = zt_res_14788 - zt_res_14787;
                float zt_res_14790 = sin_res_14777 * zt_arg_14785;
                float zt_res_14791 = cos_res_14778 * zt_arg_14786;
                float zp_res_14792 = zt_res_14790 + zt_res_14791;
                float zp_res_14793 = defunc_0_f_res_14775 + zm_res_14789;
                float zp_res_14794 = defunc_0_f_res_14776 + zp_res_14792;
                float zm_res_14795 = defunc_0_f_res_14775 - zm_res_14789;
                float zm_res_14796 = defunc_0_f_res_14776 - zp_res_14792;
                int32_t x_14797 = sdiv32(defunc_0_f_res_14753, ns_14750);
                int32_t x_14798 = mul32(ns_14750, x_14797);
                int32_t x_14799 = mul32(2, x_14798);
                int32_t idxD_14800 = add32(i32_arg_14766, x_14799);
                int64_t i32_res_14801 = sext_i32_i64(idxD_14800);
                int32_t i32_arg_14802 = add32(ns_14750, idxD_14800);
                int64_t i32_res_14803 = sext_i32_i64(i32_arg_14802);
                
                if (sle64((int64_t) 0, i32_res_14801) && slt64(i32_res_14801,
                                                               m_11007)) {
                    ((float *) mem_param_17006.mem)[ctx_param_ext_17003 +
                                                    i32_res_14801 *
                                                    ctx_param_ext_17004] =
                        zp_res_14793;
                }
                if (sle64((int64_t) 0, i32_res_14803) && slt64(i32_res_14803,
                                                               m_11007)) {
                    ((float *) mem_param_17006.mem)[ctx_param_ext_17003 +
                                                    i32_res_14803 *
                                                    ctx_param_ext_17004] =
                        zm_res_14795;
                }
                if (sle64((int64_t) 0, i32_res_14801) && slt64(i32_res_14801,
                                                               m_11007)) {
                    ((float *) mem_param_17011.mem)[ctx_param_ext_17008 +
                                                    i32_res_14801 *
                                                    ctx_param_ext_17009] =
                        zp_res_14794;
                }
                if (sle64((int64_t) 0, i32_res_14803) && slt64(i32_res_14803,
                                                               m_11007)) {
                    ((float *) mem_param_17011.mem)[ctx_param_ext_17008 +
                                                    i32_res_14803 *
                                                    ctx_param_ext_17009] =
                        zm_res_14796;
                }
            }
            
            int64_t ctx_param_ext_tmp_18705 = ctx_param_ext_17002;
            int64_t ctx_param_ext_tmp_18706 = ctx_param_ext_17003;
            int64_t ctx_param_ext_tmp_18707 = ctx_param_ext_17004;
            int64_t ctx_param_ext_tmp_18708 = ctx_param_ext_17005;
            int64_t ctx_param_ext_tmp_18709 = ctx_param_ext_17007;
            int64_t ctx_param_ext_tmp_18710 = ctx_param_ext_17008;
            int64_t ctx_param_ext_tmp_18711 = ctx_param_ext_17009;
            int64_t ctx_param_ext_tmp_18712 = ctx_param_ext_17010;
            int64_t ctx_param_ext_tmp_18713 = ctx_param_ext_16992;
            int64_t ctx_param_ext_tmp_18714 = ctx_param_ext_16993;
            int64_t ctx_param_ext_tmp_18715 = ctx_param_ext_16994;
            int64_t ctx_param_ext_tmp_18716 = ctx_param_ext_16995;
            int64_t ctx_param_ext_tmp_18717 = ctx_param_ext_16997;
            int64_t ctx_param_ext_tmp_18718 = ctx_param_ext_16998;
            int64_t ctx_param_ext_tmp_18719 = ctx_param_ext_16999;
            int64_t ctx_param_ext_tmp_18720 = ctx_param_ext_17000;
            
            if (memblock_set(ctx, &mem_param_tmp_18721, &mem_param_17006,
                             "mem_param_17006") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18722, &mem_param_17011,
                             "mem_param_17011") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18723, &mem_param_16996,
                             "mem_param_16996") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18724, &mem_param_17001,
                             "mem_param_17001") != 0)
                return 1;
            ctx_param_ext_16992 = ctx_param_ext_tmp_18705;
            ctx_param_ext_16993 = ctx_param_ext_tmp_18706;
            ctx_param_ext_16994 = ctx_param_ext_tmp_18707;
            ctx_param_ext_16995 = ctx_param_ext_tmp_18708;
            ctx_param_ext_16997 = ctx_param_ext_tmp_18709;
            ctx_param_ext_16998 = ctx_param_ext_tmp_18710;
            ctx_param_ext_16999 = ctx_param_ext_tmp_18711;
            ctx_param_ext_17000 = ctx_param_ext_tmp_18712;
            ctx_param_ext_17002 = ctx_param_ext_tmp_18713;
            ctx_param_ext_17003 = ctx_param_ext_tmp_18714;
            ctx_param_ext_17004 = ctx_param_ext_tmp_18715;
            ctx_param_ext_17005 = ctx_param_ext_tmp_18716;
            ctx_param_ext_17007 = ctx_param_ext_tmp_18717;
            ctx_param_ext_17008 = ctx_param_ext_tmp_18718;
            ctx_param_ext_17009 = ctx_param_ext_tmp_18719;
            ctx_param_ext_17010 = ctx_param_ext_tmp_18720;
            if (memblock_set(ctx, &mem_param_16996, &mem_param_tmp_18721,
                             "mem_param_tmp_18721") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17001, &mem_param_tmp_18722,
                             "mem_param_tmp_18722") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17006, &mem_param_tmp_18723,
                             "mem_param_tmp_18723") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17011, &mem_param_tmp_18724,
                             "mem_param_tmp_18724") != 0)
                return 1;
        }
        ext_17057 = ctx_param_ext_16992;
        ext_17056 = ctx_param_ext_16993;
        ext_17055 = ctx_param_ext_16994;
        ext_17054 = ctx_param_ext_16995;
        ext_17053 = ctx_param_ext_16997;
        ext_17052 = ctx_param_ext_16998;
        ext_17051 = ctx_param_ext_16999;
        ext_17050 = ctx_param_ext_17000;
        ext_17049 = ctx_param_ext_17002;
        ext_17048 = ctx_param_ext_17003;
        ext_17047 = ctx_param_ext_17004;
        ext_17046 = ctx_param_ext_17005;
        ext_17045 = ctx_param_ext_17007;
        ext_17044 = ctx_param_ext_17008;
        ext_17043 = ctx_param_ext_17009;
        ext_17042 = ctx_param_ext_17010;
        if (memblock_set(ctx, &ext_mem_17041, &mem_param_16996,
                         "mem_param_16996") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17040, &mem_param_17001,
                         "mem_param_17001") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17039, &mem_param_17006,
                         "mem_param_17006") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17038, &mem_param_17011,
                         "mem_param_17011") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16707 + i_16327 * m_11007 * (int64_t) 4,
                    ext_mem_16897.mem + ext_16912 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16897, "ext_mem_16897") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16711 + i_16327 * m_11007 * (int64_t) 4,
                    ext_mem_16896.mem + ext_16908 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16896, "ext_mem_16896") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16715 + i_16327 * m_11007 * (int64_t) 4,
                    ext_mem_16969.mem + ext_16984 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16969, "ext_mem_16969") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16719 + i_16327 * m_11007 * (int64_t) 4,
                    ext_mem_16968.mem + ext_16980 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_16968, "ext_mem_16968") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16723 + i_16327 * m_11007 * (int64_t) 4,
                    ext_mem_17041.mem + ext_17056 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17041, "ext_mem_17041") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_16727 + i_16327 * m_11007 * (int64_t) 4,
                    ext_mem_17040.mem + ext_17052 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17040, "ext_mem_17040") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_16790, "mem_16790") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16793, "mem_16793") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16796, "mem_16796") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16799, "mem_16799") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16802, "mem_16802") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16805, "mem_16805") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16844, "mem_16844") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16847, "mem_16847") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16916, "mem_16916") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16919, "mem_16919") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16988, "mem_16988") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_16991, "mem_16991") != 0)
        return 1;
    
    bool loop_cond_14688 = slt64((int64_t) 1, n_11006);
    bool r_14689;
    int32_t r_14690;
    int64_t r_14691;
    bool loop_while_14692;
    int32_t r_14693;
    int64_t n_14694;
    
    loop_while_14692 = loop_cond_14688;
    r_14693 = 0;
    n_14694 = n_11006;
    while (loop_while_14692) {
        int64_t n_14695 = sdiv64(n_14694, (int64_t) 2);
        int32_t r_14696 = add32(1, r_14693);
        bool loop_cond_14697 = slt64((int64_t) 1, n_14695);
        bool loop_while_tmp_18731 = loop_cond_14697;
        int32_t r_tmp_18732 = r_14696;
        int64_t n_tmp_18733 = n_14695;
        
        loop_while_14692 = loop_while_tmp_18731;
        r_14693 = r_tmp_18732;
        n_14694 = n_tmp_18733;
    }
    r_14689 = loop_while_14692;
    r_14690 = r_14693;
    r_14691 = n_14694;
    
    int64_t i32_res_14816 = sext_i32_i64(r_14690);
    int64_t iota_arg_14817 = sdiv64(n_11006, (int64_t) 2);
    bool bounds_invalid_upwards_14818 = slt64(iota_arg_14817, (int64_t) 0);
    bool valid_14819 = !bounds_invalid_upwards_14818;
    bool range_valid_c_14820;
    
    if (!valid_14819) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) iota_arg_14817, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:34:14-34\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_14822 = slt64(i32_res_14816, (int64_t) 0);
    bool valid_14823 = !bounds_invalid_upwards_14822;
    bool range_valid_c_14824;
    
    if (!valid_14823) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_14816, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17106 = (int64_t) 4 * i32_res_14816;
    int64_t bytes_17107 = smax64((int64_t) 0, binop_y_17106);
    
    if (mem_17108_cached_sizze_19138 < bytes_17107) {
        err = lexical_realloc(&ctx->error, &mem_17108,
                              &mem_17108_cached_sizze_19138, bytes_17107);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16553 = 0; i_16553 < r_14690; i_16553++) {
        int64_t i_16336 = sext_i32_i64(i_16553);
        bool nonnegative_14831 = sle32(0, i_16553);
        bool nonzzero_cert_14832;
        
        if (!nonnegative_14831) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_14833 = shl32(1, i_16553);
        
        ((int32_t *) mem_17108)[i_16336] = defunc_0_f_res_14833;
    }
    
    bool loop_nonempty_14834 = slt64((int64_t) 0, i32_res_14816);
    int32_t i64_res_14835 = sext_i64_i32(n_11006);
    int32_t y_14836 = sdiv32(i64_res_14835, 2);
    int64_t conc_tmp_14837 = iota_arg_14817 + iota_arg_14817;
    bool dim_match_14838 = n_11006 == conc_tmp_14837;
    bool loop_not_taken_14839 = !loop_nonempty_14834;
    bool protect_assert_disj_14840 = dim_match_14838 || loop_not_taken_14839;
    bool empty_or_match_cert_14841;
    
    if (!protect_assert_disj_14840) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_14842;
    
    if (!protect_assert_disj_14840) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool r_15761;
    int32_t r_15762;
    int64_t r_15763;
    bool loop_while_15764;
    int32_t r_15765;
    int64_t n_15766;
    
    loop_while_15764 = loop_cond_14688;
    r_15765 = 0;
    n_15766 = n_11006;
    while (loop_while_15764) {
        int64_t n_15767 = sdiv64(n_15766, (int64_t) 2);
        int32_t r_15768 = add32(1, r_15765);
        bool loop_cond_15769 = slt64((int64_t) 1, n_15767);
        bool loop_while_tmp_18735 = loop_cond_15769;
        int32_t r_tmp_18736 = r_15768;
        int64_t n_tmp_18737 = n_15767;
        
        loop_while_15764 = loop_while_tmp_18735;
        r_15765 = r_tmp_18736;
        n_15766 = n_tmp_18737;
    }
    r_15761 = loop_while_15764;
    r_15762 = r_15765;
    r_15763 = n_15766;
    
    int64_t i32_res_15888 = sext_i32_i64(r_15762);
    bool loop_nonempty_15906 = slt64((int64_t) 0, i32_res_15888);
    bool loop_not_taken_15911 = !loop_nonempty_15906;
    bool protect_assert_disj_15912 = dim_match_14838 || loop_not_taken_15911;
    bool empty_or_match_cert_15914;
    
    if (!protect_assert_disj_15912) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15913;
    
    if (!protect_assert_disj_15912) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15894 = slt64(i32_res_15888, (int64_t) 0);
    bool valid_15895 = !bounds_invalid_upwards_15894;
    bool range_valid_c_15896;
    
    if (!valid_15895) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15888, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17121 = (int64_t) 4 * i32_res_15888;
    int64_t bytes_17122 = smax64((int64_t) 0, binop_y_17121);
    
    if (mem_17123_cached_sizze_19139 < bytes_17122) {
        err = lexical_realloc(&ctx->error, &mem_17123,
                              &mem_17123_cached_sizze_19139, bytes_17122);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16554 = 0; i_16554 < r_15762; i_16554++) {
        int64_t i_16340 = sext_i32_i64(i_16554);
        bool nonnegative_15903 = sle32(0, i_16554);
        bool nonzzero_cert_15904;
        
        if (!nonnegative_15903) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15905 = shl32(1, i_16554);
        
        ((int32_t *) mem_17123)[i_16340] = defunc_0_f_res_15905;
    }
    
    bool r_15225;
    int32_t r_15226;
    int64_t r_15227;
    bool loop_while_15228;
    int32_t r_15229;
    int64_t n_15230;
    
    loop_while_15228 = loop_cond_14688;
    r_15229 = 0;
    n_15230 = n_11006;
    while (loop_while_15228) {
        int64_t n_15231 = sdiv64(n_15230, (int64_t) 2);
        int32_t r_15232 = add32(1, r_15229);
        bool loop_cond_15233 = slt64((int64_t) 1, n_15231);
        bool loop_while_tmp_18739 = loop_cond_15233;
        int32_t r_tmp_18740 = r_15232;
        int64_t n_tmp_18741 = n_15231;
        
        loop_while_15228 = loop_while_tmp_18739;
        r_15229 = r_tmp_18740;
        n_15230 = n_tmp_18741;
    }
    r_15225 = loop_while_15228;
    r_15226 = r_15229;
    r_15227 = n_15230;
    
    int64_t i32_res_15352 = sext_i32_i64(r_15226);
    bool loop_nonempty_15370 = slt64((int64_t) 0, i32_res_15352);
    bool loop_not_taken_15375 = !loop_nonempty_15370;
    bool protect_assert_disj_15376 = dim_match_14838 || loop_not_taken_15375;
    bool empty_or_match_cert_15378;
    
    if (!protect_assert_disj_15376) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15377;
    
    if (!protect_assert_disj_15376) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #4  sample_programs/fft.fut:38:18-38\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15358 = slt64(i32_res_15352, (int64_t) 0);
    bool valid_15359 = !bounds_invalid_upwards_15358;
    bool range_valid_c_15360;
    
    if (!valid_15359) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15352, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17136 = (int64_t) 4 * i32_res_15352;
    int64_t bytes_17137 = smax64((int64_t) 0, binop_y_17136);
    
    if (mem_17138_cached_sizze_19140 < bytes_17137) {
        err = lexical_realloc(&ctx->error, &mem_17138,
                              &mem_17138_cached_sizze_19140, bytes_17137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16555 = 0; i_16555 < r_15226; i_16555++) {
        int64_t i_16344 = sext_i32_i64(i_16555);
        bool nonnegative_15367 = sle32(0, i_16555);
        bool nonzzero_cert_15368;
        
        if (!nonnegative_15367) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15369 = shl32(1, i_16555);
        
        ((int32_t *) mem_17138)[i_16344] = defunc_0_f_res_15369;
    }
    
    int64_t binop_x_17151 = n_11006 * m_11007;
    int64_t binop_y_17152 = (int64_t) 4 * binop_x_17151;
    int64_t bytes_17153 = smax64((int64_t) 0, binop_y_17152);
    
    if (mem_17154_cached_sizze_19141 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17154,
                              &mem_17154_cached_sizze_19141, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17158_cached_sizze_19142 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17158,
                              &mem_17158_cached_sizze_19142, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17162_cached_sizze_19143 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17162,
                              &mem_17162_cached_sizze_19143, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17166_cached_sizze_19144 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17166,
                              &mem_17166_cached_sizze_19144, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17170_cached_sizze_19145 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17170,
                              &mem_17170_cached_sizze_19145, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17174_cached_sizze_19146 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_17174,
                              &mem_17174_cached_sizze_19146, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t binop_y_17235 = (int64_t) 4 * n_11006;
    int64_t bytes_17236 = smax64((int64_t) 0, binop_y_17235);
    
    if (memblock_alloc(ctx, &mem_17237, bytes_17236, "mem_17237")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17240, bytes_17236, "mem_17240")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17243, bytes_17236, "mem_17243")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17246, bytes_17236, "mem_17246")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17249, bytes_17236, "mem_17249")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17252, bytes_17236, "mem_17252")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17255, bytes_17236, "mem_17255")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17258, bytes_17236, "mem_17258")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17329, bytes_17236, "mem_17329")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17332, bytes_17236, "mem_17332")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17403, bytes_17236, "mem_17403")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17406, bytes_17236, "mem_17406")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16382 = 0; i_16382 < m_11007; i_16382++) {
        for (int64_t i_18749 = 0; i_18749 < n_11006; i_18749++) {
            float tmp_18750;
            
            tmp_18750 = ((float *) mem_16723)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18749 * m_11007];
            ((float *) mem_17237.mem)[i_18749] = tmp_18750;
        }
        for (int64_t i_18751 = 0; i_18751 < n_11006; i_18751++) {
            float tmp_18752;
            
            tmp_18752 = ((float *) mem_16727)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18751 * m_11007];
            ((float *) mem_17240.mem)[i_18751] = tmp_18752;
        }
        for (int64_t i_18753 = 0; i_18753 < n_11006; i_18753++) {
            float tmp_18754;
            
            tmp_18754 = ((float *) mem_16715)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18753 * m_11007];
            ((float *) mem_17243.mem)[i_18753] = tmp_18754;
        }
        for (int64_t i_18755 = 0; i_18755 < n_11006; i_18755++) {
            float tmp_18756;
            
            tmp_18756 = ((float *) mem_16719)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18755 * m_11007];
            ((float *) mem_17246.mem)[i_18755] = tmp_18756;
        }
        for (int64_t i_18757 = 0; i_18757 < n_11006; i_18757++) {
            float tmp_18758;
            
            tmp_18758 = ((float *) mem_16707)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18757 * m_11007];
            ((float *) mem_17249.mem)[i_18757] = tmp_18758;
        }
        for (int64_t i_18759 = 0; i_18759 < n_11006; i_18759++) {
            float tmp_18760;
            
            tmp_18760 = ((float *) mem_16711)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18759 * m_11007];
            ((float *) mem_17252.mem)[i_18759] = tmp_18760;
        }
        for (int64_t i_18761 = 0; i_18761 < n_11006; i_18761++) {
            float tmp_18762;
            
            tmp_18762 = ((float *) mem_16723)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18761 * m_11007];
            ((float *) mem_17255.mem)[i_18761] = tmp_18762;
        }
        for (int64_t i_18763 = 0; i_18763 < n_11006; i_18763++) {
            float tmp_18764;
            
            tmp_18764 = ((float *) mem_16727)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18763 * m_11007];
            ((float *) mem_17258.mem)[i_18763] = tmp_18764;
        }
        
        int64_t ext_17326;
        int64_t ext_17325;
        int64_t ext_17324;
        int64_t ext_17323;
        int64_t ext_17322;
        int64_t ext_17321;
        int64_t ext_17320;
        int64_t ext_17319;
        int64_t ext_17318;
        int64_t ext_17317;
        int64_t ext_17316;
        int64_t ext_17315;
        int64_t ext_17314;
        int64_t ext_17313;
        int64_t ext_17312;
        int64_t ext_17311;
        int64_t ctx_param_ext_17259;
        int64_t ctx_param_ext_17260;
        int64_t ctx_param_ext_17261;
        int64_t ctx_param_ext_17262;
        int64_t ctx_param_ext_17264;
        int64_t ctx_param_ext_17265;
        int64_t ctx_param_ext_17266;
        int64_t ctx_param_ext_17267;
        int64_t ctx_param_ext_17269;
        int64_t ctx_param_ext_17270;
        int64_t ctx_param_ext_17271;
        int64_t ctx_param_ext_17272;
        int64_t ctx_param_ext_17274;
        int64_t ctx_param_ext_17275;
        int64_t ctx_param_ext_17276;
        int64_t ctx_param_ext_17277;
        
        ctx_param_ext_17259 = n_11006;
        ctx_param_ext_17260 = (int64_t) 0;
        ctx_param_ext_17261 = (int64_t) 1;
        ctx_param_ext_17262 = n_11006;
        ctx_param_ext_17264 = n_11006;
        ctx_param_ext_17265 = (int64_t) 0;
        ctx_param_ext_17266 = (int64_t) 1;
        ctx_param_ext_17267 = n_11006;
        ctx_param_ext_17269 = n_11006;
        ctx_param_ext_17270 = (int64_t) 0;
        ctx_param_ext_17271 = (int64_t) 1;
        ctx_param_ext_17272 = n_11006;
        ctx_param_ext_17274 = n_11006;
        ctx_param_ext_17275 = (int64_t) 0;
        ctx_param_ext_17276 = (int64_t) 1;
        ctx_param_ext_17277 = n_11006;
        if (memblock_set(ctx, &mem_param_17263, &mem_17237, "mem_17237") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17268, &mem_17240, "mem_17240") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17273, &mem_17255, "mem_17255") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17278, &mem_17258, "mem_17258") != 0)
            return 1;
        
        int32_t ns_14858;
        
        for (int64_t i_14853 = 0; i_14853 < i32_res_14816; i_14853++) {
            ns_14858 = ((int32_t *) mem_17108)[i_14853];
            
            bool zzero_14864 = ns_14858 == 0;
            bool nonzzero_14865 = !zzero_14864;
            bool nonzzero_cert_14866;
            
            if (!nonzzero_14865) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_14862 = mul32(2, ns_14858);
            float i32_res_14863 = sitofp_i32_f32(i32_arg_14862);
            
            for (int64_t write_iter_16346 = 0; write_iter_16346 <
                 iota_arg_14817; write_iter_16346++) {
                int32_t defunc_0_f_res_14861 = sext_i64_i32(write_iter_16346);
                int32_t i32_arg_14874 = smod32(defunc_0_f_res_14861, ns_14858);
                float i32_res_14875 = sitofp_i32_f32(i32_arg_14874);
                float zt_res_14876 = -6.2831855F * i32_res_14875;
                float zs_res_14877 = zt_res_14876 / i32_res_14863;
                int64_t j_14878 = sext_i32_i64(defunc_0_f_res_14861);
                bool x_14879 = sle64((int64_t) 0, j_14878);
                bool y_14880 = slt64(j_14878, n_11006);
                bool bounds_check_14881 = x_14879 && y_14880;
                bool index_certs_14882;
                
                if (!bounds_check_14881) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_14878,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_14883;
                
                defunc_0_f_res_14883 =
                    ((float *) mem_param_17263.mem)[ctx_param_ext_17260 +
                                                    j_14878 *
                                                    ctx_param_ext_17261];
                
                float defunc_0_f_res_14884;
                
                defunc_0_f_res_14884 =
                    ((float *) mem_param_17268.mem)[ctx_param_ext_17265 +
                                                    j_14878 *
                                                    ctx_param_ext_17266];
                
                float sin_res_14885;
                
                sin_res_14885 = futrts_sin32(zs_res_14877);
                
                float cos_res_14886;
                
                cos_res_14886 = futrts_cos32(zs_res_14877);
                
                int32_t i_14887 = add32(y_14836, defunc_0_f_res_14861);
                int64_t i_14888 = sext_i32_i64(i_14887);
                bool x_14889 = sle64((int64_t) 0, i_14888);
                bool y_14890 = slt64(i_14888, n_11006);
                bool bounds_check_14891 = x_14889 && y_14890;
                bool index_certs_14892;
                
                if (!bounds_check_14891) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_14888,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_14893;
                
                zt_arg_14893 =
                    ((float *) mem_param_17263.mem)[ctx_param_ext_17260 +
                                                    i_14888 *
                                                    ctx_param_ext_17261];
                
                float zt_arg_14894;
                
                zt_arg_14894 =
                    ((float *) mem_param_17268.mem)[ctx_param_ext_17265 +
                                                    i_14888 *
                                                    ctx_param_ext_17266];
                
                float zt_res_14895 = sin_res_14885 * zt_arg_14894;
                float zt_res_14896 = cos_res_14886 * zt_arg_14893;
                float zm_res_14897 = zt_res_14896 - zt_res_14895;
                float zt_res_14898 = sin_res_14885 * zt_arg_14893;
                float zt_res_14899 = cos_res_14886 * zt_arg_14894;
                float zp_res_14900 = zt_res_14898 + zt_res_14899;
                float zp_res_14901 = defunc_0_f_res_14883 + zm_res_14897;
                float zp_res_14902 = defunc_0_f_res_14884 + zp_res_14900;
                float zm_res_14903 = defunc_0_f_res_14883 - zm_res_14897;
                float zm_res_14904 = defunc_0_f_res_14884 - zp_res_14900;
                int32_t x_14905 = sdiv32(defunc_0_f_res_14861, ns_14858);
                int32_t x_14906 = mul32(ns_14858, x_14905);
                int32_t x_14907 = mul32(2, x_14906);
                int32_t idxD_14908 = add32(i32_arg_14874, x_14907);
                int64_t i32_res_14909 = sext_i32_i64(idxD_14908);
                int32_t i32_arg_14910 = add32(ns_14858, idxD_14908);
                int64_t i32_res_14911 = sext_i32_i64(i32_arg_14910);
                
                if (sle64((int64_t) 0, i32_res_14909) && slt64(i32_res_14909,
                                                               n_11006)) {
                    ((float *) mem_param_17273.mem)[ctx_param_ext_17270 +
                                                    i32_res_14909 *
                                                    ctx_param_ext_17271] =
                        zp_res_14901;
                }
                if (sle64((int64_t) 0, i32_res_14911) && slt64(i32_res_14911,
                                                               n_11006)) {
                    ((float *) mem_param_17273.mem)[ctx_param_ext_17270 +
                                                    i32_res_14911 *
                                                    ctx_param_ext_17271] =
                        zm_res_14903;
                }
                if (sle64((int64_t) 0, i32_res_14909) && slt64(i32_res_14909,
                                                               n_11006)) {
                    ((float *) mem_param_17278.mem)[ctx_param_ext_17275 +
                                                    i32_res_14909 *
                                                    ctx_param_ext_17276] =
                        zp_res_14902;
                }
                if (sle64((int64_t) 0, i32_res_14911) && slt64(i32_res_14911,
                                                               n_11006)) {
                    ((float *) mem_param_17278.mem)[ctx_param_ext_17275 +
                                                    i32_res_14911 *
                                                    ctx_param_ext_17276] =
                        zm_res_14904;
                }
            }
            
            int64_t ctx_param_ext_tmp_18765 = ctx_param_ext_17269;
            int64_t ctx_param_ext_tmp_18766 = ctx_param_ext_17270;
            int64_t ctx_param_ext_tmp_18767 = ctx_param_ext_17271;
            int64_t ctx_param_ext_tmp_18768 = ctx_param_ext_17272;
            int64_t ctx_param_ext_tmp_18769 = ctx_param_ext_17274;
            int64_t ctx_param_ext_tmp_18770 = ctx_param_ext_17275;
            int64_t ctx_param_ext_tmp_18771 = ctx_param_ext_17276;
            int64_t ctx_param_ext_tmp_18772 = ctx_param_ext_17277;
            int64_t ctx_param_ext_tmp_18773 = ctx_param_ext_17259;
            int64_t ctx_param_ext_tmp_18774 = ctx_param_ext_17260;
            int64_t ctx_param_ext_tmp_18775 = ctx_param_ext_17261;
            int64_t ctx_param_ext_tmp_18776 = ctx_param_ext_17262;
            int64_t ctx_param_ext_tmp_18777 = ctx_param_ext_17264;
            int64_t ctx_param_ext_tmp_18778 = ctx_param_ext_17265;
            int64_t ctx_param_ext_tmp_18779 = ctx_param_ext_17266;
            int64_t ctx_param_ext_tmp_18780 = ctx_param_ext_17267;
            
            if (memblock_set(ctx, &mem_param_tmp_18781, &mem_param_17273,
                             "mem_param_17273") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18782, &mem_param_17278,
                             "mem_param_17278") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18783, &mem_param_17263,
                             "mem_param_17263") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18784, &mem_param_17268,
                             "mem_param_17268") != 0)
                return 1;
            ctx_param_ext_17259 = ctx_param_ext_tmp_18765;
            ctx_param_ext_17260 = ctx_param_ext_tmp_18766;
            ctx_param_ext_17261 = ctx_param_ext_tmp_18767;
            ctx_param_ext_17262 = ctx_param_ext_tmp_18768;
            ctx_param_ext_17264 = ctx_param_ext_tmp_18769;
            ctx_param_ext_17265 = ctx_param_ext_tmp_18770;
            ctx_param_ext_17266 = ctx_param_ext_tmp_18771;
            ctx_param_ext_17267 = ctx_param_ext_tmp_18772;
            ctx_param_ext_17269 = ctx_param_ext_tmp_18773;
            ctx_param_ext_17270 = ctx_param_ext_tmp_18774;
            ctx_param_ext_17271 = ctx_param_ext_tmp_18775;
            ctx_param_ext_17272 = ctx_param_ext_tmp_18776;
            ctx_param_ext_17274 = ctx_param_ext_tmp_18777;
            ctx_param_ext_17275 = ctx_param_ext_tmp_18778;
            ctx_param_ext_17276 = ctx_param_ext_tmp_18779;
            ctx_param_ext_17277 = ctx_param_ext_tmp_18780;
            if (memblock_set(ctx, &mem_param_17263, &mem_param_tmp_18781,
                             "mem_param_tmp_18781") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17268, &mem_param_tmp_18782,
                             "mem_param_tmp_18782") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17273, &mem_param_tmp_18783,
                             "mem_param_tmp_18783") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17278, &mem_param_tmp_18784,
                             "mem_param_tmp_18784") != 0)
                return 1;
        }
        ext_17326 = ctx_param_ext_17259;
        ext_17325 = ctx_param_ext_17260;
        ext_17324 = ctx_param_ext_17261;
        ext_17323 = ctx_param_ext_17262;
        ext_17322 = ctx_param_ext_17264;
        ext_17321 = ctx_param_ext_17265;
        ext_17320 = ctx_param_ext_17266;
        ext_17319 = ctx_param_ext_17267;
        ext_17318 = ctx_param_ext_17269;
        ext_17317 = ctx_param_ext_17270;
        ext_17316 = ctx_param_ext_17271;
        ext_17315 = ctx_param_ext_17272;
        ext_17314 = ctx_param_ext_17274;
        ext_17313 = ctx_param_ext_17275;
        ext_17312 = ctx_param_ext_17276;
        ext_17311 = ctx_param_ext_17277;
        if (memblock_set(ctx, &ext_mem_17310, &mem_param_17263,
                         "mem_param_17263") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17309, &mem_param_17268,
                         "mem_param_17268") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17308, &mem_param_17273,
                         "mem_param_17273") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17307, &mem_param_17278,
                         "mem_param_17278") != 0)
            return 1;
        for (int64_t i_18791 = 0; i_18791 < n_11006; i_18791++) {
            float tmp_18792;
            
            tmp_18792 = ((float *) mem_16715)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18791 * m_11007];
            ((float *) mem_17329.mem)[i_18791] = tmp_18792;
        }
        for (int64_t i_18793 = 0; i_18793 < n_11006; i_18793++) {
            float tmp_18794;
            
            tmp_18794 = ((float *) mem_16719)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18793 * m_11007];
            ((float *) mem_17332.mem)[i_18793] = tmp_18794;
        }
        
        int64_t ext_17400;
        int64_t ext_17399;
        int64_t ext_17398;
        int64_t ext_17397;
        int64_t ext_17396;
        int64_t ext_17395;
        int64_t ext_17394;
        int64_t ext_17393;
        int64_t ext_17392;
        int64_t ext_17391;
        int64_t ext_17390;
        int64_t ext_17389;
        int64_t ext_17388;
        int64_t ext_17387;
        int64_t ext_17386;
        int64_t ext_17385;
        int64_t ctx_param_ext_17333;
        int64_t ctx_param_ext_17334;
        int64_t ctx_param_ext_17335;
        int64_t ctx_param_ext_17336;
        int64_t ctx_param_ext_17338;
        int64_t ctx_param_ext_17339;
        int64_t ctx_param_ext_17340;
        int64_t ctx_param_ext_17341;
        int64_t ctx_param_ext_17343;
        int64_t ctx_param_ext_17344;
        int64_t ctx_param_ext_17345;
        int64_t ctx_param_ext_17346;
        int64_t ctx_param_ext_17348;
        int64_t ctx_param_ext_17349;
        int64_t ctx_param_ext_17350;
        int64_t ctx_param_ext_17351;
        
        ctx_param_ext_17333 = n_11006;
        ctx_param_ext_17334 = (int64_t) 0;
        ctx_param_ext_17335 = (int64_t) 1;
        ctx_param_ext_17336 = n_11006;
        ctx_param_ext_17338 = n_11006;
        ctx_param_ext_17339 = (int64_t) 0;
        ctx_param_ext_17340 = (int64_t) 1;
        ctx_param_ext_17341 = n_11006;
        ctx_param_ext_17343 = n_11006;
        ctx_param_ext_17344 = (int64_t) 0;
        ctx_param_ext_17345 = (int64_t) 1;
        ctx_param_ext_17346 = n_11006;
        ctx_param_ext_17348 = n_11006;
        ctx_param_ext_17349 = (int64_t) 0;
        ctx_param_ext_17350 = (int64_t) 1;
        ctx_param_ext_17351 = n_11006;
        if (memblock_set(ctx, &mem_param_17337, &mem_17243, "mem_17243") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17342, &mem_17246, "mem_17246") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17347, &mem_17329, "mem_17329") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17352, &mem_17332, "mem_17332") != 0)
            return 1;
        
        int32_t ns_15394;
        
        for (int64_t i_15389 = 0; i_15389 < i32_res_15352; i_15389++) {
            ns_15394 = ((int32_t *) mem_17138)[i_15389];
            
            bool zzero_15400 = ns_15394 == 0;
            bool nonzzero_15401 = !zzero_15400;
            bool nonzzero_cert_15402;
            
            if (!nonzzero_15401) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15398 = mul32(2, ns_15394);
            float i32_res_15399 = sitofp_i32_f32(i32_arg_15398);
            
            for (int64_t write_iter_16354 = 0; write_iter_16354 <
                 iota_arg_14817; write_iter_16354++) {
                int32_t defunc_0_f_res_15397 = sext_i64_i32(write_iter_16354);
                int32_t i32_arg_15410 = smod32(defunc_0_f_res_15397, ns_15394);
                float i32_res_15411 = sitofp_i32_f32(i32_arg_15410);
                float zt_res_15412 = -6.2831855F * i32_res_15411;
                float zs_res_15413 = zt_res_15412 / i32_res_15399;
                int64_t j_15414 = sext_i32_i64(defunc_0_f_res_15397);
                bool x_15415 = sle64((int64_t) 0, j_15414);
                bool y_15416 = slt64(j_15414, n_11006);
                bool bounds_check_15417 = x_15415 && y_15416;
                bool index_certs_15418;
                
                if (!bounds_check_15417) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15414,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15419;
                
                defunc_0_f_res_15419 =
                    ((float *) mem_param_17337.mem)[ctx_param_ext_17334 +
                                                    j_15414 *
                                                    ctx_param_ext_17335];
                
                float defunc_0_f_res_15420;
                
                defunc_0_f_res_15420 =
                    ((float *) mem_param_17342.mem)[ctx_param_ext_17339 +
                                                    j_15414 *
                                                    ctx_param_ext_17340];
                
                float sin_res_15421;
                
                sin_res_15421 = futrts_sin32(zs_res_15413);
                
                float cos_res_15422;
                
                cos_res_15422 = futrts_cos32(zs_res_15413);
                
                int32_t i_15423 = add32(y_14836, defunc_0_f_res_15397);
                int64_t i_15424 = sext_i32_i64(i_15423);
                bool x_15425 = sle64((int64_t) 0, i_15424);
                bool y_15426 = slt64(i_15424, n_11006);
                bool bounds_check_15427 = x_15425 && y_15426;
                bool index_certs_15428;
                
                if (!bounds_check_15427) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15424,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15429;
                
                zt_arg_15429 =
                    ((float *) mem_param_17337.mem)[ctx_param_ext_17334 +
                                                    i_15424 *
                                                    ctx_param_ext_17335];
                
                float zt_arg_15430;
                
                zt_arg_15430 =
                    ((float *) mem_param_17342.mem)[ctx_param_ext_17339 +
                                                    i_15424 *
                                                    ctx_param_ext_17340];
                
                float zt_res_15431 = sin_res_15421 * zt_arg_15430;
                float zt_res_15432 = cos_res_15422 * zt_arg_15429;
                float zm_res_15433 = zt_res_15432 - zt_res_15431;
                float zt_res_15434 = sin_res_15421 * zt_arg_15429;
                float zt_res_15435 = cos_res_15422 * zt_arg_15430;
                float zp_res_15436 = zt_res_15434 + zt_res_15435;
                float zp_res_15437 = defunc_0_f_res_15419 + zm_res_15433;
                float zp_res_15438 = defunc_0_f_res_15420 + zp_res_15436;
                float zm_res_15439 = defunc_0_f_res_15419 - zm_res_15433;
                float zm_res_15440 = defunc_0_f_res_15420 - zp_res_15436;
                int32_t x_15441 = sdiv32(defunc_0_f_res_15397, ns_15394);
                int32_t x_15442 = mul32(ns_15394, x_15441);
                int32_t x_15443 = mul32(2, x_15442);
                int32_t idxD_15444 = add32(i32_arg_15410, x_15443);
                int64_t i32_res_15445 = sext_i32_i64(idxD_15444);
                int32_t i32_arg_15446 = add32(ns_15394, idxD_15444);
                int64_t i32_res_15447 = sext_i32_i64(i32_arg_15446);
                
                if (sle64((int64_t) 0, i32_res_15445) && slt64(i32_res_15445,
                                                               n_11006)) {
                    ((float *) mem_param_17347.mem)[ctx_param_ext_17344 +
                                                    i32_res_15445 *
                                                    ctx_param_ext_17345] =
                        zp_res_15437;
                }
                if (sle64((int64_t) 0, i32_res_15447) && slt64(i32_res_15447,
                                                               n_11006)) {
                    ((float *) mem_param_17347.mem)[ctx_param_ext_17344 +
                                                    i32_res_15447 *
                                                    ctx_param_ext_17345] =
                        zm_res_15439;
                }
                if (sle64((int64_t) 0, i32_res_15445) && slt64(i32_res_15445,
                                                               n_11006)) {
                    ((float *) mem_param_17352.mem)[ctx_param_ext_17349 +
                                                    i32_res_15445 *
                                                    ctx_param_ext_17350] =
                        zp_res_15438;
                }
                if (sle64((int64_t) 0, i32_res_15447) && slt64(i32_res_15447,
                                                               n_11006)) {
                    ((float *) mem_param_17352.mem)[ctx_param_ext_17349 +
                                                    i32_res_15447 *
                                                    ctx_param_ext_17350] =
                        zm_res_15440;
                }
            }
            
            int64_t ctx_param_ext_tmp_18795 = ctx_param_ext_17343;
            int64_t ctx_param_ext_tmp_18796 = ctx_param_ext_17344;
            int64_t ctx_param_ext_tmp_18797 = ctx_param_ext_17345;
            int64_t ctx_param_ext_tmp_18798 = ctx_param_ext_17346;
            int64_t ctx_param_ext_tmp_18799 = ctx_param_ext_17348;
            int64_t ctx_param_ext_tmp_18800 = ctx_param_ext_17349;
            int64_t ctx_param_ext_tmp_18801 = ctx_param_ext_17350;
            int64_t ctx_param_ext_tmp_18802 = ctx_param_ext_17351;
            int64_t ctx_param_ext_tmp_18803 = ctx_param_ext_17333;
            int64_t ctx_param_ext_tmp_18804 = ctx_param_ext_17334;
            int64_t ctx_param_ext_tmp_18805 = ctx_param_ext_17335;
            int64_t ctx_param_ext_tmp_18806 = ctx_param_ext_17336;
            int64_t ctx_param_ext_tmp_18807 = ctx_param_ext_17338;
            int64_t ctx_param_ext_tmp_18808 = ctx_param_ext_17339;
            int64_t ctx_param_ext_tmp_18809 = ctx_param_ext_17340;
            int64_t ctx_param_ext_tmp_18810 = ctx_param_ext_17341;
            
            if (memblock_set(ctx, &mem_param_tmp_18811, &mem_param_17347,
                             "mem_param_17347") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18812, &mem_param_17352,
                             "mem_param_17352") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18813, &mem_param_17337,
                             "mem_param_17337") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18814, &mem_param_17342,
                             "mem_param_17342") != 0)
                return 1;
            ctx_param_ext_17333 = ctx_param_ext_tmp_18795;
            ctx_param_ext_17334 = ctx_param_ext_tmp_18796;
            ctx_param_ext_17335 = ctx_param_ext_tmp_18797;
            ctx_param_ext_17336 = ctx_param_ext_tmp_18798;
            ctx_param_ext_17338 = ctx_param_ext_tmp_18799;
            ctx_param_ext_17339 = ctx_param_ext_tmp_18800;
            ctx_param_ext_17340 = ctx_param_ext_tmp_18801;
            ctx_param_ext_17341 = ctx_param_ext_tmp_18802;
            ctx_param_ext_17343 = ctx_param_ext_tmp_18803;
            ctx_param_ext_17344 = ctx_param_ext_tmp_18804;
            ctx_param_ext_17345 = ctx_param_ext_tmp_18805;
            ctx_param_ext_17346 = ctx_param_ext_tmp_18806;
            ctx_param_ext_17348 = ctx_param_ext_tmp_18807;
            ctx_param_ext_17349 = ctx_param_ext_tmp_18808;
            ctx_param_ext_17350 = ctx_param_ext_tmp_18809;
            ctx_param_ext_17351 = ctx_param_ext_tmp_18810;
            if (memblock_set(ctx, &mem_param_17337, &mem_param_tmp_18811,
                             "mem_param_tmp_18811") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17342, &mem_param_tmp_18812,
                             "mem_param_tmp_18812") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17347, &mem_param_tmp_18813,
                             "mem_param_tmp_18813") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17352, &mem_param_tmp_18814,
                             "mem_param_tmp_18814") != 0)
                return 1;
        }
        ext_17400 = ctx_param_ext_17333;
        ext_17399 = ctx_param_ext_17334;
        ext_17398 = ctx_param_ext_17335;
        ext_17397 = ctx_param_ext_17336;
        ext_17396 = ctx_param_ext_17338;
        ext_17395 = ctx_param_ext_17339;
        ext_17394 = ctx_param_ext_17340;
        ext_17393 = ctx_param_ext_17341;
        ext_17392 = ctx_param_ext_17343;
        ext_17391 = ctx_param_ext_17344;
        ext_17390 = ctx_param_ext_17345;
        ext_17389 = ctx_param_ext_17346;
        ext_17388 = ctx_param_ext_17348;
        ext_17387 = ctx_param_ext_17349;
        ext_17386 = ctx_param_ext_17350;
        ext_17385 = ctx_param_ext_17351;
        if (memblock_set(ctx, &ext_mem_17384, &mem_param_17337,
                         "mem_param_17337") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17383, &mem_param_17342,
                         "mem_param_17342") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17382, &mem_param_17347,
                         "mem_param_17347") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17381, &mem_param_17352,
                         "mem_param_17352") != 0)
            return 1;
        for (int64_t i_18821 = 0; i_18821 < n_11006; i_18821++) {
            float tmp_18822;
            
            tmp_18822 = ((float *) mem_16707)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18821 * m_11007];
            ((float *) mem_17403.mem)[i_18821] = tmp_18822;
        }
        for (int64_t i_18823 = 0; i_18823 < n_11006; i_18823++) {
            float tmp_18824;
            
            tmp_18824 = ((float *) mem_16711)[(int64_t) 0 + i_16382 *
                                              (int64_t) 1 + i_18823 * m_11007];
            ((float *) mem_17406.mem)[i_18823] = tmp_18824;
        }
        
        int64_t ext_17474;
        int64_t ext_17473;
        int64_t ext_17472;
        int64_t ext_17471;
        int64_t ext_17470;
        int64_t ext_17469;
        int64_t ext_17468;
        int64_t ext_17467;
        int64_t ext_17466;
        int64_t ext_17465;
        int64_t ext_17464;
        int64_t ext_17463;
        int64_t ext_17462;
        int64_t ext_17461;
        int64_t ext_17460;
        int64_t ext_17459;
        int64_t ctx_param_ext_17407;
        int64_t ctx_param_ext_17408;
        int64_t ctx_param_ext_17409;
        int64_t ctx_param_ext_17410;
        int64_t ctx_param_ext_17412;
        int64_t ctx_param_ext_17413;
        int64_t ctx_param_ext_17414;
        int64_t ctx_param_ext_17415;
        int64_t ctx_param_ext_17417;
        int64_t ctx_param_ext_17418;
        int64_t ctx_param_ext_17419;
        int64_t ctx_param_ext_17420;
        int64_t ctx_param_ext_17422;
        int64_t ctx_param_ext_17423;
        int64_t ctx_param_ext_17424;
        int64_t ctx_param_ext_17425;
        
        ctx_param_ext_17407 = n_11006;
        ctx_param_ext_17408 = (int64_t) 0;
        ctx_param_ext_17409 = (int64_t) 1;
        ctx_param_ext_17410 = n_11006;
        ctx_param_ext_17412 = n_11006;
        ctx_param_ext_17413 = (int64_t) 0;
        ctx_param_ext_17414 = (int64_t) 1;
        ctx_param_ext_17415 = n_11006;
        ctx_param_ext_17417 = n_11006;
        ctx_param_ext_17418 = (int64_t) 0;
        ctx_param_ext_17419 = (int64_t) 1;
        ctx_param_ext_17420 = n_11006;
        ctx_param_ext_17422 = n_11006;
        ctx_param_ext_17423 = (int64_t) 0;
        ctx_param_ext_17424 = (int64_t) 1;
        ctx_param_ext_17425 = n_11006;
        if (memblock_set(ctx, &mem_param_17411, &mem_17249, "mem_17249") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17416, &mem_17252, "mem_17252") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17421, &mem_17403, "mem_17403") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17426, &mem_17406, "mem_17406") != 0)
            return 1;
        
        int32_t ns_15930;
        
        for (int64_t i_15925 = 0; i_15925 < i32_res_15888; i_15925++) {
            ns_15930 = ((int32_t *) mem_17123)[i_15925];
            
            bool zzero_15936 = ns_15930 == 0;
            bool nonzzero_15937 = !zzero_15936;
            bool nonzzero_cert_15938;
            
            if (!nonzzero_15937) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15934 = mul32(2, ns_15930);
            float i32_res_15935 = sitofp_i32_f32(i32_arg_15934);
            
            for (int64_t write_iter_16362 = 0; write_iter_16362 <
                 iota_arg_14817; write_iter_16362++) {
                int32_t defunc_0_f_res_15933 = sext_i64_i32(write_iter_16362);
                int32_t i32_arg_15946 = smod32(defunc_0_f_res_15933, ns_15930);
                float i32_res_15947 = sitofp_i32_f32(i32_arg_15946);
                float zt_res_15948 = -6.2831855F * i32_res_15947;
                float zs_res_15949 = zt_res_15948 / i32_res_15935;
                int64_t j_15950 = sext_i32_i64(defunc_0_f_res_15933);
                bool x_15951 = sle64((int64_t) 0, j_15950);
                bool y_15952 = slt64(j_15950, n_11006);
                bool bounds_check_15953 = x_15951 && y_15952;
                bool index_certs_15954;
                
                if (!bounds_check_15953) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15950,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15955;
                
                defunc_0_f_res_15955 =
                    ((float *) mem_param_17411.mem)[ctx_param_ext_17408 +
                                                    j_15950 *
                                                    ctx_param_ext_17409];
                
                float defunc_0_f_res_15956;
                
                defunc_0_f_res_15956 =
                    ((float *) mem_param_17416.mem)[ctx_param_ext_17413 +
                                                    j_15950 *
                                                    ctx_param_ext_17414];
                
                float sin_res_15957;
                
                sin_res_15957 = futrts_sin32(zs_res_15949);
                
                float cos_res_15958;
                
                cos_res_15958 = futrts_cos32(zs_res_15949);
                
                int32_t i_15959 = add32(y_14836, defunc_0_f_res_15933);
                int64_t i_15960 = sext_i32_i64(i_15959);
                bool x_15961 = sle64((int64_t) 0, i_15960);
                bool y_15962 = slt64(i_15960, n_11006);
                bool bounds_check_15963 = x_15961 && y_15962;
                bool index_certs_15964;
                
                if (!bounds_check_15963) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15960,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:85:5-26\n   #5  sample_programs/fft.fut:38:18-38\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15965;
                
                zt_arg_15965 =
                    ((float *) mem_param_17411.mem)[ctx_param_ext_17408 +
                                                    i_15960 *
                                                    ctx_param_ext_17409];
                
                float zt_arg_15966;
                
                zt_arg_15966 =
                    ((float *) mem_param_17416.mem)[ctx_param_ext_17413 +
                                                    i_15960 *
                                                    ctx_param_ext_17414];
                
                float zt_res_15967 = sin_res_15957 * zt_arg_15966;
                float zt_res_15968 = cos_res_15958 * zt_arg_15965;
                float zm_res_15969 = zt_res_15968 - zt_res_15967;
                float zt_res_15970 = sin_res_15957 * zt_arg_15965;
                float zt_res_15971 = cos_res_15958 * zt_arg_15966;
                float zp_res_15972 = zt_res_15970 + zt_res_15971;
                float zp_res_15973 = defunc_0_f_res_15955 + zm_res_15969;
                float zp_res_15974 = defunc_0_f_res_15956 + zp_res_15972;
                float zm_res_15975 = defunc_0_f_res_15955 - zm_res_15969;
                float zm_res_15976 = defunc_0_f_res_15956 - zp_res_15972;
                int32_t x_15977 = sdiv32(defunc_0_f_res_15933, ns_15930);
                int32_t x_15978 = mul32(ns_15930, x_15977);
                int32_t x_15979 = mul32(2, x_15978);
                int32_t idxD_15980 = add32(i32_arg_15946, x_15979);
                int64_t i32_res_15981 = sext_i32_i64(idxD_15980);
                int32_t i32_arg_15982 = add32(ns_15930, idxD_15980);
                int64_t i32_res_15983 = sext_i32_i64(i32_arg_15982);
                
                if (sle64((int64_t) 0, i32_res_15981) && slt64(i32_res_15981,
                                                               n_11006)) {
                    ((float *) mem_param_17421.mem)[ctx_param_ext_17418 +
                                                    i32_res_15981 *
                                                    ctx_param_ext_17419] =
                        zp_res_15973;
                }
                if (sle64((int64_t) 0, i32_res_15983) && slt64(i32_res_15983,
                                                               n_11006)) {
                    ((float *) mem_param_17421.mem)[ctx_param_ext_17418 +
                                                    i32_res_15983 *
                                                    ctx_param_ext_17419] =
                        zm_res_15975;
                }
                if (sle64((int64_t) 0, i32_res_15981) && slt64(i32_res_15981,
                                                               n_11006)) {
                    ((float *) mem_param_17426.mem)[ctx_param_ext_17423 +
                                                    i32_res_15981 *
                                                    ctx_param_ext_17424] =
                        zp_res_15974;
                }
                if (sle64((int64_t) 0, i32_res_15983) && slt64(i32_res_15983,
                                                               n_11006)) {
                    ((float *) mem_param_17426.mem)[ctx_param_ext_17423 +
                                                    i32_res_15983 *
                                                    ctx_param_ext_17424] =
                        zm_res_15976;
                }
            }
            
            int64_t ctx_param_ext_tmp_18825 = ctx_param_ext_17417;
            int64_t ctx_param_ext_tmp_18826 = ctx_param_ext_17418;
            int64_t ctx_param_ext_tmp_18827 = ctx_param_ext_17419;
            int64_t ctx_param_ext_tmp_18828 = ctx_param_ext_17420;
            int64_t ctx_param_ext_tmp_18829 = ctx_param_ext_17422;
            int64_t ctx_param_ext_tmp_18830 = ctx_param_ext_17423;
            int64_t ctx_param_ext_tmp_18831 = ctx_param_ext_17424;
            int64_t ctx_param_ext_tmp_18832 = ctx_param_ext_17425;
            int64_t ctx_param_ext_tmp_18833 = ctx_param_ext_17407;
            int64_t ctx_param_ext_tmp_18834 = ctx_param_ext_17408;
            int64_t ctx_param_ext_tmp_18835 = ctx_param_ext_17409;
            int64_t ctx_param_ext_tmp_18836 = ctx_param_ext_17410;
            int64_t ctx_param_ext_tmp_18837 = ctx_param_ext_17412;
            int64_t ctx_param_ext_tmp_18838 = ctx_param_ext_17413;
            int64_t ctx_param_ext_tmp_18839 = ctx_param_ext_17414;
            int64_t ctx_param_ext_tmp_18840 = ctx_param_ext_17415;
            
            if (memblock_set(ctx, &mem_param_tmp_18841, &mem_param_17421,
                             "mem_param_17421") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18842, &mem_param_17426,
                             "mem_param_17426") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18843, &mem_param_17411,
                             "mem_param_17411") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18844, &mem_param_17416,
                             "mem_param_17416") != 0)
                return 1;
            ctx_param_ext_17407 = ctx_param_ext_tmp_18825;
            ctx_param_ext_17408 = ctx_param_ext_tmp_18826;
            ctx_param_ext_17409 = ctx_param_ext_tmp_18827;
            ctx_param_ext_17410 = ctx_param_ext_tmp_18828;
            ctx_param_ext_17412 = ctx_param_ext_tmp_18829;
            ctx_param_ext_17413 = ctx_param_ext_tmp_18830;
            ctx_param_ext_17414 = ctx_param_ext_tmp_18831;
            ctx_param_ext_17415 = ctx_param_ext_tmp_18832;
            ctx_param_ext_17417 = ctx_param_ext_tmp_18833;
            ctx_param_ext_17418 = ctx_param_ext_tmp_18834;
            ctx_param_ext_17419 = ctx_param_ext_tmp_18835;
            ctx_param_ext_17420 = ctx_param_ext_tmp_18836;
            ctx_param_ext_17422 = ctx_param_ext_tmp_18837;
            ctx_param_ext_17423 = ctx_param_ext_tmp_18838;
            ctx_param_ext_17424 = ctx_param_ext_tmp_18839;
            ctx_param_ext_17425 = ctx_param_ext_tmp_18840;
            if (memblock_set(ctx, &mem_param_17411, &mem_param_tmp_18841,
                             "mem_param_tmp_18841") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17416, &mem_param_tmp_18842,
                             "mem_param_tmp_18842") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17421, &mem_param_tmp_18843,
                             "mem_param_tmp_18843") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17426, &mem_param_tmp_18844,
                             "mem_param_tmp_18844") != 0)
                return 1;
        }
        ext_17474 = ctx_param_ext_17407;
        ext_17473 = ctx_param_ext_17408;
        ext_17472 = ctx_param_ext_17409;
        ext_17471 = ctx_param_ext_17410;
        ext_17470 = ctx_param_ext_17412;
        ext_17469 = ctx_param_ext_17413;
        ext_17468 = ctx_param_ext_17414;
        ext_17467 = ctx_param_ext_17415;
        ext_17466 = ctx_param_ext_17417;
        ext_17465 = ctx_param_ext_17418;
        ext_17464 = ctx_param_ext_17419;
        ext_17463 = ctx_param_ext_17420;
        ext_17462 = ctx_param_ext_17422;
        ext_17461 = ctx_param_ext_17423;
        ext_17460 = ctx_param_ext_17424;
        ext_17459 = ctx_param_ext_17425;
        if (memblock_set(ctx, &ext_mem_17458, &mem_param_17411,
                         "mem_param_17411") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17457, &mem_param_17416,
                         "mem_param_17416") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17456, &mem_param_17421,
                         "mem_param_17421") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17455, &mem_param_17426,
                         "mem_param_17426") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_17154 + i_16382 * n_11006 * (int64_t) 4,
                    ext_mem_17310.mem + ext_17325 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17310, "ext_mem_17310") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_17158 + i_16382 * n_11006 * (int64_t) 4,
                    ext_mem_17309.mem + ext_17321 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17309, "ext_mem_17309") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_17162 + i_16382 * n_11006 * (int64_t) 4,
                    ext_mem_17384.mem + ext_17399 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17384, "ext_mem_17384") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_17166 + i_16382 * n_11006 * (int64_t) 4,
                    ext_mem_17383.mem + ext_17395 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17383, "ext_mem_17383") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_17170 + i_16382 * n_11006 * (int64_t) 4,
                    ext_mem_17458.mem + ext_17473 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17458, "ext_mem_17458") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_17174 + i_16382 * n_11006 * (int64_t) 4,
                    ext_mem_17457.mem + ext_17469 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17457, "ext_mem_17457") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_17237, "mem_17237") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17240, "mem_17240") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17243, "mem_17243") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17246, "mem_17246") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17249, "mem_17249") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17252, "mem_17252") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17255, "mem_17255") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17258, "mem_17258") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17329, "mem_17329") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17332, "mem_17332") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17403, "mem_17403") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17406, "mem_17406") != 0)
        return 1;
    
    bool r_16034;
    int32_t r_16035;
    int64_t r_16036;
    bool loop_while_16037;
    int32_t r_16038;
    int64_t n_16039;
    
    loop_while_16037 = loop_cond_14698;
    r_16038 = 0;
    n_16039 = m_11007;
    while (loop_while_16037) {
        int64_t n_16040 = sdiv64(n_16039, (int64_t) 2);
        int32_t r_16041 = add32(1, r_16038);
        bool loop_cond_16042 = slt64((int64_t) 1, n_16040);
        bool loop_while_tmp_18851 = loop_cond_16042;
        int32_t r_tmp_18852 = r_16041;
        int64_t n_tmp_18853 = n_16040;
        
        loop_while_16037 = loop_while_tmp_18851;
        r_16038 = r_tmp_18852;
        n_16039 = n_tmp_18853;
    }
    r_16034 = loop_while_16037;
    r_16035 = r_16038;
    r_16036 = n_16039;
    
    int64_t i32_res_16043 = sext_i32_i64(r_16035);
    bool loop_nonempty_16056 = slt64((int64_t) 0, i32_res_16043);
    bool loop_not_taken_16057 = !loop_nonempty_16056;
    bool protect_assert_disj_16058 = dim_match_14730 || loop_not_taken_16057;
    bool empty_or_match_cert_16060;
    
    if (!protect_assert_disj_16058) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_16059;
    
    if (!protect_assert_disj_16058) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_16044 = slt64(i32_res_16043, (int64_t) 0);
    bool valid_16045 = !bounds_invalid_upwards_16044;
    bool range_valid_c_16046;
    
    if (!valid_16045) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_16043, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17523 = (int64_t) 4 * i32_res_16043;
    int64_t bytes_17524 = smax64((int64_t) 0, binop_y_17523);
    
    if (mem_17525_cached_sizze_19147 < bytes_17524) {
        err = lexical_realloc(&ctx->error, &mem_17525,
                              &mem_17525_cached_sizze_19147, bytes_17524);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16556 = 0; i_16556 < r_16035; i_16556++) {
        int64_t i_16397 = sext_i32_i64(i_16556);
        bool nonnegative_16053 = sle32(0, i_16556);
        bool nonzzero_cert_16054;
        
        if (!nonnegative_16053) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_16055 = shl32(1, i_16556);
        
        ((int32_t *) mem_17525)[i_16397] = defunc_0_f_res_16055;
    }
    
    bool r_15498;
    int32_t r_15499;
    int64_t r_15500;
    bool loop_while_15501;
    int32_t r_15502;
    int64_t n_15503;
    
    loop_while_15501 = loop_cond_14698;
    r_15502 = 0;
    n_15503 = m_11007;
    while (loop_while_15501) {
        int64_t n_15504 = sdiv64(n_15503, (int64_t) 2);
        int32_t r_15505 = add32(1, r_15502);
        bool loop_cond_15506 = slt64((int64_t) 1, n_15504);
        bool loop_while_tmp_18855 = loop_cond_15506;
        int32_t r_tmp_18856 = r_15505;
        int64_t n_tmp_18857 = n_15504;
        
        loop_while_15501 = loop_while_tmp_18855;
        r_15502 = r_tmp_18856;
        n_15503 = n_tmp_18857;
    }
    r_15498 = loop_while_15501;
    r_15499 = r_15502;
    r_15500 = n_15503;
    
    int64_t i32_res_15507 = sext_i32_i64(r_15499);
    bool loop_nonempty_15520 = slt64((int64_t) 0, i32_res_15507);
    bool loop_not_taken_15521 = !loop_nonempty_15520;
    bool protect_assert_disj_15522 = dim_match_14730 || loop_not_taken_15521;
    bool empty_or_match_cert_15524;
    
    if (!protect_assert_disj_15522) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15523;
    
    if (!protect_assert_disj_15522) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15508 = slt64(i32_res_15507, (int64_t) 0);
    bool valid_15509 = !bounds_invalid_upwards_15508;
    bool range_valid_c_15510;
    
    if (!valid_15509) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15507, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17538 = (int64_t) 4 * i32_res_15507;
    int64_t bytes_17539 = smax64((int64_t) 0, binop_y_17538);
    
    if (mem_17540_cached_sizze_19148 < bytes_17539) {
        err = lexical_realloc(&ctx->error, &mem_17540,
                              &mem_17540_cached_sizze_19148, bytes_17539);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16557 = 0; i_16557 < r_15499; i_16557++) {
        int64_t i_16401 = sext_i32_i64(i_16557);
        bool nonnegative_15517 = sle32(0, i_16557);
        bool nonzzero_cert_15518;
        
        if (!nonnegative_15517) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15519 = shl32(1, i_16557);
        
        ((int32_t *) mem_17540)[i_16401] = defunc_0_f_res_15519;
    }
    
    bool r_14962;
    int32_t r_14963;
    int64_t r_14964;
    bool loop_while_14965;
    int32_t r_14966;
    int64_t n_14967;
    
    loop_while_14965 = loop_cond_14698;
    r_14966 = 0;
    n_14967 = m_11007;
    while (loop_while_14965) {
        int64_t n_14968 = sdiv64(n_14967, (int64_t) 2);
        int32_t r_14969 = add32(1, r_14966);
        bool loop_cond_14970 = slt64((int64_t) 1, n_14968);
        bool loop_while_tmp_18859 = loop_cond_14970;
        int32_t r_tmp_18860 = r_14969;
        int64_t n_tmp_18861 = n_14968;
        
        loop_while_14965 = loop_while_tmp_18859;
        r_14966 = r_tmp_18860;
        n_14967 = n_tmp_18861;
    }
    r_14962 = loop_while_14965;
    r_14963 = r_14966;
    r_14964 = n_14967;
    
    int64_t i32_res_14971 = sext_i32_i64(r_14963);
    bool loop_nonempty_14984 = slt64((int64_t) 0, i32_res_14971);
    bool loop_not_taken_14985 = !loop_nonempty_14984;
    bool protect_assert_disj_14986 = dim_match_14730 || loop_not_taken_14985;
    bool empty_or_match_cert_14988;
    
    if (!protect_assert_disj_14986) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_14987;
    
    if (!protect_assert_disj_14986) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14729,
                               ") cannot match shape of type `[",
                               (long long) m_11007, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_14972 = slt64(i32_res_14971, (int64_t) 0);
    bool valid_14973 = !bounds_invalid_upwards_14972;
    bool range_valid_c_14974;
    
    if (!valid_14973) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_14971, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_17553 = (int64_t) 4 * i32_res_14971;
    int64_t bytes_17554 = smax64((int64_t) 0, binop_y_17553);
    
    if (mem_17555_cached_sizze_19149 < bytes_17554) {
        err = lexical_realloc(&ctx->error, &mem_17555,
                              &mem_17555_cached_sizze_19149, bytes_17554);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16558 = 0; i_16558 < r_14963; i_16558++) {
        int64_t i_16405 = sext_i32_i64(i_16558);
        bool nonnegative_14981 = sle32(0, i_16558);
        bool nonzzero_cert_14982;
        
        if (!nonnegative_14981) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_14983 = shl32(1, i_16558);
        
        ((int32_t *) mem_17555)[i_16405] = defunc_0_f_res_14983;
    }
    
    int32_t y_14931 = add32(cutoff_11008, y_14728);
    int32_t y_14930 = sub32(y_14728, cutoff_11008);
    int32_t y_14929 = add32(cutoff_11008, y_14836);
    int32_t y_14928 = sub32(y_14836, cutoff_11008);
    
    if (mem_17571_cached_sizze_19150 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17571,
                              &mem_17571_cached_sizze_19150, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17575_cached_sizze_19151 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17575,
                              &mem_17575_cached_sizze_19151, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17579_cached_sizze_19152 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17579,
                              &mem_17579_cached_sizze_19152, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17583_cached_sizze_19153 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17583,
                              &mem_17583_cached_sizze_19153, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17587_cached_sizze_19154 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17587,
                              &mem_17587_cached_sizze_19154, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17591_cached_sizze_19155 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_17591,
                              &mem_17591_cached_sizze_19155, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17654, bytes_16681, "mem_17654")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17657, bytes_16681, "mem_17657")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17660, bytes_16681, "mem_17660")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17663, bytes_16681, "mem_17663")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17666, bytes_16681, "mem_17666")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17669, bytes_16681, "mem_17669")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17744, bytes_16681, "mem_17744")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17747, bytes_16681, "mem_17747")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17814, bytes_16681, "mem_17814")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17817, bytes_16681, "mem_17817")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17884, bytes_16681, "mem_17884")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_17887, bytes_16681, "mem_17887")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16462 = 0; i_16462 < n_11006; i_16462++) {
        int32_t defunc_0_f_res_14924 = sext_i64_i32(i_16462);
        bool cond_14937 = slt32(y_14928, defunc_0_f_res_14924);
        bool cond_t_res_14938 = slt32(defunc_0_f_res_14924, y_14929);
        bool x_14939 = cond_14937 && cond_t_res_14938;
        
        for (int64_t i_16419 = 0; i_16419 < m_11007; i_16419++) {
            int32_t x_14942;
            
            x_14942 = ((int32_t *) mem_16682)[i_16419];
            
            float x_14943;
            
            x_14943 = ((float *) mem_17154)[i_16419 * n_11006 + i_16462];
            
            float x_14944;
            
            x_14944 = ((float *) mem_17158)[i_16419 * n_11006 + i_16462];
            
            float x_15479;
            
            x_15479 = ((float *) mem_17162)[i_16419 * n_11006 + i_16462];
            
            float x_15480;
            
            x_15480 = ((float *) mem_17166)[i_16419 * n_11006 + i_16462];
            
            float x_16015;
            
            x_16015 = ((float *) mem_17170)[i_16419 * n_11006 + i_16462];
            
            float x_16016;
            
            x_16016 = ((float *) mem_17174)[i_16419 * n_11006 + i_16462];
            
            bool cond_t_res_14945 = slt32(y_14930, x_14942);
            bool x_14946 = x_14939 && cond_t_res_14945;
            bool cond_t_res_14947 = slt32(x_14942, y_14931);
            bool x_14948 = x_14946 && cond_t_res_14947;
            float defunc_1_f_res_14949;
            
            if (x_14948) {
                defunc_1_f_res_14949 = 0.0F;
            } else {
                defunc_1_f_res_14949 = x_14943;
            }
            
            float defunc_1_f_res_14950;
            
            if (x_14948) {
                defunc_1_f_res_14950 = 0.0F;
            } else {
                defunc_1_f_res_14950 = x_14944;
            }
            
            float defunc_1_f_res_15485;
            
            if (x_14948) {
                defunc_1_f_res_15485 = 0.0F;
            } else {
                defunc_1_f_res_15485 = x_15479;
            }
            
            float defunc_1_f_res_15486;
            
            if (x_14948) {
                defunc_1_f_res_15486 = 0.0F;
            } else {
                defunc_1_f_res_15486 = x_15480;
            }
            
            float defunc_1_f_res_16021;
            
            if (x_14948) {
                defunc_1_f_res_16021 = 0.0F;
            } else {
                defunc_1_f_res_16021 = x_16015;
            }
            
            float defunc_1_f_res_16022;
            
            if (x_14948) {
                defunc_1_f_res_16022 = 0.0F;
            } else {
                defunc_1_f_res_16022 = x_16016;
            }
            ((float *) mem_17654.mem)[i_16419] = defunc_1_f_res_14949;
            ((float *) mem_17657.mem)[i_16419] = defunc_1_f_res_14950;
            ((float *) mem_17660.mem)[i_16419] = defunc_1_f_res_15485;
            ((float *) mem_17663.mem)[i_16419] = defunc_1_f_res_15486;
            ((float *) mem_17666.mem)[i_16419] = defunc_1_f_res_16021;
            ((float *) mem_17669.mem)[i_16419] = defunc_1_f_res_16022;
        }
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17744.mem + (int64_t) 0, mem_17654.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17747.mem + (int64_t) 0, mem_17657.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int64_t ext_17811;
        int64_t ext_17810;
        int64_t ext_17809;
        int64_t ext_17808;
        int64_t ext_17807;
        int64_t ext_17806;
        int64_t ext_17805;
        int64_t ext_17804;
        int64_t ext_17803;
        int64_t ext_17802;
        int64_t ext_17801;
        int64_t ext_17800;
        int64_t ext_17799;
        int64_t ext_17798;
        int64_t ext_17797;
        int64_t ext_17796;
        int64_t ctx_param_ext_17748;
        int64_t ctx_param_ext_17749;
        int64_t ctx_param_ext_17750;
        int64_t ctx_param_ext_17751;
        int64_t ctx_param_ext_17753;
        int64_t ctx_param_ext_17754;
        int64_t ctx_param_ext_17755;
        int64_t ctx_param_ext_17756;
        int64_t ctx_param_ext_17758;
        int64_t ctx_param_ext_17759;
        int64_t ctx_param_ext_17760;
        int64_t ctx_param_ext_17761;
        int64_t ctx_param_ext_17763;
        int64_t ctx_param_ext_17764;
        int64_t ctx_param_ext_17765;
        int64_t ctx_param_ext_17766;
        
        ctx_param_ext_17748 = m_11007;
        ctx_param_ext_17749 = (int64_t) 0;
        ctx_param_ext_17750 = (int64_t) 1;
        ctx_param_ext_17751 = m_11007;
        ctx_param_ext_17753 = m_11007;
        ctx_param_ext_17754 = (int64_t) 0;
        ctx_param_ext_17755 = (int64_t) 1;
        ctx_param_ext_17756 = m_11007;
        ctx_param_ext_17758 = m_11007;
        ctx_param_ext_17759 = (int64_t) 0;
        ctx_param_ext_17760 = (int64_t) 1;
        ctx_param_ext_17761 = m_11007;
        ctx_param_ext_17763 = m_11007;
        ctx_param_ext_17764 = (int64_t) 0;
        ctx_param_ext_17765 = (int64_t) 1;
        ctx_param_ext_17766 = m_11007;
        if (memblock_set(ctx, &mem_param_17752, &mem_17654, "mem_17654") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17757, &mem_17657, "mem_17657") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17762, &mem_17744, "mem_17744") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17767, &mem_17747, "mem_17747") != 0)
            return 1;
        
        int32_t ns_15004;
        
        for (int64_t i_14999 = 0; i_14999 < i32_res_14971; i_14999++) {
            ns_15004 = ((int32_t *) mem_17555)[i_14999];
            
            bool zzero_15010 = ns_15004 == 0;
            bool nonzzero_15011 = !zzero_15010;
            bool nonzzero_cert_15012;
            
            if (!nonzzero_15011) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15008 = mul32(2, ns_15004);
            float i32_res_15009 = sitofp_i32_f32(i32_arg_15008);
            
            for (int64_t write_iter_16426 = 0; write_iter_16426 <
                 iota_arg_14709; write_iter_16426++) {
                int32_t defunc_0_f_res_15007 = sext_i64_i32(write_iter_16426);
                int32_t i32_arg_15020 = smod32(defunc_0_f_res_15007, ns_15004);
                float i32_res_15021 = sitofp_i32_f32(i32_arg_15020);
                float zt_res_15022 = 6.2831855F * i32_res_15021;
                float zs_res_15023 = zt_res_15022 / i32_res_15009;
                int64_t j_15024 = sext_i32_i64(defunc_0_f_res_15007);
                bool x_15025 = sle64((int64_t) 0, j_15024);
                bool y_15026 = slt64(j_15024, m_11007);
                bool bounds_check_15027 = x_15025 && y_15026;
                bool index_certs_15028;
                
                if (!bounds_check_15027) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15024,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15029;
                
                defunc_0_f_res_15029 =
                    ((float *) mem_param_17752.mem)[ctx_param_ext_17749 +
                                                    j_15024 *
                                                    ctx_param_ext_17750];
                
                float defunc_0_f_res_15030;
                
                defunc_0_f_res_15030 =
                    ((float *) mem_param_17757.mem)[ctx_param_ext_17754 +
                                                    j_15024 *
                                                    ctx_param_ext_17755];
                
                float sin_res_15031;
                
                sin_res_15031 = futrts_sin32(zs_res_15023);
                
                float cos_res_15032;
                
                cos_res_15032 = futrts_cos32(zs_res_15023);
                
                int32_t i_15033 = add32(y_14728, defunc_0_f_res_15007);
                int64_t i_15034 = sext_i32_i64(i_15033);
                bool x_15035 = sle64((int64_t) 0, i_15034);
                bool y_15036 = slt64(i_15034, m_11007);
                bool bounds_check_15037 = x_15035 && y_15036;
                bool index_certs_15038;
                
                if (!bounds_check_15037) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15034,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15039;
                
                zt_arg_15039 =
                    ((float *) mem_param_17752.mem)[ctx_param_ext_17749 +
                                                    i_15034 *
                                                    ctx_param_ext_17750];
                
                float zt_arg_15040;
                
                zt_arg_15040 =
                    ((float *) mem_param_17757.mem)[ctx_param_ext_17754 +
                                                    i_15034 *
                                                    ctx_param_ext_17755];
                
                float zt_res_15041 = sin_res_15031 * zt_arg_15040;
                float zt_res_15042 = cos_res_15032 * zt_arg_15039;
                float zm_res_15043 = zt_res_15042 - zt_res_15041;
                float zt_res_15044 = sin_res_15031 * zt_arg_15039;
                float zt_res_15045 = cos_res_15032 * zt_arg_15040;
                float zp_res_15046 = zt_res_15044 + zt_res_15045;
                float zp_res_15047 = defunc_0_f_res_15029 + zm_res_15043;
                float zp_res_15048 = defunc_0_f_res_15030 + zp_res_15046;
                float zm_res_15049 = defunc_0_f_res_15029 - zm_res_15043;
                float zm_res_15050 = defunc_0_f_res_15030 - zp_res_15046;
                int32_t x_15051 = sdiv32(defunc_0_f_res_15007, ns_15004);
                int32_t x_15052 = mul32(ns_15004, x_15051);
                int32_t x_15053 = mul32(2, x_15052);
                int32_t idxD_15054 = add32(i32_arg_15020, x_15053);
                int64_t i32_res_15055 = sext_i32_i64(idxD_15054);
                int32_t i32_arg_15056 = add32(ns_15004, idxD_15054);
                int64_t i32_res_15057 = sext_i32_i64(i32_arg_15056);
                
                if (sle64((int64_t) 0, i32_res_15055) && slt64(i32_res_15055,
                                                               m_11007)) {
                    ((float *) mem_param_17762.mem)[ctx_param_ext_17759 +
                                                    i32_res_15055 *
                                                    ctx_param_ext_17760] =
                        zp_res_15047;
                }
                if (sle64((int64_t) 0, i32_res_15057) && slt64(i32_res_15057,
                                                               m_11007)) {
                    ((float *) mem_param_17762.mem)[ctx_param_ext_17759 +
                                                    i32_res_15057 *
                                                    ctx_param_ext_17760] =
                        zm_res_15049;
                }
                if (sle64((int64_t) 0, i32_res_15055) && slt64(i32_res_15055,
                                                               m_11007)) {
                    ((float *) mem_param_17767.mem)[ctx_param_ext_17764 +
                                                    i32_res_15055 *
                                                    ctx_param_ext_17765] =
                        zp_res_15048;
                }
                if (sle64((int64_t) 0, i32_res_15057) && slt64(i32_res_15057,
                                                               m_11007)) {
                    ((float *) mem_param_17767.mem)[ctx_param_ext_17764 +
                                                    i32_res_15057 *
                                                    ctx_param_ext_17765] =
                        zm_res_15050;
                }
            }
            
            int64_t ctx_param_ext_tmp_18875 = ctx_param_ext_17758;
            int64_t ctx_param_ext_tmp_18876 = ctx_param_ext_17759;
            int64_t ctx_param_ext_tmp_18877 = ctx_param_ext_17760;
            int64_t ctx_param_ext_tmp_18878 = ctx_param_ext_17761;
            int64_t ctx_param_ext_tmp_18879 = ctx_param_ext_17763;
            int64_t ctx_param_ext_tmp_18880 = ctx_param_ext_17764;
            int64_t ctx_param_ext_tmp_18881 = ctx_param_ext_17765;
            int64_t ctx_param_ext_tmp_18882 = ctx_param_ext_17766;
            int64_t ctx_param_ext_tmp_18883 = ctx_param_ext_17748;
            int64_t ctx_param_ext_tmp_18884 = ctx_param_ext_17749;
            int64_t ctx_param_ext_tmp_18885 = ctx_param_ext_17750;
            int64_t ctx_param_ext_tmp_18886 = ctx_param_ext_17751;
            int64_t ctx_param_ext_tmp_18887 = ctx_param_ext_17753;
            int64_t ctx_param_ext_tmp_18888 = ctx_param_ext_17754;
            int64_t ctx_param_ext_tmp_18889 = ctx_param_ext_17755;
            int64_t ctx_param_ext_tmp_18890 = ctx_param_ext_17756;
            
            if (memblock_set(ctx, &mem_param_tmp_18891, &mem_param_17762,
                             "mem_param_17762") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18892, &mem_param_17767,
                             "mem_param_17767") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18893, &mem_param_17752,
                             "mem_param_17752") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18894, &mem_param_17757,
                             "mem_param_17757") != 0)
                return 1;
            ctx_param_ext_17748 = ctx_param_ext_tmp_18875;
            ctx_param_ext_17749 = ctx_param_ext_tmp_18876;
            ctx_param_ext_17750 = ctx_param_ext_tmp_18877;
            ctx_param_ext_17751 = ctx_param_ext_tmp_18878;
            ctx_param_ext_17753 = ctx_param_ext_tmp_18879;
            ctx_param_ext_17754 = ctx_param_ext_tmp_18880;
            ctx_param_ext_17755 = ctx_param_ext_tmp_18881;
            ctx_param_ext_17756 = ctx_param_ext_tmp_18882;
            ctx_param_ext_17758 = ctx_param_ext_tmp_18883;
            ctx_param_ext_17759 = ctx_param_ext_tmp_18884;
            ctx_param_ext_17760 = ctx_param_ext_tmp_18885;
            ctx_param_ext_17761 = ctx_param_ext_tmp_18886;
            ctx_param_ext_17763 = ctx_param_ext_tmp_18887;
            ctx_param_ext_17764 = ctx_param_ext_tmp_18888;
            ctx_param_ext_17765 = ctx_param_ext_tmp_18889;
            ctx_param_ext_17766 = ctx_param_ext_tmp_18890;
            if (memblock_set(ctx, &mem_param_17752, &mem_param_tmp_18891,
                             "mem_param_tmp_18891") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17757, &mem_param_tmp_18892,
                             "mem_param_tmp_18892") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17762, &mem_param_tmp_18893,
                             "mem_param_tmp_18893") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17767, &mem_param_tmp_18894,
                             "mem_param_tmp_18894") != 0)
                return 1;
        }
        ext_17811 = ctx_param_ext_17748;
        ext_17810 = ctx_param_ext_17749;
        ext_17809 = ctx_param_ext_17750;
        ext_17808 = ctx_param_ext_17751;
        ext_17807 = ctx_param_ext_17753;
        ext_17806 = ctx_param_ext_17754;
        ext_17805 = ctx_param_ext_17755;
        ext_17804 = ctx_param_ext_17756;
        ext_17803 = ctx_param_ext_17758;
        ext_17802 = ctx_param_ext_17759;
        ext_17801 = ctx_param_ext_17760;
        ext_17800 = ctx_param_ext_17761;
        ext_17799 = ctx_param_ext_17763;
        ext_17798 = ctx_param_ext_17764;
        ext_17797 = ctx_param_ext_17765;
        ext_17796 = ctx_param_ext_17766;
        if (memblock_set(ctx, &ext_mem_17795, &mem_param_17752,
                         "mem_param_17752") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17794, &mem_param_17757,
                         "mem_param_17757") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17793, &mem_param_17762,
                         "mem_param_17762") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17792, &mem_param_17767,
                         "mem_param_17767") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17814.mem + (int64_t) 0, mem_17660.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17817.mem + (int64_t) 0, mem_17663.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int64_t ext_17881;
        int64_t ext_17880;
        int64_t ext_17879;
        int64_t ext_17878;
        int64_t ext_17877;
        int64_t ext_17876;
        int64_t ext_17875;
        int64_t ext_17874;
        int64_t ext_17873;
        int64_t ext_17872;
        int64_t ext_17871;
        int64_t ext_17870;
        int64_t ext_17869;
        int64_t ext_17868;
        int64_t ext_17867;
        int64_t ext_17866;
        int64_t ctx_param_ext_17818;
        int64_t ctx_param_ext_17819;
        int64_t ctx_param_ext_17820;
        int64_t ctx_param_ext_17821;
        int64_t ctx_param_ext_17823;
        int64_t ctx_param_ext_17824;
        int64_t ctx_param_ext_17825;
        int64_t ctx_param_ext_17826;
        int64_t ctx_param_ext_17828;
        int64_t ctx_param_ext_17829;
        int64_t ctx_param_ext_17830;
        int64_t ctx_param_ext_17831;
        int64_t ctx_param_ext_17833;
        int64_t ctx_param_ext_17834;
        int64_t ctx_param_ext_17835;
        int64_t ctx_param_ext_17836;
        
        ctx_param_ext_17818 = m_11007;
        ctx_param_ext_17819 = (int64_t) 0;
        ctx_param_ext_17820 = (int64_t) 1;
        ctx_param_ext_17821 = m_11007;
        ctx_param_ext_17823 = m_11007;
        ctx_param_ext_17824 = (int64_t) 0;
        ctx_param_ext_17825 = (int64_t) 1;
        ctx_param_ext_17826 = m_11007;
        ctx_param_ext_17828 = m_11007;
        ctx_param_ext_17829 = (int64_t) 0;
        ctx_param_ext_17830 = (int64_t) 1;
        ctx_param_ext_17831 = m_11007;
        ctx_param_ext_17833 = m_11007;
        ctx_param_ext_17834 = (int64_t) 0;
        ctx_param_ext_17835 = (int64_t) 1;
        ctx_param_ext_17836 = m_11007;
        if (memblock_set(ctx, &mem_param_17822, &mem_17660, "mem_17660") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17827, &mem_17663, "mem_17663") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17832, &mem_17814, "mem_17814") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17837, &mem_17817, "mem_17817") != 0)
            return 1;
        
        int32_t ns_15540;
        
        for (int64_t i_15535 = 0; i_15535 < i32_res_15507; i_15535++) {
            ns_15540 = ((int32_t *) mem_17540)[i_15535];
            
            bool zzero_15546 = ns_15540 == 0;
            bool nonzzero_15547 = !zzero_15546;
            bool nonzzero_cert_15548;
            
            if (!nonzzero_15547) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15544 = mul32(2, ns_15540);
            float i32_res_15545 = sitofp_i32_f32(i32_arg_15544);
            
            for (int64_t write_iter_16434 = 0; write_iter_16434 <
                 iota_arg_14709; write_iter_16434++) {
                int32_t defunc_0_f_res_15543 = sext_i64_i32(write_iter_16434);
                int32_t i32_arg_15556 = smod32(defunc_0_f_res_15543, ns_15540);
                float i32_res_15557 = sitofp_i32_f32(i32_arg_15556);
                float zt_res_15558 = 6.2831855F * i32_res_15557;
                float zs_res_15559 = zt_res_15558 / i32_res_15545;
                int64_t j_15560 = sext_i32_i64(defunc_0_f_res_15543);
                bool x_15561 = sle64((int64_t) 0, j_15560);
                bool y_15562 = slt64(j_15560, m_11007);
                bool bounds_check_15563 = x_15561 && y_15562;
                bool index_certs_15564;
                
                if (!bounds_check_15563) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15560,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15565;
                
                defunc_0_f_res_15565 =
                    ((float *) mem_param_17822.mem)[ctx_param_ext_17819 +
                                                    j_15560 *
                                                    ctx_param_ext_17820];
                
                float defunc_0_f_res_15566;
                
                defunc_0_f_res_15566 =
                    ((float *) mem_param_17827.mem)[ctx_param_ext_17824 +
                                                    j_15560 *
                                                    ctx_param_ext_17825];
                
                float sin_res_15567;
                
                sin_res_15567 = futrts_sin32(zs_res_15559);
                
                float cos_res_15568;
                
                cos_res_15568 = futrts_cos32(zs_res_15559);
                
                int32_t i_15569 = add32(y_14728, defunc_0_f_res_15543);
                int64_t i_15570 = sext_i32_i64(i_15569);
                bool x_15571 = sle64((int64_t) 0, i_15570);
                bool y_15572 = slt64(i_15570, m_11007);
                bool bounds_check_15573 = x_15571 && y_15572;
                bool index_certs_15574;
                
                if (!bounds_check_15573) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15570,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15575;
                
                zt_arg_15575 =
                    ((float *) mem_param_17822.mem)[ctx_param_ext_17819 +
                                                    i_15570 *
                                                    ctx_param_ext_17820];
                
                float zt_arg_15576;
                
                zt_arg_15576 =
                    ((float *) mem_param_17827.mem)[ctx_param_ext_17824 +
                                                    i_15570 *
                                                    ctx_param_ext_17825];
                
                float zt_res_15577 = sin_res_15567 * zt_arg_15576;
                float zt_res_15578 = cos_res_15568 * zt_arg_15575;
                float zm_res_15579 = zt_res_15578 - zt_res_15577;
                float zt_res_15580 = sin_res_15567 * zt_arg_15575;
                float zt_res_15581 = cos_res_15568 * zt_arg_15576;
                float zp_res_15582 = zt_res_15580 + zt_res_15581;
                float zp_res_15583 = defunc_0_f_res_15565 + zm_res_15579;
                float zp_res_15584 = defunc_0_f_res_15566 + zp_res_15582;
                float zm_res_15585 = defunc_0_f_res_15565 - zm_res_15579;
                float zm_res_15586 = defunc_0_f_res_15566 - zp_res_15582;
                int32_t x_15587 = sdiv32(defunc_0_f_res_15543, ns_15540);
                int32_t x_15588 = mul32(ns_15540, x_15587);
                int32_t x_15589 = mul32(2, x_15588);
                int32_t idxD_15590 = add32(i32_arg_15556, x_15589);
                int64_t i32_res_15591 = sext_i32_i64(idxD_15590);
                int32_t i32_arg_15592 = add32(ns_15540, idxD_15590);
                int64_t i32_res_15593 = sext_i32_i64(i32_arg_15592);
                
                if (sle64((int64_t) 0, i32_res_15591) && slt64(i32_res_15591,
                                                               m_11007)) {
                    ((float *) mem_param_17832.mem)[ctx_param_ext_17829 +
                                                    i32_res_15591 *
                                                    ctx_param_ext_17830] =
                        zp_res_15583;
                }
                if (sle64((int64_t) 0, i32_res_15593) && slt64(i32_res_15593,
                                                               m_11007)) {
                    ((float *) mem_param_17832.mem)[ctx_param_ext_17829 +
                                                    i32_res_15593 *
                                                    ctx_param_ext_17830] =
                        zm_res_15585;
                }
                if (sle64((int64_t) 0, i32_res_15591) && slt64(i32_res_15591,
                                                               m_11007)) {
                    ((float *) mem_param_17837.mem)[ctx_param_ext_17834 +
                                                    i32_res_15591 *
                                                    ctx_param_ext_17835] =
                        zp_res_15584;
                }
                if (sle64((int64_t) 0, i32_res_15593) && slt64(i32_res_15593,
                                                               m_11007)) {
                    ((float *) mem_param_17837.mem)[ctx_param_ext_17834 +
                                                    i32_res_15593 *
                                                    ctx_param_ext_17835] =
                        zm_res_15586;
                }
            }
            
            int64_t ctx_param_ext_tmp_18901 = ctx_param_ext_17828;
            int64_t ctx_param_ext_tmp_18902 = ctx_param_ext_17829;
            int64_t ctx_param_ext_tmp_18903 = ctx_param_ext_17830;
            int64_t ctx_param_ext_tmp_18904 = ctx_param_ext_17831;
            int64_t ctx_param_ext_tmp_18905 = ctx_param_ext_17833;
            int64_t ctx_param_ext_tmp_18906 = ctx_param_ext_17834;
            int64_t ctx_param_ext_tmp_18907 = ctx_param_ext_17835;
            int64_t ctx_param_ext_tmp_18908 = ctx_param_ext_17836;
            int64_t ctx_param_ext_tmp_18909 = ctx_param_ext_17818;
            int64_t ctx_param_ext_tmp_18910 = ctx_param_ext_17819;
            int64_t ctx_param_ext_tmp_18911 = ctx_param_ext_17820;
            int64_t ctx_param_ext_tmp_18912 = ctx_param_ext_17821;
            int64_t ctx_param_ext_tmp_18913 = ctx_param_ext_17823;
            int64_t ctx_param_ext_tmp_18914 = ctx_param_ext_17824;
            int64_t ctx_param_ext_tmp_18915 = ctx_param_ext_17825;
            int64_t ctx_param_ext_tmp_18916 = ctx_param_ext_17826;
            
            if (memblock_set(ctx, &mem_param_tmp_18917, &mem_param_17832,
                             "mem_param_17832") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18918, &mem_param_17837,
                             "mem_param_17837") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18919, &mem_param_17822,
                             "mem_param_17822") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18920, &mem_param_17827,
                             "mem_param_17827") != 0)
                return 1;
            ctx_param_ext_17818 = ctx_param_ext_tmp_18901;
            ctx_param_ext_17819 = ctx_param_ext_tmp_18902;
            ctx_param_ext_17820 = ctx_param_ext_tmp_18903;
            ctx_param_ext_17821 = ctx_param_ext_tmp_18904;
            ctx_param_ext_17823 = ctx_param_ext_tmp_18905;
            ctx_param_ext_17824 = ctx_param_ext_tmp_18906;
            ctx_param_ext_17825 = ctx_param_ext_tmp_18907;
            ctx_param_ext_17826 = ctx_param_ext_tmp_18908;
            ctx_param_ext_17828 = ctx_param_ext_tmp_18909;
            ctx_param_ext_17829 = ctx_param_ext_tmp_18910;
            ctx_param_ext_17830 = ctx_param_ext_tmp_18911;
            ctx_param_ext_17831 = ctx_param_ext_tmp_18912;
            ctx_param_ext_17833 = ctx_param_ext_tmp_18913;
            ctx_param_ext_17834 = ctx_param_ext_tmp_18914;
            ctx_param_ext_17835 = ctx_param_ext_tmp_18915;
            ctx_param_ext_17836 = ctx_param_ext_tmp_18916;
            if (memblock_set(ctx, &mem_param_17822, &mem_param_tmp_18917,
                             "mem_param_tmp_18917") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17827, &mem_param_tmp_18918,
                             "mem_param_tmp_18918") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17832, &mem_param_tmp_18919,
                             "mem_param_tmp_18919") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17837, &mem_param_tmp_18920,
                             "mem_param_tmp_18920") != 0)
                return 1;
        }
        ext_17881 = ctx_param_ext_17818;
        ext_17880 = ctx_param_ext_17819;
        ext_17879 = ctx_param_ext_17820;
        ext_17878 = ctx_param_ext_17821;
        ext_17877 = ctx_param_ext_17823;
        ext_17876 = ctx_param_ext_17824;
        ext_17875 = ctx_param_ext_17825;
        ext_17874 = ctx_param_ext_17826;
        ext_17873 = ctx_param_ext_17828;
        ext_17872 = ctx_param_ext_17829;
        ext_17871 = ctx_param_ext_17830;
        ext_17870 = ctx_param_ext_17831;
        ext_17869 = ctx_param_ext_17833;
        ext_17868 = ctx_param_ext_17834;
        ext_17867 = ctx_param_ext_17835;
        ext_17866 = ctx_param_ext_17836;
        if (memblock_set(ctx, &ext_mem_17865, &mem_param_17822,
                         "mem_param_17822") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17864, &mem_param_17827,
                         "mem_param_17827") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17863, &mem_param_17832,
                         "mem_param_17832") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17862, &mem_param_17837,
                         "mem_param_17837") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17884.mem + (int64_t) 0, mem_17666.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17887.mem + (int64_t) 0, mem_17669.mem + (int64_t) 0,
                    m_11007 * (int64_t) 4);
        
        int64_t ext_17951;
        int64_t ext_17950;
        int64_t ext_17949;
        int64_t ext_17948;
        int64_t ext_17947;
        int64_t ext_17946;
        int64_t ext_17945;
        int64_t ext_17944;
        int64_t ext_17943;
        int64_t ext_17942;
        int64_t ext_17941;
        int64_t ext_17940;
        int64_t ext_17939;
        int64_t ext_17938;
        int64_t ext_17937;
        int64_t ext_17936;
        int64_t ctx_param_ext_17888;
        int64_t ctx_param_ext_17889;
        int64_t ctx_param_ext_17890;
        int64_t ctx_param_ext_17891;
        int64_t ctx_param_ext_17893;
        int64_t ctx_param_ext_17894;
        int64_t ctx_param_ext_17895;
        int64_t ctx_param_ext_17896;
        int64_t ctx_param_ext_17898;
        int64_t ctx_param_ext_17899;
        int64_t ctx_param_ext_17900;
        int64_t ctx_param_ext_17901;
        int64_t ctx_param_ext_17903;
        int64_t ctx_param_ext_17904;
        int64_t ctx_param_ext_17905;
        int64_t ctx_param_ext_17906;
        
        ctx_param_ext_17888 = m_11007;
        ctx_param_ext_17889 = (int64_t) 0;
        ctx_param_ext_17890 = (int64_t) 1;
        ctx_param_ext_17891 = m_11007;
        ctx_param_ext_17893 = m_11007;
        ctx_param_ext_17894 = (int64_t) 0;
        ctx_param_ext_17895 = (int64_t) 1;
        ctx_param_ext_17896 = m_11007;
        ctx_param_ext_17898 = m_11007;
        ctx_param_ext_17899 = (int64_t) 0;
        ctx_param_ext_17900 = (int64_t) 1;
        ctx_param_ext_17901 = m_11007;
        ctx_param_ext_17903 = m_11007;
        ctx_param_ext_17904 = (int64_t) 0;
        ctx_param_ext_17905 = (int64_t) 1;
        ctx_param_ext_17906 = m_11007;
        if (memblock_set(ctx, &mem_param_17892, &mem_17666, "mem_17666") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17897, &mem_17669, "mem_17669") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17902, &mem_17884, "mem_17884") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_17907, &mem_17887, "mem_17887") != 0)
            return 1;
        
        int32_t ns_16076;
        
        for (int64_t i_16071 = 0; i_16071 < i32_res_16043; i_16071++) {
            ns_16076 = ((int32_t *) mem_17525)[i_16071];
            
            bool zzero_16082 = ns_16076 == 0;
            bool nonzzero_16083 = !zzero_16082;
            bool nonzzero_cert_16084;
            
            if (!nonzzero_16083) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_16080 = mul32(2, ns_16076);
            float i32_res_16081 = sitofp_i32_f32(i32_arg_16080);
            
            for (int64_t write_iter_16442 = 0; write_iter_16442 <
                 iota_arg_14709; write_iter_16442++) {
                int32_t defunc_0_f_res_16079 = sext_i64_i32(write_iter_16442);
                int32_t i32_arg_16092 = smod32(defunc_0_f_res_16079, ns_16076);
                float i32_res_16093 = sitofp_i32_f32(i32_arg_16092);
                float zt_res_16094 = 6.2831855F * i32_res_16093;
                float zs_res_16095 = zt_res_16094 / i32_res_16081;
                int64_t j_16096 = sext_i32_i64(defunc_0_f_res_16079);
                bool x_16097 = sle64((int64_t) 0, j_16096);
                bool y_16098 = slt64(j_16096, m_11007);
                bool bounds_check_16099 = x_16097 && y_16098;
                bool index_certs_16100;
                
                if (!bounds_check_16099) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_16096,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_16101;
                
                defunc_0_f_res_16101 =
                    ((float *) mem_param_17892.mem)[ctx_param_ext_17889 +
                                                    j_16096 *
                                                    ctx_param_ext_17890];
                
                float defunc_0_f_res_16102;
                
                defunc_0_f_res_16102 =
                    ((float *) mem_param_17897.mem)[ctx_param_ext_17894 +
                                                    j_16096 *
                                                    ctx_param_ext_17895];
                
                float sin_res_16103;
                
                sin_res_16103 = futrts_sin32(zs_res_16095);
                
                float cos_res_16104;
                
                cos_res_16104 = futrts_cos32(zs_res_16095);
                
                int32_t i_16105 = add32(y_14728, defunc_0_f_res_16079);
                int64_t i_16106 = sext_i32_i64(i_16105);
                bool x_16107 = sle64((int64_t) 0, i_16106);
                bool y_16108 = slt64(i_16106, m_11007);
                bool bounds_check_16109 = x_16107 && y_16108;
                bool index_certs_16110;
                
                if (!bounds_check_16109) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_16106,
                                  "] out of bounds for array of shape [",
                                  (long long) m_11007, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:80:24-62\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_16111;
                
                zt_arg_16111 =
                    ((float *) mem_param_17892.mem)[ctx_param_ext_17889 +
                                                    i_16106 *
                                                    ctx_param_ext_17890];
                
                float zt_arg_16112;
                
                zt_arg_16112 =
                    ((float *) mem_param_17897.mem)[ctx_param_ext_17894 +
                                                    i_16106 *
                                                    ctx_param_ext_17895];
                
                float zt_res_16113 = sin_res_16103 * zt_arg_16112;
                float zt_res_16114 = cos_res_16104 * zt_arg_16111;
                float zm_res_16115 = zt_res_16114 - zt_res_16113;
                float zt_res_16116 = sin_res_16103 * zt_arg_16111;
                float zt_res_16117 = cos_res_16104 * zt_arg_16112;
                float zp_res_16118 = zt_res_16116 + zt_res_16117;
                float zp_res_16119 = defunc_0_f_res_16101 + zm_res_16115;
                float zp_res_16120 = defunc_0_f_res_16102 + zp_res_16118;
                float zm_res_16121 = defunc_0_f_res_16101 - zm_res_16115;
                float zm_res_16122 = defunc_0_f_res_16102 - zp_res_16118;
                int32_t x_16123 = sdiv32(defunc_0_f_res_16079, ns_16076);
                int32_t x_16124 = mul32(ns_16076, x_16123);
                int32_t x_16125 = mul32(2, x_16124);
                int32_t idxD_16126 = add32(i32_arg_16092, x_16125);
                int64_t i32_res_16127 = sext_i32_i64(idxD_16126);
                int32_t i32_arg_16128 = add32(ns_16076, idxD_16126);
                int64_t i32_res_16129 = sext_i32_i64(i32_arg_16128);
                
                if (sle64((int64_t) 0, i32_res_16127) && slt64(i32_res_16127,
                                                               m_11007)) {
                    ((float *) mem_param_17902.mem)[ctx_param_ext_17899 +
                                                    i32_res_16127 *
                                                    ctx_param_ext_17900] =
                        zp_res_16119;
                }
                if (sle64((int64_t) 0, i32_res_16129) && slt64(i32_res_16129,
                                                               m_11007)) {
                    ((float *) mem_param_17902.mem)[ctx_param_ext_17899 +
                                                    i32_res_16129 *
                                                    ctx_param_ext_17900] =
                        zm_res_16121;
                }
                if (sle64((int64_t) 0, i32_res_16127) && slt64(i32_res_16127,
                                                               m_11007)) {
                    ((float *) mem_param_17907.mem)[ctx_param_ext_17904 +
                                                    i32_res_16127 *
                                                    ctx_param_ext_17905] =
                        zp_res_16120;
                }
                if (sle64((int64_t) 0, i32_res_16129) && slt64(i32_res_16129,
                                                               m_11007)) {
                    ((float *) mem_param_17907.mem)[ctx_param_ext_17904 +
                                                    i32_res_16129 *
                                                    ctx_param_ext_17905] =
                        zm_res_16122;
                }
            }
            
            int64_t ctx_param_ext_tmp_18927 = ctx_param_ext_17898;
            int64_t ctx_param_ext_tmp_18928 = ctx_param_ext_17899;
            int64_t ctx_param_ext_tmp_18929 = ctx_param_ext_17900;
            int64_t ctx_param_ext_tmp_18930 = ctx_param_ext_17901;
            int64_t ctx_param_ext_tmp_18931 = ctx_param_ext_17903;
            int64_t ctx_param_ext_tmp_18932 = ctx_param_ext_17904;
            int64_t ctx_param_ext_tmp_18933 = ctx_param_ext_17905;
            int64_t ctx_param_ext_tmp_18934 = ctx_param_ext_17906;
            int64_t ctx_param_ext_tmp_18935 = ctx_param_ext_17888;
            int64_t ctx_param_ext_tmp_18936 = ctx_param_ext_17889;
            int64_t ctx_param_ext_tmp_18937 = ctx_param_ext_17890;
            int64_t ctx_param_ext_tmp_18938 = ctx_param_ext_17891;
            int64_t ctx_param_ext_tmp_18939 = ctx_param_ext_17893;
            int64_t ctx_param_ext_tmp_18940 = ctx_param_ext_17894;
            int64_t ctx_param_ext_tmp_18941 = ctx_param_ext_17895;
            int64_t ctx_param_ext_tmp_18942 = ctx_param_ext_17896;
            
            if (memblock_set(ctx, &mem_param_tmp_18943, &mem_param_17902,
                             "mem_param_17902") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18944, &mem_param_17907,
                             "mem_param_17907") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18945, &mem_param_17892,
                             "mem_param_17892") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_18946, &mem_param_17897,
                             "mem_param_17897") != 0)
                return 1;
            ctx_param_ext_17888 = ctx_param_ext_tmp_18927;
            ctx_param_ext_17889 = ctx_param_ext_tmp_18928;
            ctx_param_ext_17890 = ctx_param_ext_tmp_18929;
            ctx_param_ext_17891 = ctx_param_ext_tmp_18930;
            ctx_param_ext_17893 = ctx_param_ext_tmp_18931;
            ctx_param_ext_17894 = ctx_param_ext_tmp_18932;
            ctx_param_ext_17895 = ctx_param_ext_tmp_18933;
            ctx_param_ext_17896 = ctx_param_ext_tmp_18934;
            ctx_param_ext_17898 = ctx_param_ext_tmp_18935;
            ctx_param_ext_17899 = ctx_param_ext_tmp_18936;
            ctx_param_ext_17900 = ctx_param_ext_tmp_18937;
            ctx_param_ext_17901 = ctx_param_ext_tmp_18938;
            ctx_param_ext_17903 = ctx_param_ext_tmp_18939;
            ctx_param_ext_17904 = ctx_param_ext_tmp_18940;
            ctx_param_ext_17905 = ctx_param_ext_tmp_18941;
            ctx_param_ext_17906 = ctx_param_ext_tmp_18942;
            if (memblock_set(ctx, &mem_param_17892, &mem_param_tmp_18943,
                             "mem_param_tmp_18943") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17897, &mem_param_tmp_18944,
                             "mem_param_tmp_18944") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17902, &mem_param_tmp_18945,
                             "mem_param_tmp_18945") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_17907, &mem_param_tmp_18946,
                             "mem_param_tmp_18946") != 0)
                return 1;
        }
        ext_17951 = ctx_param_ext_17888;
        ext_17950 = ctx_param_ext_17889;
        ext_17949 = ctx_param_ext_17890;
        ext_17948 = ctx_param_ext_17891;
        ext_17947 = ctx_param_ext_17893;
        ext_17946 = ctx_param_ext_17894;
        ext_17945 = ctx_param_ext_17895;
        ext_17944 = ctx_param_ext_17896;
        ext_17943 = ctx_param_ext_17898;
        ext_17942 = ctx_param_ext_17899;
        ext_17941 = ctx_param_ext_17900;
        ext_17940 = ctx_param_ext_17901;
        ext_17939 = ctx_param_ext_17903;
        ext_17938 = ctx_param_ext_17904;
        ext_17937 = ctx_param_ext_17905;
        ext_17936 = ctx_param_ext_17906;
        if (memblock_set(ctx, &ext_mem_17935, &mem_param_17892,
                         "mem_param_17892") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17934, &mem_param_17897,
                         "mem_param_17897") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17933, &mem_param_17902,
                         "mem_param_17902") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_17932, &mem_param_17907,
                         "mem_param_17907") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17571 + i_16462 * m_11007 * (int64_t) 4,
                    ext_mem_17795.mem + ext_17810 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17795, "ext_mem_17795") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17575 + i_16462 * m_11007 * (int64_t) 4,
                    ext_mem_17794.mem + ext_17806 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17794, "ext_mem_17794") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17579 + i_16462 * m_11007 * (int64_t) 4,
                    ext_mem_17865.mem + ext_17880 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17865, "ext_mem_17865") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17583 + i_16462 * m_11007 * (int64_t) 4,
                    ext_mem_17864.mem + ext_17876 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17864, "ext_mem_17864") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17587 + i_16462 * m_11007 * (int64_t) 4,
                    ext_mem_17935.mem + ext_17950 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17935, "ext_mem_17935") != 0)
            return 1;
        if (m_11007 * (int64_t) 4 > 0)
            memmove(mem_17591 + i_16462 * m_11007 * (int64_t) 4,
                    ext_mem_17934.mem + ext_17946 * (int64_t) 4, m_11007 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_17934, "ext_mem_17934") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_17654, "mem_17654") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17657, "mem_17657") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17660, "mem_17660") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17663, "mem_17663") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17666, "mem_17666") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17669, "mem_17669") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17744, "mem_17744") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17747, "mem_17747") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17814, "mem_17814") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17817, "mem_17817") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17884, "mem_17884") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_17887, "mem_17887") != 0)
        return 1;
    
    float i64_res_14952 = sitofp_i64_f32(binop_x_16704);
    bool r_14953;
    int32_t r_14954;
    int64_t r_14955;
    bool loop_while_14956;
    int32_t r_14957;
    int64_t n_14958;
    
    loop_while_14956 = loop_cond_14688;
    r_14957 = 0;
    n_14958 = n_11006;
    while (loop_while_14956) {
        int64_t n_14959 = sdiv64(n_14958, (int64_t) 2);
        int32_t r_14960 = add32(1, r_14957);
        bool loop_cond_14961 = slt64((int64_t) 1, n_14959);
        bool loop_while_tmp_18953 = loop_cond_14961;
        int32_t r_tmp_18954 = r_14960;
        int64_t n_tmp_18955 = n_14959;
        
        loop_while_14956 = loop_while_tmp_18953;
        r_14957 = r_tmp_18954;
        n_14958 = n_tmp_18955;
    }
    r_14953 = loop_while_14956;
    r_14954 = r_14957;
    r_14955 = n_14958;
    
    int64_t i32_res_15070 = sext_i32_i64(r_14954);
    bool bounds_invalid_upwards_15071 = slt64(i32_res_15070, (int64_t) 0);
    bool valid_15072 = !bounds_invalid_upwards_15071;
    bool range_valid_c_15073;
    
    if (!valid_15072) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15070, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_18000 = (int64_t) 4 * i32_res_15070;
    int64_t bytes_18001 = smax64((int64_t) 0, binop_y_18000);
    
    if (mem_18002_cached_sizze_19156 < bytes_18001) {
        err = lexical_realloc(&ctx->error, &mem_18002,
                              &mem_18002_cached_sizze_19156, bytes_18001);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16559 = 0; i_16559 < r_14954; i_16559++) {
        int64_t i_16471 = sext_i32_i64(i_16559);
        bool nonnegative_15080 = sle32(0, i_16559);
        bool nonzzero_cert_15081;
        
        if (!nonnegative_15080) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15082 = shl32(1, i_16559);
        
        ((int32_t *) mem_18002)[i_16471] = defunc_0_f_res_15082;
    }
    
    bool loop_nonempty_15083 = slt64((int64_t) 0, i32_res_15070);
    bool loop_not_taken_15084 = !loop_nonempty_15083;
    bool protect_assert_disj_15085 = dim_match_14838 || loop_not_taken_15084;
    bool empty_or_match_cert_15086;
    
    if (!protect_assert_disj_15085) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15087;
    
    if (!protect_assert_disj_15085) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:61:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool r_16025;
    int32_t r_16026;
    int64_t r_16027;
    bool loop_while_16028;
    int32_t r_16029;
    int64_t n_16030;
    
    loop_while_16028 = loop_cond_14688;
    r_16029 = 0;
    n_16030 = n_11006;
    while (loop_while_16028) {
        int64_t n_16031 = sdiv64(n_16030, (int64_t) 2);
        int32_t r_16032 = add32(1, r_16029);
        bool loop_cond_16033 = slt64((int64_t) 1, n_16031);
        bool loop_while_tmp_18957 = loop_cond_16033;
        int32_t r_tmp_18958 = r_16032;
        int64_t n_tmp_18959 = n_16031;
        
        loop_while_16028 = loop_while_tmp_18957;
        r_16029 = r_tmp_18958;
        n_16030 = n_tmp_18959;
    }
    r_16025 = loop_while_16028;
    r_16026 = r_16029;
    r_16027 = n_16030;
    
    int64_t i32_res_16142 = sext_i32_i64(r_16026);
    bool loop_nonempty_16155 = slt64((int64_t) 0, i32_res_16142);
    bool loop_not_taken_16156 = !loop_nonempty_16155;
    bool protect_assert_disj_16157 = dim_match_14838 || loop_not_taken_16156;
    bool empty_or_match_cert_16159;
    
    if (!protect_assert_disj_16157) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_16158;
    
    if (!protect_assert_disj_16157) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:63:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_16143 = slt64(i32_res_16142, (int64_t) 0);
    bool valid_16144 = !bounds_invalid_upwards_16143;
    bool range_valid_c_16145;
    
    if (!valid_16144) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_16142, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_18015 = (int64_t) 4 * i32_res_16142;
    int64_t bytes_18016 = smax64((int64_t) 0, binop_y_18015);
    
    if (mem_18017_cached_sizze_19157 < bytes_18016) {
        err = lexical_realloc(&ctx->error, &mem_18017,
                              &mem_18017_cached_sizze_19157, bytes_18016);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16560 = 0; i_16560 < r_16026; i_16560++) {
        int64_t i_16475 = sext_i32_i64(i_16560);
        bool nonnegative_16152 = sle32(0, i_16560);
        bool nonzzero_cert_16153;
        
        if (!nonnegative_16152) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_16154 = shl32(1, i_16560);
        
        ((int32_t *) mem_18017)[i_16475] = defunc_0_f_res_16154;
    }
    
    bool r_15489;
    int32_t r_15490;
    int64_t r_15491;
    bool loop_while_15492;
    int32_t r_15493;
    int64_t n_15494;
    
    loop_while_15492 = loop_cond_14688;
    r_15493 = 0;
    n_15494 = n_11006;
    while (loop_while_15492) {
        int64_t n_15495 = sdiv64(n_15494, (int64_t) 2);
        int32_t r_15496 = add32(1, r_15493);
        bool loop_cond_15497 = slt64((int64_t) 1, n_15495);
        bool loop_while_tmp_18961 = loop_cond_15497;
        int32_t r_tmp_18962 = r_15496;
        int64_t n_tmp_18963 = n_15495;
        
        loop_while_15492 = loop_while_tmp_18961;
        r_15493 = r_tmp_18962;
        n_15494 = n_tmp_18963;
    }
    r_15489 = loop_while_15492;
    r_15490 = r_15493;
    r_15491 = n_15494;
    
    int64_t i32_res_15606 = sext_i32_i64(r_15490);
    bool loop_nonempty_15619 = slt64((int64_t) 0, i32_res_15606);
    bool loop_not_taken_15620 = !loop_nonempty_15619;
    bool protect_assert_disj_15621 = dim_match_14838 || loop_not_taken_15620;
    bool empty_or_match_cert_15623;
    
    if (!protect_assert_disj_15621) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]i64`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:41:22-41\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_15622;
    
    if (!protect_assert_disj_15621) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Value of (core language) shape (",
                               (long long) conc_tmp_14837,
                               ") cannot match shape of type `[",
                               (long long) n_11006, "]complex`.",
                               "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:42:22-45\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #4  sample_programs/fft.fut:46:17-34\n   #5  sample_programs/fft.fut:62:12-29\n   #6  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_15607 = slt64(i32_res_15606, (int64_t) 0);
    bool valid_15608 = !bounds_invalid_upwards_15607;
    bool range_valid_c_15609;
    
    if (!valid_15608) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) i32_res_15606, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:42-52\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_y_18030 = (int64_t) 4 * i32_res_15606;
    int64_t bytes_18031 = smax64((int64_t) 0, binop_y_18030);
    
    if (mem_18032_cached_sizze_19158 < bytes_18031) {
        err = lexical_realloc(&ctx->error, &mem_18032,
                              &mem_18032_cached_sizze_19158, bytes_18031);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_16561 = 0; i_16561 < r_15490; i_16561++) {
        int64_t i_16479 = sext_i32_i64(i_16561);
        bool nonnegative_15616 = sle32(0, i_16561);
        bool nonzzero_cert_15617;
        
        if (!nonnegative_15616) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "negative exponent",
                                   "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:18-26\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:35:14-54\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int32_t defunc_0_f_res_15618 = shl32(1, i_16561);
        
        ((int32_t *) mem_18032)[i_16479] = defunc_0_f_res_15618;
    }
    if (mem_18048_cached_sizze_19159 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18048,
                              &mem_18048_cached_sizze_19159, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18052_cached_sizze_19160 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18052,
                              &mem_18052_cached_sizze_19160, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18056_cached_sizze_19161 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18056,
                              &mem_18056_cached_sizze_19161, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18060_cached_sizze_19162 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18060,
                              &mem_18060_cached_sizze_19162, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18064_cached_sizze_19163 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18064,
                              &mem_18064_cached_sizze_19163, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18068_cached_sizze_19164 < bytes_17153) {
        err = lexical_realloc(&ctx->error, &mem_18068,
                              &mem_18068_cached_sizze_19164, bytes_17153);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    int64_t binop_y_18129 = (int64_t) 4 * n_11006;
    int64_t bytes_18130 = smax64((int64_t) 0, binop_y_18129);
    
    if (memblock_alloc(ctx, &mem_18131, bytes_18130, "mem_18131")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18134, bytes_18130, "mem_18134")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18137, bytes_18130, "mem_18137")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18140, bytes_18130, "mem_18140")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18143, bytes_18130, "mem_18143")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18146, bytes_18130, "mem_18146")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18149, bytes_18130, "mem_18149")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18152, bytes_18130, "mem_18152")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18223, bytes_18130, "mem_18223")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18226, bytes_18130, "mem_18226")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18297, bytes_18130, "mem_18297")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_18300, bytes_18130, "mem_18300")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_16517 = 0; i_16517 < m_11007; i_16517++) {
        for (int64_t i_18971 = 0; i_18971 < n_11006; i_18971++) {
            float tmp_18972;
            
            tmp_18972 = ((float *) mem_17571)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18971 * m_11007];
            ((float *) mem_18131.mem)[i_18971] = tmp_18972;
        }
        for (int64_t i_18973 = 0; i_18973 < n_11006; i_18973++) {
            float tmp_18974;
            
            tmp_18974 = ((float *) mem_17575)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18973 * m_11007];
            ((float *) mem_18134.mem)[i_18973] = tmp_18974;
        }
        for (int64_t i_18975 = 0; i_18975 < n_11006; i_18975++) {
            float tmp_18976;
            
            tmp_18976 = ((float *) mem_17579)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18975 * m_11007];
            ((float *) mem_18137.mem)[i_18975] = tmp_18976;
        }
        for (int64_t i_18977 = 0; i_18977 < n_11006; i_18977++) {
            float tmp_18978;
            
            tmp_18978 = ((float *) mem_17583)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18977 * m_11007];
            ((float *) mem_18140.mem)[i_18977] = tmp_18978;
        }
        for (int64_t i_18979 = 0; i_18979 < n_11006; i_18979++) {
            float tmp_18980;
            
            tmp_18980 = ((float *) mem_17587)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18979 * m_11007];
            ((float *) mem_18143.mem)[i_18979] = tmp_18980;
        }
        for (int64_t i_18981 = 0; i_18981 < n_11006; i_18981++) {
            float tmp_18982;
            
            tmp_18982 = ((float *) mem_17591)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18981 * m_11007];
            ((float *) mem_18146.mem)[i_18981] = tmp_18982;
        }
        for (int64_t i_18983 = 0; i_18983 < n_11006; i_18983++) {
            float tmp_18984;
            
            tmp_18984 = ((float *) mem_17571)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18983 * m_11007];
            ((float *) mem_18149.mem)[i_18983] = tmp_18984;
        }
        for (int64_t i_18985 = 0; i_18985 < n_11006; i_18985++) {
            float tmp_18986;
            
            tmp_18986 = ((float *) mem_17575)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_18985 * m_11007];
            ((float *) mem_18152.mem)[i_18985] = tmp_18986;
        }
        
        int64_t ext_18220;
        int64_t ext_18219;
        int64_t ext_18218;
        int64_t ext_18217;
        int64_t ext_18216;
        int64_t ext_18215;
        int64_t ext_18214;
        int64_t ext_18213;
        int64_t ext_18212;
        int64_t ext_18211;
        int64_t ext_18210;
        int64_t ext_18209;
        int64_t ext_18208;
        int64_t ext_18207;
        int64_t ext_18206;
        int64_t ext_18205;
        int64_t ctx_param_ext_18153;
        int64_t ctx_param_ext_18154;
        int64_t ctx_param_ext_18155;
        int64_t ctx_param_ext_18156;
        int64_t ctx_param_ext_18158;
        int64_t ctx_param_ext_18159;
        int64_t ctx_param_ext_18160;
        int64_t ctx_param_ext_18161;
        int64_t ctx_param_ext_18163;
        int64_t ctx_param_ext_18164;
        int64_t ctx_param_ext_18165;
        int64_t ctx_param_ext_18166;
        int64_t ctx_param_ext_18168;
        int64_t ctx_param_ext_18169;
        int64_t ctx_param_ext_18170;
        int64_t ctx_param_ext_18171;
        
        ctx_param_ext_18153 = n_11006;
        ctx_param_ext_18154 = (int64_t) 0;
        ctx_param_ext_18155 = (int64_t) 1;
        ctx_param_ext_18156 = n_11006;
        ctx_param_ext_18158 = n_11006;
        ctx_param_ext_18159 = (int64_t) 0;
        ctx_param_ext_18160 = (int64_t) 1;
        ctx_param_ext_18161 = n_11006;
        ctx_param_ext_18163 = n_11006;
        ctx_param_ext_18164 = (int64_t) 0;
        ctx_param_ext_18165 = (int64_t) 1;
        ctx_param_ext_18166 = n_11006;
        ctx_param_ext_18168 = n_11006;
        ctx_param_ext_18169 = (int64_t) 0;
        ctx_param_ext_18170 = (int64_t) 1;
        ctx_param_ext_18171 = n_11006;
        if (memblock_set(ctx, &mem_param_18157, &mem_18131, "mem_18131") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18162, &mem_18134, "mem_18134") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18167, &mem_18149, "mem_18149") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18172, &mem_18152, "mem_18152") != 0)
            return 1;
        
        int32_t ns_15103;
        
        for (int64_t i_15098 = 0; i_15098 < i32_res_15070; i_15098++) {
            ns_15103 = ((int32_t *) mem_18002)[i_15098];
            
            bool zzero_15109 = ns_15103 == 0;
            bool nonzzero_15110 = !zzero_15109;
            bool nonzzero_cert_15111;
            
            if (!nonzzero_15110) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15107 = mul32(2, ns_15103);
            float i32_res_15108 = sitofp_i32_f32(i32_arg_15107);
            
            for (int64_t write_iter_16481 = 0; write_iter_16481 <
                 iota_arg_14817; write_iter_16481++) {
                int32_t defunc_0_f_res_15106 = sext_i64_i32(write_iter_16481);
                int32_t i32_arg_15119 = smod32(defunc_0_f_res_15106, ns_15103);
                float i32_res_15120 = sitofp_i32_f32(i32_arg_15119);
                float zt_res_15121 = 6.2831855F * i32_res_15120;
                float zs_res_15122 = zt_res_15121 / i32_res_15108;
                int64_t j_15123 = sext_i32_i64(defunc_0_f_res_15106);
                bool x_15124 = sle64((int64_t) 0, j_15123);
                bool y_15125 = slt64(j_15123, n_11006);
                bool bounds_check_15126 = x_15124 && y_15125;
                bool index_certs_15127;
                
                if (!bounds_check_15126) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15123,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15128;
                
                defunc_0_f_res_15128 =
                    ((float *) mem_param_18157.mem)[ctx_param_ext_18154 +
                                                    j_15123 *
                                                    ctx_param_ext_18155];
                
                float defunc_0_f_res_15129;
                
                defunc_0_f_res_15129 =
                    ((float *) mem_param_18162.mem)[ctx_param_ext_18159 +
                                                    j_15123 *
                                                    ctx_param_ext_18160];
                
                float sin_res_15130;
                
                sin_res_15130 = futrts_sin32(zs_res_15122);
                
                float cos_res_15131;
                
                cos_res_15131 = futrts_cos32(zs_res_15122);
                
                int32_t i_15132 = add32(y_14836, defunc_0_f_res_15106);
                int64_t i_15133 = sext_i32_i64(i_15132);
                bool x_15134 = sle64((int64_t) 0, i_15133);
                bool y_15135 = slt64(i_15133, n_11006);
                bool bounds_check_15136 = x_15134 && y_15135;
                bool index_certs_15137;
                
                if (!bounds_check_15136) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15133,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:61:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15138;
                
                zt_arg_15138 =
                    ((float *) mem_param_18157.mem)[ctx_param_ext_18154 +
                                                    i_15133 *
                                                    ctx_param_ext_18155];
                
                float zt_arg_15139;
                
                zt_arg_15139 =
                    ((float *) mem_param_18162.mem)[ctx_param_ext_18159 +
                                                    i_15133 *
                                                    ctx_param_ext_18160];
                
                float zt_res_15140 = sin_res_15130 * zt_arg_15139;
                float zt_res_15141 = cos_res_15131 * zt_arg_15138;
                float zm_res_15142 = zt_res_15141 - zt_res_15140;
                float zt_res_15143 = sin_res_15130 * zt_arg_15138;
                float zt_res_15144 = cos_res_15131 * zt_arg_15139;
                float zp_res_15145 = zt_res_15143 + zt_res_15144;
                float zp_res_15146 = defunc_0_f_res_15128 + zm_res_15142;
                float zp_res_15147 = defunc_0_f_res_15129 + zp_res_15145;
                float zm_res_15148 = defunc_0_f_res_15128 - zm_res_15142;
                float zm_res_15149 = defunc_0_f_res_15129 - zp_res_15145;
                int32_t x_15150 = sdiv32(defunc_0_f_res_15106, ns_15103);
                int32_t x_15151 = mul32(ns_15103, x_15150);
                int32_t x_15152 = mul32(2, x_15151);
                int32_t idxD_15153 = add32(i32_arg_15119, x_15152);
                int64_t i32_res_15154 = sext_i32_i64(idxD_15153);
                int32_t i32_arg_15155 = add32(ns_15103, idxD_15153);
                int64_t i32_res_15156 = sext_i32_i64(i32_arg_15155);
                
                if (sle64((int64_t) 0, i32_res_15154) && slt64(i32_res_15154,
                                                               n_11006)) {
                    ((float *) mem_param_18167.mem)[ctx_param_ext_18164 +
                                                    i32_res_15154 *
                                                    ctx_param_ext_18165] =
                        zp_res_15146;
                }
                if (sle64((int64_t) 0, i32_res_15156) && slt64(i32_res_15156,
                                                               n_11006)) {
                    ((float *) mem_param_18167.mem)[ctx_param_ext_18164 +
                                                    i32_res_15156 *
                                                    ctx_param_ext_18165] =
                        zm_res_15148;
                }
                if (sle64((int64_t) 0, i32_res_15154) && slt64(i32_res_15154,
                                                               n_11006)) {
                    ((float *) mem_param_18172.mem)[ctx_param_ext_18169 +
                                                    i32_res_15154 *
                                                    ctx_param_ext_18170] =
                        zp_res_15147;
                }
                if (sle64((int64_t) 0, i32_res_15156) && slt64(i32_res_15156,
                                                               n_11006)) {
                    ((float *) mem_param_18172.mem)[ctx_param_ext_18169 +
                                                    i32_res_15156 *
                                                    ctx_param_ext_18170] =
                        zm_res_15149;
                }
            }
            
            int64_t ctx_param_ext_tmp_18987 = ctx_param_ext_18163;
            int64_t ctx_param_ext_tmp_18988 = ctx_param_ext_18164;
            int64_t ctx_param_ext_tmp_18989 = ctx_param_ext_18165;
            int64_t ctx_param_ext_tmp_18990 = ctx_param_ext_18166;
            int64_t ctx_param_ext_tmp_18991 = ctx_param_ext_18168;
            int64_t ctx_param_ext_tmp_18992 = ctx_param_ext_18169;
            int64_t ctx_param_ext_tmp_18993 = ctx_param_ext_18170;
            int64_t ctx_param_ext_tmp_18994 = ctx_param_ext_18171;
            int64_t ctx_param_ext_tmp_18995 = ctx_param_ext_18153;
            int64_t ctx_param_ext_tmp_18996 = ctx_param_ext_18154;
            int64_t ctx_param_ext_tmp_18997 = ctx_param_ext_18155;
            int64_t ctx_param_ext_tmp_18998 = ctx_param_ext_18156;
            int64_t ctx_param_ext_tmp_18999 = ctx_param_ext_18158;
            int64_t ctx_param_ext_tmp_19000 = ctx_param_ext_18159;
            int64_t ctx_param_ext_tmp_19001 = ctx_param_ext_18160;
            int64_t ctx_param_ext_tmp_19002 = ctx_param_ext_18161;
            
            if (memblock_set(ctx, &mem_param_tmp_19003, &mem_param_18167,
                             "mem_param_18167") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19004, &mem_param_18172,
                             "mem_param_18172") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19005, &mem_param_18157,
                             "mem_param_18157") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19006, &mem_param_18162,
                             "mem_param_18162") != 0)
                return 1;
            ctx_param_ext_18153 = ctx_param_ext_tmp_18987;
            ctx_param_ext_18154 = ctx_param_ext_tmp_18988;
            ctx_param_ext_18155 = ctx_param_ext_tmp_18989;
            ctx_param_ext_18156 = ctx_param_ext_tmp_18990;
            ctx_param_ext_18158 = ctx_param_ext_tmp_18991;
            ctx_param_ext_18159 = ctx_param_ext_tmp_18992;
            ctx_param_ext_18160 = ctx_param_ext_tmp_18993;
            ctx_param_ext_18161 = ctx_param_ext_tmp_18994;
            ctx_param_ext_18163 = ctx_param_ext_tmp_18995;
            ctx_param_ext_18164 = ctx_param_ext_tmp_18996;
            ctx_param_ext_18165 = ctx_param_ext_tmp_18997;
            ctx_param_ext_18166 = ctx_param_ext_tmp_18998;
            ctx_param_ext_18168 = ctx_param_ext_tmp_18999;
            ctx_param_ext_18169 = ctx_param_ext_tmp_19000;
            ctx_param_ext_18170 = ctx_param_ext_tmp_19001;
            ctx_param_ext_18171 = ctx_param_ext_tmp_19002;
            if (memblock_set(ctx, &mem_param_18157, &mem_param_tmp_19003,
                             "mem_param_tmp_19003") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18162, &mem_param_tmp_19004,
                             "mem_param_tmp_19004") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18167, &mem_param_tmp_19005,
                             "mem_param_tmp_19005") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18172, &mem_param_tmp_19006,
                             "mem_param_tmp_19006") != 0)
                return 1;
        }
        ext_18220 = ctx_param_ext_18153;
        ext_18219 = ctx_param_ext_18154;
        ext_18218 = ctx_param_ext_18155;
        ext_18217 = ctx_param_ext_18156;
        ext_18216 = ctx_param_ext_18158;
        ext_18215 = ctx_param_ext_18159;
        ext_18214 = ctx_param_ext_18160;
        ext_18213 = ctx_param_ext_18161;
        ext_18212 = ctx_param_ext_18163;
        ext_18211 = ctx_param_ext_18164;
        ext_18210 = ctx_param_ext_18165;
        ext_18209 = ctx_param_ext_18166;
        ext_18208 = ctx_param_ext_18168;
        ext_18207 = ctx_param_ext_18169;
        ext_18206 = ctx_param_ext_18170;
        ext_18205 = ctx_param_ext_18171;
        if (memblock_set(ctx, &ext_mem_18204, &mem_param_18157,
                         "mem_param_18157") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18203, &mem_param_18162,
                         "mem_param_18162") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18202, &mem_param_18167,
                         "mem_param_18167") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18201, &mem_param_18172,
                         "mem_param_18172") != 0)
            return 1;
        for (int64_t i_19013 = 0; i_19013 < n_11006; i_19013++) {
            float tmp_19014;
            
            tmp_19014 = ((float *) mem_17579)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19013 * m_11007];
            ((float *) mem_18223.mem)[i_19013] = tmp_19014;
        }
        for (int64_t i_19015 = 0; i_19015 < n_11006; i_19015++) {
            float tmp_19016;
            
            tmp_19016 = ((float *) mem_17583)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19015 * m_11007];
            ((float *) mem_18226.mem)[i_19015] = tmp_19016;
        }
        
        int64_t ext_18294;
        int64_t ext_18293;
        int64_t ext_18292;
        int64_t ext_18291;
        int64_t ext_18290;
        int64_t ext_18289;
        int64_t ext_18288;
        int64_t ext_18287;
        int64_t ext_18286;
        int64_t ext_18285;
        int64_t ext_18284;
        int64_t ext_18283;
        int64_t ext_18282;
        int64_t ext_18281;
        int64_t ext_18280;
        int64_t ext_18279;
        int64_t ctx_param_ext_18227;
        int64_t ctx_param_ext_18228;
        int64_t ctx_param_ext_18229;
        int64_t ctx_param_ext_18230;
        int64_t ctx_param_ext_18232;
        int64_t ctx_param_ext_18233;
        int64_t ctx_param_ext_18234;
        int64_t ctx_param_ext_18235;
        int64_t ctx_param_ext_18237;
        int64_t ctx_param_ext_18238;
        int64_t ctx_param_ext_18239;
        int64_t ctx_param_ext_18240;
        int64_t ctx_param_ext_18242;
        int64_t ctx_param_ext_18243;
        int64_t ctx_param_ext_18244;
        int64_t ctx_param_ext_18245;
        
        ctx_param_ext_18227 = n_11006;
        ctx_param_ext_18228 = (int64_t) 0;
        ctx_param_ext_18229 = (int64_t) 1;
        ctx_param_ext_18230 = n_11006;
        ctx_param_ext_18232 = n_11006;
        ctx_param_ext_18233 = (int64_t) 0;
        ctx_param_ext_18234 = (int64_t) 1;
        ctx_param_ext_18235 = n_11006;
        ctx_param_ext_18237 = n_11006;
        ctx_param_ext_18238 = (int64_t) 0;
        ctx_param_ext_18239 = (int64_t) 1;
        ctx_param_ext_18240 = n_11006;
        ctx_param_ext_18242 = n_11006;
        ctx_param_ext_18243 = (int64_t) 0;
        ctx_param_ext_18244 = (int64_t) 1;
        ctx_param_ext_18245 = n_11006;
        if (memblock_set(ctx, &mem_param_18231, &mem_18137, "mem_18137") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18236, &mem_18140, "mem_18140") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18241, &mem_18223, "mem_18223") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18246, &mem_18226, "mem_18226") != 0)
            return 1;
        
        int32_t ns_15639;
        
        for (int64_t i_15634 = 0; i_15634 < i32_res_15606; i_15634++) {
            ns_15639 = ((int32_t *) mem_18032)[i_15634];
            
            bool zzero_15645 = ns_15639 == 0;
            bool nonzzero_15646 = !zzero_15645;
            bool nonzzero_cert_15647;
            
            if (!nonzzero_15646) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_15643 = mul32(2, ns_15639);
            float i32_res_15644 = sitofp_i32_f32(i32_arg_15643);
            
            for (int64_t write_iter_16489 = 0; write_iter_16489 <
                 iota_arg_14817; write_iter_16489++) {
                int32_t defunc_0_f_res_15642 = sext_i64_i32(write_iter_16489);
                int32_t i32_arg_15655 = smod32(defunc_0_f_res_15642, ns_15639);
                float i32_res_15656 = sitofp_i32_f32(i32_arg_15655);
                float zt_res_15657 = 6.2831855F * i32_res_15656;
                float zs_res_15658 = zt_res_15657 / i32_res_15644;
                int64_t j_15659 = sext_i32_i64(defunc_0_f_res_15642);
                bool x_15660 = sle64((int64_t) 0, j_15659);
                bool y_15661 = slt64(j_15659, n_11006);
                bool bounds_check_15662 = x_15660 && y_15661;
                bool index_certs_15663;
                
                if (!bounds_check_15662) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_15659,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_15664;
                
                defunc_0_f_res_15664 =
                    ((float *) mem_param_18231.mem)[ctx_param_ext_18228 +
                                                    j_15659 *
                                                    ctx_param_ext_18229];
                
                float defunc_0_f_res_15665;
                
                defunc_0_f_res_15665 =
                    ((float *) mem_param_18236.mem)[ctx_param_ext_18233 +
                                                    j_15659 *
                                                    ctx_param_ext_18234];
                
                float sin_res_15666;
                
                sin_res_15666 = futrts_sin32(zs_res_15658);
                
                float cos_res_15667;
                
                cos_res_15667 = futrts_cos32(zs_res_15658);
                
                int32_t i_15668 = add32(y_14836, defunc_0_f_res_15642);
                int64_t i_15669 = sext_i32_i64(i_15668);
                bool x_15670 = sle64((int64_t) 0, i_15669);
                bool y_15671 = slt64(i_15669, n_11006);
                bool bounds_check_15672 = x_15670 && y_15671;
                bool index_certs_15673;
                
                if (!bounds_check_15672) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_15669,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:62:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_15674;
                
                zt_arg_15674 =
                    ((float *) mem_param_18231.mem)[ctx_param_ext_18228 +
                                                    i_15669 *
                                                    ctx_param_ext_18229];
                
                float zt_arg_15675;
                
                zt_arg_15675 =
                    ((float *) mem_param_18236.mem)[ctx_param_ext_18233 +
                                                    i_15669 *
                                                    ctx_param_ext_18234];
                
                float zt_res_15676 = sin_res_15666 * zt_arg_15675;
                float zt_res_15677 = cos_res_15667 * zt_arg_15674;
                float zm_res_15678 = zt_res_15677 - zt_res_15676;
                float zt_res_15679 = sin_res_15666 * zt_arg_15674;
                float zt_res_15680 = cos_res_15667 * zt_arg_15675;
                float zp_res_15681 = zt_res_15679 + zt_res_15680;
                float zp_res_15682 = defunc_0_f_res_15664 + zm_res_15678;
                float zp_res_15683 = defunc_0_f_res_15665 + zp_res_15681;
                float zm_res_15684 = defunc_0_f_res_15664 - zm_res_15678;
                float zm_res_15685 = defunc_0_f_res_15665 - zp_res_15681;
                int32_t x_15686 = sdiv32(defunc_0_f_res_15642, ns_15639);
                int32_t x_15687 = mul32(ns_15639, x_15686);
                int32_t x_15688 = mul32(2, x_15687);
                int32_t idxD_15689 = add32(i32_arg_15655, x_15688);
                int64_t i32_res_15690 = sext_i32_i64(idxD_15689);
                int32_t i32_arg_15691 = add32(ns_15639, idxD_15689);
                int64_t i32_res_15692 = sext_i32_i64(i32_arg_15691);
                
                if (sle64((int64_t) 0, i32_res_15690) && slt64(i32_res_15690,
                                                               n_11006)) {
                    ((float *) mem_param_18241.mem)[ctx_param_ext_18238 +
                                                    i32_res_15690 *
                                                    ctx_param_ext_18239] =
                        zp_res_15682;
                }
                if (sle64((int64_t) 0, i32_res_15692) && slt64(i32_res_15692,
                                                               n_11006)) {
                    ((float *) mem_param_18241.mem)[ctx_param_ext_18238 +
                                                    i32_res_15692 *
                                                    ctx_param_ext_18239] =
                        zm_res_15684;
                }
                if (sle64((int64_t) 0, i32_res_15690) && slt64(i32_res_15690,
                                                               n_11006)) {
                    ((float *) mem_param_18246.mem)[ctx_param_ext_18243 +
                                                    i32_res_15690 *
                                                    ctx_param_ext_18244] =
                        zp_res_15683;
                }
                if (sle64((int64_t) 0, i32_res_15692) && slt64(i32_res_15692,
                                                               n_11006)) {
                    ((float *) mem_param_18246.mem)[ctx_param_ext_18243 +
                                                    i32_res_15692 *
                                                    ctx_param_ext_18244] =
                        zm_res_15685;
                }
            }
            
            int64_t ctx_param_ext_tmp_19017 = ctx_param_ext_18237;
            int64_t ctx_param_ext_tmp_19018 = ctx_param_ext_18238;
            int64_t ctx_param_ext_tmp_19019 = ctx_param_ext_18239;
            int64_t ctx_param_ext_tmp_19020 = ctx_param_ext_18240;
            int64_t ctx_param_ext_tmp_19021 = ctx_param_ext_18242;
            int64_t ctx_param_ext_tmp_19022 = ctx_param_ext_18243;
            int64_t ctx_param_ext_tmp_19023 = ctx_param_ext_18244;
            int64_t ctx_param_ext_tmp_19024 = ctx_param_ext_18245;
            int64_t ctx_param_ext_tmp_19025 = ctx_param_ext_18227;
            int64_t ctx_param_ext_tmp_19026 = ctx_param_ext_18228;
            int64_t ctx_param_ext_tmp_19027 = ctx_param_ext_18229;
            int64_t ctx_param_ext_tmp_19028 = ctx_param_ext_18230;
            int64_t ctx_param_ext_tmp_19029 = ctx_param_ext_18232;
            int64_t ctx_param_ext_tmp_19030 = ctx_param_ext_18233;
            int64_t ctx_param_ext_tmp_19031 = ctx_param_ext_18234;
            int64_t ctx_param_ext_tmp_19032 = ctx_param_ext_18235;
            
            if (memblock_set(ctx, &mem_param_tmp_19033, &mem_param_18241,
                             "mem_param_18241") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19034, &mem_param_18246,
                             "mem_param_18246") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19035, &mem_param_18231,
                             "mem_param_18231") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19036, &mem_param_18236,
                             "mem_param_18236") != 0)
                return 1;
            ctx_param_ext_18227 = ctx_param_ext_tmp_19017;
            ctx_param_ext_18228 = ctx_param_ext_tmp_19018;
            ctx_param_ext_18229 = ctx_param_ext_tmp_19019;
            ctx_param_ext_18230 = ctx_param_ext_tmp_19020;
            ctx_param_ext_18232 = ctx_param_ext_tmp_19021;
            ctx_param_ext_18233 = ctx_param_ext_tmp_19022;
            ctx_param_ext_18234 = ctx_param_ext_tmp_19023;
            ctx_param_ext_18235 = ctx_param_ext_tmp_19024;
            ctx_param_ext_18237 = ctx_param_ext_tmp_19025;
            ctx_param_ext_18238 = ctx_param_ext_tmp_19026;
            ctx_param_ext_18239 = ctx_param_ext_tmp_19027;
            ctx_param_ext_18240 = ctx_param_ext_tmp_19028;
            ctx_param_ext_18242 = ctx_param_ext_tmp_19029;
            ctx_param_ext_18243 = ctx_param_ext_tmp_19030;
            ctx_param_ext_18244 = ctx_param_ext_tmp_19031;
            ctx_param_ext_18245 = ctx_param_ext_tmp_19032;
            if (memblock_set(ctx, &mem_param_18231, &mem_param_tmp_19033,
                             "mem_param_tmp_19033") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18236, &mem_param_tmp_19034,
                             "mem_param_tmp_19034") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18241, &mem_param_tmp_19035,
                             "mem_param_tmp_19035") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18246, &mem_param_tmp_19036,
                             "mem_param_tmp_19036") != 0)
                return 1;
        }
        ext_18294 = ctx_param_ext_18227;
        ext_18293 = ctx_param_ext_18228;
        ext_18292 = ctx_param_ext_18229;
        ext_18291 = ctx_param_ext_18230;
        ext_18290 = ctx_param_ext_18232;
        ext_18289 = ctx_param_ext_18233;
        ext_18288 = ctx_param_ext_18234;
        ext_18287 = ctx_param_ext_18235;
        ext_18286 = ctx_param_ext_18237;
        ext_18285 = ctx_param_ext_18238;
        ext_18284 = ctx_param_ext_18239;
        ext_18283 = ctx_param_ext_18240;
        ext_18282 = ctx_param_ext_18242;
        ext_18281 = ctx_param_ext_18243;
        ext_18280 = ctx_param_ext_18244;
        ext_18279 = ctx_param_ext_18245;
        if (memblock_set(ctx, &ext_mem_18278, &mem_param_18231,
                         "mem_param_18231") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18277, &mem_param_18236,
                         "mem_param_18236") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18276, &mem_param_18241,
                         "mem_param_18241") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18275, &mem_param_18246,
                         "mem_param_18246") != 0)
            return 1;
        for (int64_t i_19043 = 0; i_19043 < n_11006; i_19043++) {
            float tmp_19044;
            
            tmp_19044 = ((float *) mem_17587)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19043 * m_11007];
            ((float *) mem_18297.mem)[i_19043] = tmp_19044;
        }
        for (int64_t i_19045 = 0; i_19045 < n_11006; i_19045++) {
            float tmp_19046;
            
            tmp_19046 = ((float *) mem_17591)[(int64_t) 0 + i_16517 *
                                              (int64_t) 1 + i_19045 * m_11007];
            ((float *) mem_18300.mem)[i_19045] = tmp_19046;
        }
        
        int64_t ext_18368;
        int64_t ext_18367;
        int64_t ext_18366;
        int64_t ext_18365;
        int64_t ext_18364;
        int64_t ext_18363;
        int64_t ext_18362;
        int64_t ext_18361;
        int64_t ext_18360;
        int64_t ext_18359;
        int64_t ext_18358;
        int64_t ext_18357;
        int64_t ext_18356;
        int64_t ext_18355;
        int64_t ext_18354;
        int64_t ext_18353;
        int64_t ctx_param_ext_18301;
        int64_t ctx_param_ext_18302;
        int64_t ctx_param_ext_18303;
        int64_t ctx_param_ext_18304;
        int64_t ctx_param_ext_18306;
        int64_t ctx_param_ext_18307;
        int64_t ctx_param_ext_18308;
        int64_t ctx_param_ext_18309;
        int64_t ctx_param_ext_18311;
        int64_t ctx_param_ext_18312;
        int64_t ctx_param_ext_18313;
        int64_t ctx_param_ext_18314;
        int64_t ctx_param_ext_18316;
        int64_t ctx_param_ext_18317;
        int64_t ctx_param_ext_18318;
        int64_t ctx_param_ext_18319;
        
        ctx_param_ext_18301 = n_11006;
        ctx_param_ext_18302 = (int64_t) 0;
        ctx_param_ext_18303 = (int64_t) 1;
        ctx_param_ext_18304 = n_11006;
        ctx_param_ext_18306 = n_11006;
        ctx_param_ext_18307 = (int64_t) 0;
        ctx_param_ext_18308 = (int64_t) 1;
        ctx_param_ext_18309 = n_11006;
        ctx_param_ext_18311 = n_11006;
        ctx_param_ext_18312 = (int64_t) 0;
        ctx_param_ext_18313 = (int64_t) 1;
        ctx_param_ext_18314 = n_11006;
        ctx_param_ext_18316 = n_11006;
        ctx_param_ext_18317 = (int64_t) 0;
        ctx_param_ext_18318 = (int64_t) 1;
        ctx_param_ext_18319 = n_11006;
        if (memblock_set(ctx, &mem_param_18305, &mem_18143, "mem_18143") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18310, &mem_18146, "mem_18146") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18315, &mem_18297, "mem_18297") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_18320, &mem_18300, "mem_18300") != 0)
            return 1;
        
        int32_t ns_16175;
        
        for (int64_t i_16170 = 0; i_16170 < i32_res_16142; i_16170++) {
            ns_16175 = ((int32_t *) mem_18017)[i_16170];
            
            bool zzero_16181 = ns_16175 == 0;
            bool nonzzero_16182 = !zzero_16181;
            bool nonzzero_cert_16183;
            
            if (!nonzzero_16182) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "division by zero",
                                       "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:22:57-62\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t i32_arg_16179 = mul32(2, ns_16175);
            float i32_res_16180 = sitofp_i32_f32(i32_arg_16179);
            
            for (int64_t write_iter_16497 = 0; write_iter_16497 <
                 iota_arg_14817; write_iter_16497++) {
                int32_t defunc_0_f_res_16178 = sext_i64_i32(write_iter_16497);
                int32_t i32_arg_16191 = smod32(defunc_0_f_res_16178, ns_16175);
                float i32_res_16192 = sitofp_i32_f32(i32_arg_16191);
                float zt_res_16193 = 6.2831855F * i32_res_16192;
                float zs_res_16194 = zt_res_16193 / i32_res_16180;
                int64_t j_16195 = sext_i32_i64(defunc_0_f_res_16178);
                bool x_16196 = sle64((int64_t) 0, j_16195);
                bool y_16197 = slt64(j_16195, n_11006);
                bool bounds_check_16198 = x_16196 && y_16197;
                bool index_certs_16199;
                
                if (!bounds_check_16198) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_16195,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:23:21-27\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float defunc_0_f_res_16200;
                
                defunc_0_f_res_16200 =
                    ((float *) mem_param_18305.mem)[ctx_param_ext_18302 +
                                                    j_16195 *
                                                    ctx_param_ext_18303];
                
                float defunc_0_f_res_16201;
                
                defunc_0_f_res_16201 =
                    ((float *) mem_param_18310.mem)[ctx_param_ext_18307 +
                                                    j_16195 *
                                                    ctx_param_ext_18308];
                
                float sin_res_16202;
                
                sin_res_16202 = futrts_sin32(zs_res_16194);
                
                float cos_res_16203;
                
                cos_res_16203 = futrts_cos32(zs_res_16194);
                
                int32_t i_16204 = add32(y_14836, defunc_0_f_res_16178);
                int64_t i_16205 = sext_i32_i64(i_16204);
                bool x_16206 = sle64((int64_t) 0, i_16205);
                bool y_16207 = slt64(i_16205, n_11006);
                bool bounds_check_16208 = x_16206 && y_16207;
                bool index_certs_16209;
                
                if (!bounds_check_16208) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_16205,
                                  "] out of bounds for array of shape [",
                                  (long long) n_11006, "].",
                                  "-> #0  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:24:21-43\n   #1  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:39:19-72\n   #2  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:35-56\n   #3  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:81:24-74\n   #4  sample_programs/lib/github.com/diku-dk/fft/stockham-radix-2.fut:89:41-63\n   #5  sample_programs/fft.fut:46:17-34\n   #6  sample_programs/fft.fut:63:12-29\n   #7  sample_programs/fft.fut:59:1-64:17\n");
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float zt_arg_16210;
                
                zt_arg_16210 =
                    ((float *) mem_param_18305.mem)[ctx_param_ext_18302 +
                                                    i_16205 *
                                                    ctx_param_ext_18303];
                
                float zt_arg_16211;
                
                zt_arg_16211 =
                    ((float *) mem_param_18310.mem)[ctx_param_ext_18307 +
                                                    i_16205 *
                                                    ctx_param_ext_18308];
                
                float zt_res_16212 = sin_res_16202 * zt_arg_16211;
                float zt_res_16213 = cos_res_16203 * zt_arg_16210;
                float zm_res_16214 = zt_res_16213 - zt_res_16212;
                float zt_res_16215 = sin_res_16202 * zt_arg_16210;
                float zt_res_16216 = cos_res_16203 * zt_arg_16211;
                float zp_res_16217 = zt_res_16215 + zt_res_16216;
                float zp_res_16218 = defunc_0_f_res_16200 + zm_res_16214;
                float zp_res_16219 = defunc_0_f_res_16201 + zp_res_16217;
                float zm_res_16220 = defunc_0_f_res_16200 - zm_res_16214;
                float zm_res_16221 = defunc_0_f_res_16201 - zp_res_16217;
                int32_t x_16222 = sdiv32(defunc_0_f_res_16178, ns_16175);
                int32_t x_16223 = mul32(ns_16175, x_16222);
                int32_t x_16224 = mul32(2, x_16223);
                int32_t idxD_16225 = add32(i32_arg_16191, x_16224);
                int64_t i32_res_16226 = sext_i32_i64(idxD_16225);
                int32_t i32_arg_16227 = add32(ns_16175, idxD_16225);
                int64_t i32_res_16228 = sext_i32_i64(i32_arg_16227);
                
                if (sle64((int64_t) 0, i32_res_16226) && slt64(i32_res_16226,
                                                               n_11006)) {
                    ((float *) mem_param_18315.mem)[ctx_param_ext_18312 +
                                                    i32_res_16226 *
                                                    ctx_param_ext_18313] =
                        zp_res_16218;
                }
                if (sle64((int64_t) 0, i32_res_16228) && slt64(i32_res_16228,
                                                               n_11006)) {
                    ((float *) mem_param_18315.mem)[ctx_param_ext_18312 +
                                                    i32_res_16228 *
                                                    ctx_param_ext_18313] =
                        zm_res_16220;
                }
                if (sle64((int64_t) 0, i32_res_16226) && slt64(i32_res_16226,
                                                               n_11006)) {
                    ((float *) mem_param_18320.mem)[ctx_param_ext_18317 +
                                                    i32_res_16226 *
                                                    ctx_param_ext_18318] =
                        zp_res_16219;
                }
                if (sle64((int64_t) 0, i32_res_16228) && slt64(i32_res_16228,
                                                               n_11006)) {
                    ((float *) mem_param_18320.mem)[ctx_param_ext_18317 +
                                                    i32_res_16228 *
                                                    ctx_param_ext_18318] =
                        zm_res_16221;
                }
            }
            
            int64_t ctx_param_ext_tmp_19047 = ctx_param_ext_18311;
            int64_t ctx_param_ext_tmp_19048 = ctx_param_ext_18312;
            int64_t ctx_param_ext_tmp_19049 = ctx_param_ext_18313;
            int64_t ctx_param_ext_tmp_19050 = ctx_param_ext_18314;
            int64_t ctx_param_ext_tmp_19051 = ctx_param_ext_18316;
            int64_t ctx_param_ext_tmp_19052 = ctx_param_ext_18317;
            int64_t ctx_param_ext_tmp_19053 = ctx_param_ext_18318;
            int64_t ctx_param_ext_tmp_19054 = ctx_param_ext_18319;
            int64_t ctx_param_ext_tmp_19055 = ctx_param_ext_18301;
            int64_t ctx_param_ext_tmp_19056 = ctx_param_ext_18302;
            int64_t ctx_param_ext_tmp_19057 = ctx_param_ext_18303;
            int64_t ctx_param_ext_tmp_19058 = ctx_param_ext_18304;
            int64_t ctx_param_ext_tmp_19059 = ctx_param_ext_18306;
            int64_t ctx_param_ext_tmp_19060 = ctx_param_ext_18307;
            int64_t ctx_param_ext_tmp_19061 = ctx_param_ext_18308;
            int64_t ctx_param_ext_tmp_19062 = ctx_param_ext_18309;
            
            if (memblock_set(ctx, &mem_param_tmp_19063, &mem_param_18315,
                             "mem_param_18315") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19064, &mem_param_18320,
                             "mem_param_18320") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19065, &mem_param_18305,
                             "mem_param_18305") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_19066, &mem_param_18310,
                             "mem_param_18310") != 0)
                return 1;
            ctx_param_ext_18301 = ctx_param_ext_tmp_19047;
            ctx_param_ext_18302 = ctx_param_ext_tmp_19048;
            ctx_param_ext_18303 = ctx_param_ext_tmp_19049;
            ctx_param_ext_18304 = ctx_param_ext_tmp_19050;
            ctx_param_ext_18306 = ctx_param_ext_tmp_19051;
            ctx_param_ext_18307 = ctx_param_ext_tmp_19052;
            ctx_param_ext_18308 = ctx_param_ext_tmp_19053;
            ctx_param_ext_18309 = ctx_param_ext_tmp_19054;
            ctx_param_ext_18311 = ctx_param_ext_tmp_19055;
            ctx_param_ext_18312 = ctx_param_ext_tmp_19056;
            ctx_param_ext_18313 = ctx_param_ext_tmp_19057;
            ctx_param_ext_18314 = ctx_param_ext_tmp_19058;
            ctx_param_ext_18316 = ctx_param_ext_tmp_19059;
            ctx_param_ext_18317 = ctx_param_ext_tmp_19060;
            ctx_param_ext_18318 = ctx_param_ext_tmp_19061;
            ctx_param_ext_18319 = ctx_param_ext_tmp_19062;
            if (memblock_set(ctx, &mem_param_18305, &mem_param_tmp_19063,
                             "mem_param_tmp_19063") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18310, &mem_param_tmp_19064,
                             "mem_param_tmp_19064") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18315, &mem_param_tmp_19065,
                             "mem_param_tmp_19065") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_18320, &mem_param_tmp_19066,
                             "mem_param_tmp_19066") != 0)
                return 1;
        }
        ext_18368 = ctx_param_ext_18301;
        ext_18367 = ctx_param_ext_18302;
        ext_18366 = ctx_param_ext_18303;
        ext_18365 = ctx_param_ext_18304;
        ext_18364 = ctx_param_ext_18306;
        ext_18363 = ctx_param_ext_18307;
        ext_18362 = ctx_param_ext_18308;
        ext_18361 = ctx_param_ext_18309;
        ext_18360 = ctx_param_ext_18311;
        ext_18359 = ctx_param_ext_18312;
        ext_18358 = ctx_param_ext_18313;
        ext_18357 = ctx_param_ext_18314;
        ext_18356 = ctx_param_ext_18316;
        ext_18355 = ctx_param_ext_18317;
        ext_18354 = ctx_param_ext_18318;
        ext_18353 = ctx_param_ext_18319;
        if (memblock_set(ctx, &ext_mem_18352, &mem_param_18305,
                         "mem_param_18305") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18351, &mem_param_18310,
                         "mem_param_18310") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18350, &mem_param_18315,
                         "mem_param_18315") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_18349, &mem_param_18320,
                         "mem_param_18320") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_18048 + i_16517 * n_11006 * (int64_t) 4,
                    ext_mem_18204.mem + ext_18219 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18204, "ext_mem_18204") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_18052 + i_16517 * n_11006 * (int64_t) 4,
                    ext_mem_18203.mem + ext_18215 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18203, "ext_mem_18203") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_18056 + i_16517 * n_11006 * (int64_t) 4,
                    ext_mem_18278.mem + ext_18293 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18278, "ext_mem_18278") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_18060 + i_16517 * n_11006 * (int64_t) 4,
                    ext_mem_18277.mem + ext_18289 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18277, "ext_mem_18277") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_18064 + i_16517 * n_11006 * (int64_t) 4,
                    ext_mem_18352.mem + ext_18367 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18352, "ext_mem_18352") != 0)
            return 1;
        if (n_11006 * (int64_t) 4 > 0)
            memmove(mem_18068 + i_16517 * n_11006 * (int64_t) 4,
                    ext_mem_18351.mem + ext_18363 * (int64_t) 4, n_11006 *
                    (int64_t) 4);
        if (memblock_unref(ctx, &ext_mem_18351, "ext_mem_18351") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_18131, "mem_18131") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18134, "mem_18134") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18137, "mem_18137") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18140, "mem_18140") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18143, "mem_18143") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18146, "mem_18146") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18149, "mem_18149") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18152, "mem_18152") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18223, "mem_18223") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18226, "mem_18226") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18297, "mem_18297") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_18300, "mem_18300") != 0)
        return 1;
    
    float zt_res_15167 = i64_res_14952 * i64_res_14952;
    
    if (mem_18420_cached_sizze_19165 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_18420,
                              &mem_18420_cached_sizze_19165, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18424_cached_sizze_19166 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_18424,
                              &mem_18424_cached_sizze_19166, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_18428_cached_sizze_19167 < bytes_16706) {
        err = lexical_realloc(&ctx->error, &mem_18428,
                              &mem_18428_cached_sizze_19167, bytes_16706);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_16546 = 0; i_16546 < n_11006; i_16546++) {
        for (int64_t i_16536 = 0; i_16536 < m_11007; i_16536++) {
            float x_15174;
            
            x_15174 = ((float *) mem_18048)[i_16536 * n_11006 + i_16546];
            
            float x_15175;
            
            x_15175 = ((float *) mem_18052)[i_16536 * n_11006 + i_16546];
            
            float x_15710;
            
            x_15710 = ((float *) mem_18056)[i_16536 * n_11006 + i_16546];
            
            float x_15711;
            
            x_15711 = ((float *) mem_18060)[i_16536 * n_11006 + i_16546];
            
            float x_16246;
            
            x_16246 = ((float *) mem_18064)[i_16536 * n_11006 + i_16546];
            
            float x_16247;
            
            x_16247 = ((float *) mem_18068)[i_16536 * n_11006 + i_16546];
            
            float zt_res_15176 = i64_res_14952 * x_15174;
            float zs_res_15177 = zt_res_15176 / zt_res_15167;
            float zt_res_15178 = i64_res_14952 * x_15175;
            float zs_res_15179 = zt_res_15178 / zt_res_15167;
            float zt_res_15186 = zs_res_15179 * zs_res_15179;
            float zt_res_15187 = zs_res_15177 * zs_res_15177;
            float zp_res_15188 = zt_res_15186 + zt_res_15187;
            float sqrt_res_15189;
            
            sqrt_res_15189 = futrts_sqrt32(zp_res_15188);
            
            float zt_res_15712 = i64_res_14952 * x_15710;
            float zs_res_15713 = zt_res_15712 / zt_res_15167;
            float zt_res_15714 = i64_res_14952 * x_15711;
            float zs_res_15715 = zt_res_15714 / zt_res_15167;
            float zt_res_15722 = zs_res_15715 * zs_res_15715;
            float zt_res_15723 = zs_res_15713 * zs_res_15713;
            float zp_res_15724 = zt_res_15722 + zt_res_15723;
            float sqrt_res_15725;
            
            sqrt_res_15725 = futrts_sqrt32(zp_res_15724);
            
            float zt_res_16248 = i64_res_14952 * x_16246;
            float zs_res_16249 = zt_res_16248 / zt_res_15167;
            float zt_res_16250 = i64_res_14952 * x_16247;
            float zs_res_16251 = zt_res_16250 / zt_res_15167;
            float zt_res_16258 = zs_res_16251 * zs_res_16251;
            float zt_res_16259 = zs_res_16249 * zs_res_16249;
            float zp_res_16260 = zt_res_16258 + zt_res_16259;
            float sqrt_res_16261;
            
            sqrt_res_16261 = futrts_sqrt32(zp_res_16260);
            ((float *) mem_18420)[i_16546 * m_11007 + i_16536] = sqrt_res_15189;
            ((float *) mem_18424)[i_16546 * m_11007 + i_16536] = sqrt_res_15725;
            ((float *) mem_18428)[i_16546 * m_11007 + i_16536] = sqrt_res_16261;
        }
    }
    if (memblock_alloc(ctx, &mem_18561, bytes_16706, "mem_18561")) {
        err = 1;
        goto cleanup;
    }
    if (n_11006 * m_11007 * (int64_t) 4 > 0)
        memmove(mem_18561.mem + (int64_t) 0, mem_18420 + (int64_t) 0, n_11006 *
                m_11007 * (int64_t) 4);
    if (memblock_alloc(ctx, &mem_18566, bytes_16706, "mem_18566")) {
        err = 1;
        goto cleanup;
    }
    if (n_11006 * m_11007 * (int64_t) 4 > 0)
        memmove(mem_18566.mem + (int64_t) 0, mem_18424 + (int64_t) 0, n_11006 *
                m_11007 * (int64_t) 4);
    if (memblock_alloc(ctx, &mem_18571, bytes_16706, "mem_18571")) {
        err = 1;
        goto cleanup;
    }
    if (n_11006 * m_11007 * (int64_t) 4 > 0)
        memmove(mem_18571.mem + (int64_t) 0, mem_18428 + (int64_t) 0, n_11006 *
                m_11007 * (int64_t) 4);
    if (memblock_set(ctx, &mem_out_18625, &mem_18561, "mem_18561") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_18626, &mem_18566, "mem_18566") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_18627, &mem_18571, "mem_18571") != 0)
        return 1;
    (*mem_out_p_19122).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_19122, &mem_out_18625, "mem_out_18625") !=
        0)
        return 1;
    (*mem_out_p_19123).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_19123, &mem_out_18626, "mem_out_18626") !=
        0)
        return 1;
    (*mem_out_p_19124).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_19124, &mem_out_18627, "mem_out_18627") !=
        0)
        return 1;
    
  cleanup:
    {
        free(mem_16637);
        free(mem_16652);
        free(mem_16667);
        free(mem_16682);
        free(mem_16697);
        free(mem_16700);
        free(mem_16703);
        free(mem_16707);
        free(mem_16711);
        free(mem_16715);
        free(mem_16719);
        free(mem_16723);
        free(mem_16727);
        free(mem_17108);
        free(mem_17123);
        free(mem_17138);
        free(mem_17154);
        free(mem_17158);
        free(mem_17162);
        free(mem_17166);
        free(mem_17170);
        free(mem_17174);
        free(mem_17525);
        free(mem_17540);
        free(mem_17555);
        free(mem_17571);
        free(mem_17575);
        free(mem_17579);
        free(mem_17583);
        free(mem_17587);
        free(mem_17591);
        free(mem_18002);
        free(mem_18017);
        free(mem_18032);
        free(mem_18048);
        free(mem_18052);
        free(mem_18056);
        free(mem_18060);
        free(mem_18064);
        free(mem_18068);
        free(mem_18420);
        free(mem_18424);
        free(mem_18428);
        if (memblock_unref(ctx, &mem_18571, "mem_18571") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18566, "mem_18566") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18561, "mem_18561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19066, "mem_param_tmp_19066") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19065, "mem_param_tmp_19065") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19064, "mem_param_tmp_19064") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19063, "mem_param_tmp_19063") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18320, "mem_param_18320") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18315, "mem_param_18315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18310, "mem_param_18310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18305, "mem_param_18305") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18349, "ext_mem_18349") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18350, "ext_mem_18350") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18351, "ext_mem_18351") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18352, "ext_mem_18352") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19036, "mem_param_tmp_19036") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19035, "mem_param_tmp_19035") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19034, "mem_param_tmp_19034") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19033, "mem_param_tmp_19033") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18246, "mem_param_18246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18241, "mem_param_18241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18236, "mem_param_18236") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18231, "mem_param_18231") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18275, "ext_mem_18275") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18276, "ext_mem_18276") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18277, "ext_mem_18277") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18278, "ext_mem_18278") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19006, "mem_param_tmp_19006") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19005, "mem_param_tmp_19005") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19004, "mem_param_tmp_19004") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_19003, "mem_param_tmp_19003") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18172, "mem_param_18172") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18167, "mem_param_18167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18162, "mem_param_18162") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_18157, "mem_param_18157") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18201, "ext_mem_18201") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18202, "ext_mem_18202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18203, "ext_mem_18203") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_18204, "ext_mem_18204") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18300, "mem_18300") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18297, "mem_18297") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18226, "mem_18226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18223, "mem_18223") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18152, "mem_18152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18149, "mem_18149") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18146, "mem_18146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18143, "mem_18143") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18140, "mem_18140") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18137, "mem_18137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18134, "mem_18134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_18131, "mem_18131") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18946, "mem_param_tmp_18946") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18945, "mem_param_tmp_18945") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18944, "mem_param_tmp_18944") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18943, "mem_param_tmp_18943") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17907, "mem_param_17907") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17902, "mem_param_17902") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17897, "mem_param_17897") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17892, "mem_param_17892") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17932, "ext_mem_17932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17933, "ext_mem_17933") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17934, "ext_mem_17934") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17935, "ext_mem_17935") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18920, "mem_param_tmp_18920") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18919, "mem_param_tmp_18919") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18918, "mem_param_tmp_18918") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18917, "mem_param_tmp_18917") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17837, "mem_param_17837") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17832, "mem_param_17832") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17827, "mem_param_17827") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17822, "mem_param_17822") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17862, "ext_mem_17862") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17863, "ext_mem_17863") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17864, "ext_mem_17864") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17865, "ext_mem_17865") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18894, "mem_param_tmp_18894") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18893, "mem_param_tmp_18893") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18892, "mem_param_tmp_18892") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18891, "mem_param_tmp_18891") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17767, "mem_param_17767") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17762, "mem_param_17762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17757, "mem_param_17757") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17752, "mem_param_17752") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17792, "ext_mem_17792") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17793, "ext_mem_17793") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17794, "ext_mem_17794") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17795, "ext_mem_17795") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17887, "mem_17887") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17884, "mem_17884") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17817, "mem_17817") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17814, "mem_17814") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17747, "mem_17747") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17744, "mem_17744") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17669, "mem_17669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17666, "mem_17666") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17663, "mem_17663") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17660, "mem_17660") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17657, "mem_17657") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17654, "mem_17654") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18844, "mem_param_tmp_18844") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18843, "mem_param_tmp_18843") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18842, "mem_param_tmp_18842") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18841, "mem_param_tmp_18841") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17426, "mem_param_17426") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17421, "mem_param_17421") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17416, "mem_param_17416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17411, "mem_param_17411") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17455, "ext_mem_17455") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17456, "ext_mem_17456") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17457, "ext_mem_17457") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17458, "ext_mem_17458") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18814, "mem_param_tmp_18814") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18813, "mem_param_tmp_18813") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18812, "mem_param_tmp_18812") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18811, "mem_param_tmp_18811") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17352, "mem_param_17352") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17347, "mem_param_17347") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17342, "mem_param_17342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17337, "mem_param_17337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17381, "ext_mem_17381") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17382, "ext_mem_17382") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17383, "ext_mem_17383") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17384, "ext_mem_17384") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18784, "mem_param_tmp_18784") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18783, "mem_param_tmp_18783") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18782, "mem_param_tmp_18782") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18781, "mem_param_tmp_18781") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17278, "mem_param_17278") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17273, "mem_param_17273") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17268, "mem_param_17268") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17263, "mem_param_17263") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17307, "ext_mem_17307") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17308, "ext_mem_17308") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17309, "ext_mem_17309") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17310, "ext_mem_17310") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17406, "mem_17406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17403, "mem_17403") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17332, "mem_17332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17329, "mem_17329") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17258, "mem_17258") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17255, "mem_17255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17252, "mem_17252") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17249, "mem_17249") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17246, "mem_17246") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17243, "mem_17243") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17240, "mem_17240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_17237, "mem_17237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18724, "mem_param_tmp_18724") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18723, "mem_param_tmp_18723") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18722, "mem_param_tmp_18722") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18721, "mem_param_tmp_18721") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17011, "mem_param_17011") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17006, "mem_param_17006") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_17001, "mem_param_17001") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16996, "mem_param_16996") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17038, "ext_mem_17038") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17039, "ext_mem_17039") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17040, "ext_mem_17040") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_17041, "ext_mem_17041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18698, "mem_param_tmp_18698") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18697, "mem_param_tmp_18697") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18696, "mem_param_tmp_18696") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18695, "mem_param_tmp_18695") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16939, "mem_param_16939") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16934, "mem_param_16934") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16929, "mem_param_16929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16924, "mem_param_16924") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16966, "ext_mem_16966") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16967, "ext_mem_16967") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16968, "ext_mem_16968") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16969, "ext_mem_16969") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18672, "mem_param_tmp_18672") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18671, "mem_param_tmp_18671") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18670, "mem_param_tmp_18670") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_18669, "mem_param_tmp_18669") !=
            0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16867, "mem_param_16867") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16862, "mem_param_16862") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16857, "mem_param_16857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_16852, "mem_param_16852") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16894, "ext_mem_16894") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16895, "ext_mem_16895") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16896, "ext_mem_16896") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_16897, "ext_mem_16897") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16991, "mem_16991") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16988, "mem_16988") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16919, "mem_16919") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16916, "mem_16916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16847, "mem_16847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16844, "mem_16844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16805, "mem_16805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16802, "mem_16802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16799, "mem_16799") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16796, "mem_16796") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16793, "mem_16793") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_16790, "mem_16790") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_18627, "mem_out_18627") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_18626, "mem_out_18626") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_18625, "mem_out_18625") != 0)
            return 1;
    }
    return err;
}

int futhark_entry_highpass_filter(struct futhark_context *ctx,
                                  struct futhark_u8_3d **out0, const
                                  int32_t in0, const struct futhark_u8_3d *in1)
{
    int64_t n_11475;
    int64_t m_11476;
    int32_t cutoff_11477;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_18625;
    
    mem_out_18625.references = NULL;
    
    struct memblock img_mem_16634;
    
    img_mem_16634.references = NULL;
    cutoff_11477 = in0;
    img_mem_16634 = in1->mem;
    n_11475 = in1->shape[0];
    m_11476 = in1->shape[1];
    if (!(n_11475 == in1->shape[0] && (m_11476 == in1->shape[1] &&
                                       (int64_t) 3 == in1->shape[2]))) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_highpass_filter(ctx, &mem_out_18625, img_mem_16634,
                                           n_11475, m_11476, cutoff_11477);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_u8_3d *) malloc(sizeof(struct futhark_u8_3d))) !=
                NULL);
            (*out0)->mem = mem_out_18625;
            (*out0)->shape[0] = n_11475;
            (*out0)->shape[1] = m_11476;
            (*out0)->shape[2] = (int64_t) 3;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0,
                       struct futhark_f32_2d **out1,
                       struct futhark_f32_2d **out2, const int32_t in0, const
                       struct futhark_u8_3d *in1)
{
    int64_t n_11006;
    int64_t m_11007;
    int32_t cutoff_11008;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_18627;
    
    mem_out_18627.references = NULL;
    
    struct memblock mem_out_18626;
    
    mem_out_18626.references = NULL;
    
    struct memblock mem_out_18625;
    
    mem_out_18625.references = NULL;
    
    struct memblock img_mem_16634;
    
    img_mem_16634.references = NULL;
    cutoff_11008 = in0;
    img_mem_16634 = in1->mem;
    n_11006 = in1->shape[0];
    m_11007 = in1->shape[1];
    if (!(n_11006 == in1->shape[0] && (m_11007 == in1->shape[1] &&
                                       (int64_t) 3 == in1->shape[2]))) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_18625, &mem_out_18626,
                                &mem_out_18627, img_mem_16634, n_11006, m_11007,
                                cutoff_11008);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_18625;
            (*out0)->shape[0] = n_11006;
            (*out0)->shape[1] = m_11007;
            assert((*out1 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out1)->mem = mem_out_18626;
            (*out1)->shape[0] = n_11006;
            (*out1)->shape[1] = m_11007;
            assert((*out2 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out2)->mem = mem_out_18627;
            (*out2)->shape[0] = n_11006;
            (*out2)->shape[1] = m_11007;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
